(function(e){function t(t){for(var i,a,o=t[0],c=t[1],u=t[2],l=0,d=[];l<o.length;l++)a=o[l],r[a]&&d.push(r[a][0]),r[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);p&&p(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],i=!0,a=1;a<n.length;a++){var o=n[a];0!==r[o]&&(i=!1)}i&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var i={},a={app:0},r={app:0},s=[];function o(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-04381fab":"4fe6a7d2","chunk-10706aa8":"7521ebd7","chunk-34240bd6":"ce1f1fee","chunk-320a892d":"b076d9db","chunk-360d5d85":"6bddb7a3","chunk-411867b2":"3d570cbc","chunk-c28c9896":"2ffe2ba1","chunk-c82de95c":"3b9924df"}[e]+".js"}function c(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-04381fab":1,"chunk-10706aa8":1,"chunk-360d5d85":1,"chunk-411867b2":1,"chunk-c28c9896":1,"chunk-c82de95c":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise(function(t,n){for(var i="css/"+({}[e]||e)+"."+{"chunk-04381fab":"a3e5b1b5","chunk-10706aa8":"7ae70217","chunk-34240bd6":"31d6cfe0","chunk-320a892d":"31d6cfe0","chunk-360d5d85":"e2cd414a","chunk-411867b2":"31b1f98c","chunk-c28c9896":"ccd6faaf","chunk-c82de95c":"df46804b"}[e]+".css",r=c.p+i,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var u=s[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===i||l===r))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){u=d[o],l=u.getAttribute("data-href");if(l===i||l===r)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var i=t&&t.target&&t.target.src||r,s=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=i,delete a[e],p.parentNode.removeChild(p),n(s)},p.href=r;var m=document.getElementsByTagName("head")[0];m.appendChild(p)}).then(function(){a[e]=0}));var i=r[e];if(0!==i)if(i)t.push(i[2]);else{var s=new Promise(function(t,n){i=r[e]=[t,n]});t.push(i[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=o(e),u=function(t){l.onerror=l.onload=null,clearTimeout(d);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+i+": "+a+")");s.type=i,s.request=a,n[1](s)}r[e]=void 0}};var d=setTimeout(function(){u({type:"timeout",target:l})},12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=i,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)c.d(n,i,function(t){return e[t]}.bind(null,i));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var p=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0010":function(e,t,n){"use strict";var i=n("3bac"),a=n.n(i);a.a},"0046":function(e,t,n){},"00b1":function(e,t,n){"use strict";var i=n("c9af"),a=n.n(i);a.a},"0100":function(e,t,n){},"0339":function(e){e.exports={commonBuilding:{id:"c0",title:"安提基特拉機械",name:"風車",point:1,description:"增加生產能力 ， 雖然在外太空中沒有風",parent:"root",children:[{id:"c1",title:"安提基特拉機械",name:"資源傳輸中心",point:1,description:"利用神秘力量，傳送從地球蒐集而來的資源",parent:"c0",children:[{id:"c2",title:"安提基特拉機械",name:"太空溫室農場",point:1,description:"培育養殖糧食作物",parent:"c1",children:[{id:"c4",title:"安提基特拉機械",name:"風車",point:1,description:"研究並分析古希臘安提基特拉機械，獲得建造精密機器人 的能力。靠著這些技術，得以創建用於採集的機器人，文 明開始可以建造資源採集中心。 「明天對於世界而言，永遠是一個奇蹟」—— 柏拉圖",parent:"c2"}]},{id:"c3",title:"安提基特拉機械",name:"發電廠",point:1,description:"研究並分析古希臘安提基特拉機械，獲得建造精密機器人 的能力。靠著這些技術，得以創建用於採集的機器人，文 明開始可以建造資源採集中心。 「明天對於世界而言，永遠是一個奇蹟」—— 柏拉圖",parent:"c1"},{id:"c4",title:"安提基特拉機械",name:"風車",point:1,description:"研究並分析古希臘安提基特拉機械，獲得建造精密機器人 的能力。靠著這些技術，得以創建用於採集的機器人，文 明開始可以建造資源採集中心。 「明天對於世界而言，永遠是一個奇蹟」—— 柏拉圖",parent:"c1"}]}]},militaryBuilding:{id:"c0",title:"安提基特拉機械",name:"風車",point:1,description:"研究並分析古希臘安提基特拉機械，獲得建造精密機器人 的能力。靠著這些技術，得以創建用於採集的機器人，文 明開始可以建造資源採集中心。 「明天對於世界而言，永遠是一個奇蹟」—— 柏拉圖",children:[{id:"c1",title:"安提基特拉機械",name:"風車",point:1,description:"研究並分析古希臘安提基特拉機械，獲得建造精密機器人 的能力。靠著這些技術，得以創建用於採集的機器人，文 明開始可以建造資源採集中心。 「明天對於世界而言，永遠是一個奇蹟」—— 柏拉圖",children:[{id:"c2",title:"安提基特拉機械",name:"風車",point:1,description:"研究並分析古希臘安提基特拉機械，獲得建造精密機器人 的能力。靠著這些技術，得以創建用於採集的機器人，文 明開始可以建造資源採集中心。 「明天對於世界而言，永遠是一個奇蹟」—— 柏拉圖"},{id:"c3",title:"安提基特拉機械",name:"發電廠",point:1,description:"研究並分析古希臘安提基特拉機械，獲得建造精密機器人 的能力。靠著這些技術，得以創建用於採集的機器人，文 明開始可以建造資源採集中心。 「明天對於世界而言，永遠是一個奇蹟」—— 柏拉圖"}]}]},survivalBuilding:{},economicBuilding:{}}},"10f2":function(e,t,n){e.exports=n.p+"img/planet-Info.0d2aff05.png"},"11fc":function(e,t,n){},"137a":function(e,t,n){e.exports=n.p+"img/old-man.3b788fd0.png"},1493:function(e,t,n){e.exports=n.p+"img/touch-dot.cc0e2bce.png"},"182c":function(e,t,n){"use strict";var i=n("27fb"),a=n.n(i);a.a},"198f":function(e,t,n){e.exports=n.p+"img/book-inactive.125f6116.png"},"19ff0":function(e,t,n){"use strict";var i=n("0046"),a=n.n(i);a.a},"1dbd":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dialog-root",style:e.dialogData[e.currentScenes].position,on:{click:function(t){return e.$emit("nextScenes","dialog")}}},[i("div",{staticClass:"dialog-wrapper",style:e.dialogData[e.currentScenes].style},[i("span",[e._v("拉維多長老")]),e._l(e.dialogData[e.currentScenes].messageArray,function(t){return[i("p",[e._v(e._s(t))])]}),i("i",{style:{"background-image":"url("+n("1493")+")"}}),i("div",[i("img",{attrs:{src:n("137a")}})])],2)])},a=[],r=(n("c5f6"),{props:{currentScenes:Number},data:function(){return{dialogData:[{position:{bottom:"130px"},style:{height:"82px"},messageArray:["歡迎來到XXX星球，","我接下來將一步一步帶領你","建造屬於自己的星球文明。"]},{position:{bottom:"130px"},style:{height:"64px"},messageArray:["請先點擊下方建造按鈕，","進行建築的興建。"]},{position:{bottom:"34px"},style:{height:"82px"},messageArray:["這裡是建造頁面，","顯示可建造建築的資訊，","以及需要花費的時間與資源。"]},{position:{bottom:"34px"},style:{height:"60px"},messageArray:["請先點擊「建造該建築」按鈕，","讓我們來建造「科研中心」吧！"]},{position:{bottom:"130px"},style:{height:"82px"},messageArray:["點擊地圖上其中一個位置，","並點擊下方的「建造」按鈕，","即可進行建造。"]},{position:{bottom:"130px"},style:{height:"64px"},messageArray:["等待建造時間結束後，","再點擊「建造完成」即可完成。"]},{position:{bottom:"130px"},style:{height:"64px"},messageArray:["現在你已經擁有「科研中心」，","接著請點擊圖面上「科研中心」建築。"]},{position:{bottom:"130px"},style:{height:"82px"},messageArray:["下方左側顯示該建築的名稱，","右側具有「升級」與「建築功能」按鈕，","請先點擊星號「建築功能」按鈕。"]},{position:{bottom:"34px"},style:{height:"107px"},messageArray:["每個建築的功能不一樣，","由「科研中心」為例，","其功能為研發新科技，","並且解鎖各種建築物的建造能力。"]},{position:{bottom:"34px"},style:{height:"82px"},messageArray:["科技研發必須從上而下，","具備必備科技後才能發展更高階的技術，","讓我們先點擊上面第二個圖示吧！"]},{position:{bottom:"34px"},style:{height:"82px"},messageArray:["點擊「進行研發」，","將可以對「安提基特拉機械」做研究，","並且獲得建造「資源傳輸中心」的能力。"]},{position:{bottom:"130px"},style:{height:"64px"},messageArray:["點擊「離開」，","返回遊戲主畫面。"]},{position:{bottom:"130px"},style:{height:"64px"},messageArray:["現在請再次點擊「建造」按鈕，","讓我們來興建「資源採集中心」。"]},{position:{bottom:"34px"},style:{height:"82px"},messageArray:["點擊下方的縮圖即可切換建築，","找到「資源採集中心」，","並且按下「建造該建築」吧！"]},{position:{bottom:"130px"},style:{height:"82px"},messageArray:["點擊地圖上其中還沒有建築的位置，","並點擊下方的「建造」按鈕，","即可進行建造。"]},{},{},{},{},{position:{bottom:"130px"},style:{height:"82px"},messageArray:["由於外太空缺乏一些地球才有的資源，","我們需要嘗試回到地球探勘並且採集，","請點擊下方的「採集」按鈕。"]},{position:{bottom:"130px"},style:{height:"82px"},messageArray:["目前在地球上的波波拉，","狀態趨緩不再失控，","我們可以在您所在的格子上進行資源採集。"]},{position:{bottom:"130px"},style:{height:"101px"},messageArray:["左上方為待命中的採集機器人數量，","與玩家資源存量。","當仍有剩餘的採集機器人時，","即可進行採集功能。"]},{position:{bottom:"130px"},style:{height:"64px"},messageArray:["現在請先點擊定位點所在的格子，","下方將會顯示該格的地表資訊。"]},{position:{bottom:"130px"},style:{height:"64px"},messageArray:["接下來按下「進行採集」按鈕，","將可進行採集。"]},{position:{bottom:"130px"},style:{height:"64px"},messageArray:["這樣就採集成功了！","現在請再點選一次定位點所在的格子。"]},{position:{bottom:"130px"},style:{height:"115px"},messageArray:["採集成功後，你會得到基本資源，","並且該格會進入冷卻時間、","採集機器人也會減少一個，","該格在冷卻結束前，","無法再對此格進行採集。"]},{position:{bottom:"130px"},style:{height:"82px"},messageArray:["不過若有剩餘的採集機器人，","仍可走到其他格子，","對其他格子進行採集。"]},{position:{bottom:"130px"},style:{height:"101px"},messageArray:["此外，若該格被採集者們採集殆盡，","該格的波波拉將會失控，","無法再度採集資源，","須等待資源重生後，才可以進行採集。"]},{position:{bottom:"130px"},style:{height:"64px"},messageArray:["新手引導到此結束，","請按右上角X，返回星球"]}]}}}),s=r,o=(n("489e"),n("2877")),c=Object(o["a"])(s,i,a,!1,null,"87e4814a",null);t["a"]=c.exports},"1dd5":function(e,t,n){"use strict";var i=n("cd15"),a=n.n(i);a.a},"20ec":function(e,t,n){e.exports=n.p+"img/collect.25cbaf7b.png"},"27fb":function(e,t,n){},2976:function(e,t,n){},2995:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"build-mode"},[i("p",[e._v("請點擊地盤興建建築")]),e.isErr?i("div",{staticClass:"err-msg"},[i("p",[e._v("此地盤已有建築或位於地圖邊緣，無法興建")])]):e._e(),i("div",{staticClass:"button-group"},[i("div",[i("button",{staticClass:"icon-button",style:{"background-image":"url("+n("69e9")+")"},on:{click:e.close}}),i("span",[e._v("離開")])]),i("div",[i("button",{staticClass:"icon-button",style:{"background-image":"url("+n("c8c8")+")"},on:{click:e.build}}),i("span",[e._v("建造")])])])])},a=[],r=(n("7f7f"),n("96cf"),n("3b8d")),s={props:{building:Object},data:function(){return{isErr:!1,module:null}},created:function(){var e=this;n.e("chunk-34240bd6").then(n.bind(null,"3fa0")).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.module=n,e.module.gameFunction.setIsOnBuildMode(!0);case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},methods:{build:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=this,n={id:this.building.id,name:this.building.name,coordinateX:this.module.Obj.lastCoordinateX,coordinateY:this.module.Obj.lastCoordinateY,status:"ing",finishTime:this.setDelayTime(this.building.buildTime)},e.next=5,this.module.gameFunction.checkIfCanBuild(n.coordinateX,n.coordinateY,n.id);case 5:t.$store.dispatch("user/spendResources",{resources:this.building.resources}).then(Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.$store.dispatch("planet/buildBuilding",{pid:t.$store.getters["user/getCurrentPlanetId"],building:n,token:t.$store.getters["user/getToken"]}));case 1:case"end":return e.stop()}},e)}))).then(Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.module.gameFunction.createBuilding("b0",n,!1));case 1:case"end":return e.stop()}},e)}))).then(function(){t.module.gameFunction.setIsOnBuildMode(!1),t.module.gameFunction.scene.tileGroup.getChildren().map(function(e){return e.clearTint()})}).then(function(){return t.close()}).then(function(){return t.$emit("build","建造下去")}).catch(console.log),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),this.isErr=!e.t0,setTimeout(function(){i.isErr=!i.isErr},1e3);case 12:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}(),close:function(){this.$emit("close")},setDelayTime:function(e){var t=60*e*1e3,n=Date.now(),i=n+t;return i}}},o=s,c=(n("00b1"),n("2877")),u=Object(c["a"])(o,i,a,!1,null,"8a347358",null);t["a"]=u.exports},"29cf":function(e,t,n){},"2a26":function(e,t,n){"use strict";var i=n("efec"),a=n.n(i);a.a},"2a61":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"menu-wrapper"},[n("transition-group",{staticClass:"menu-transition-wrapper",attrs:{name:"menu",tag:"div"}},e._l(e.features,function(t,i){return e.isModalOpen?n("div",{key:t.title+"-"+i,staticClass:"menu-item"},["採集"===t.title?n("router-link",{staticClass:"icon-button",style:{"background-image":"url("+t.icon+")"},attrs:{tag:"button",to:"/collect"},nativeOn:{click:function(t){return e.phaserInputDisabled(t)}}}):n("button",{staticClass:"icon-button",style:{"background-image":"url("+t.icon+")"},on:{click:function(n){return e.openModal(t.title)}}}),n("label",[e._v(e._s(t.title))])],1):e._e()}),0)],1)},a=[],r=(n("96cf"),n("3b8d")),s={props:{isModalOpen:Boolean},data:function(){return{features:[{title:"倉庫",icon:n("bc8d")},{title:"採集",icon:n("20ec")},{title:"建造",icon:n("5bbc")},{title:"任務",icon:n("96b1")},{title:"商城",icon:n("5e73")}],module:null}},created:function(){var e=this;n.e("chunk-34240bd6").then(n.bind(null,"3fa0")).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.module=n;case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},computed:{},methods:{openModal:function(e){this.$emit("openModal",e)},phaserInputDisabled:function(){this.module.gameFunction.scene.input.enabled=!1}}},o=s,c=(n("35a2"),n("2877")),u=Object(c["a"])(o,i,a,!1,null,"1605af1b",null);t["a"]=u.exports},"2adb":function(e,t,n){},"2b45":function(e,t,n){},"2df3":function(e,t,n){},"2f92":function(e,t,n){},"32d4":function(e,t,n){},3433:function(e,t,n){e.exports=n.p+"img/power-plant.545199bf.png"},"35a2":function(e,t,n){"use strict";var i=n("2f92"),a=n.n(i);a.a},3693:function(e,t,n){"use strict";var i=n("de03"),a=n.n(i);a.a},3851:function(e,t,n){e.exports=n.p+"img/resource-transfer-locked.571d6547.png"},3896:function(e,t,n){e.exports=n.p+"img/steel.380c4283.png"},"3bac":function(e,t,n){},"3e96":function(e,t,n){"use strict";var i=n("2adb"),a=n.n(i);a.a},4561:function(e,t,n){e.exports=n.p+"img/cat-rare.0ae817bf.png"},"45fc":function(e,t,n){},4770:function(e,t,n){"use strict";var i=n("45fc"),a=n.n(i);a.a},"489e":function(e,t,n){"use strict";var i=n("937d"),a=n.n(i);a.a},"48b0":function(e,t,n){e.exports=n.p+"img/audio-bgm.59540b57.png"},"4a3a":function(e){e.exports={commonBuilding:[{id:"c0",name:"windmill",name_zh:"風車",level:1,description:"增加生產能力 ， 雖然在外太空中沒有風",nextLevelId:"none",feature:{title:"科研技能樹",component:"architectureTechnology"},cost:"1200",resources:[{type:"木頭",amount:300},{type:"鋼鐵",amount:200},{type:"銅礦",amount:100}],buff:[{title:"供給能量",value:3e3},{title:"增加經濟指數",value:100}],motion:{type:"dynamic",rate:5},grid:{row:1,column:1},buildTime:.15},{id:"c1",name:"resourceTransfer",name_zh:"資源傳輸中心",description:"利用神秘力量，傳送從地球蒐集而來的資源",level:1,nextLevelId:"none",cost:"1200",resources:[{type:"木頭",amount:300},{type:"石頭",amount:300},{type:"鋼鐵",amount:20},{type:"銅礦",amount:100},{type:"墨金屬",amount:300},{type:"氪金屬",amount:100},{type:"鍨金屬",amount:20}],motion:{type:"dynamic",rate:25},grid:{row:1,column:2},buildTime:.2},{id:"c2",name:"greenHouse",name_zh:"太空溫室農場",description:"培育養殖糧食作物",level:1,nextLevelId:"none",cost:"1200",resources:[{type:"木頭",amount:300},{type:"石頭",amount:300},{type:"鋼鐵",amount:20}],motion:{type:"dynamic",rate:25},grid:{row:1,column:2},buildTime:.5},{id:"c3",name:"powerPlant",name_zh:"發電廠",description:"利用神秘力量，產生星球所需的能量",level:1,nextLevelId:"none",cost:"1200",resources:[{type:"木頭",amount:300},{type:"石頭",amount:300},{type:"鋼鐵",amount:20},{type:"銅礦",amount:100},{type:"墨金屬",amount:300},{type:"氪金屬",amount:100},{type:"鍨金屬",amount:20}],motion:{type:"dynamic",rate:30},grid:{row:1,column:1},buildTime:1},{id:"c4",name:"stonePortal",name_zh:"巨石陣傳送門",description:"傳送到主星",level:1,nextLevelId:"none",cost:"1200",resources:[{type:"木頭",amount:300},{type:"石頭",amount:300},{type:"鋼鐵",amount:20}],motion:{type:"dynamic",rate:30},grid:{row:1,column:1},buildTime:.2},{id:"c5",name:"warehouse",name_zh:"倉庫",description:"存放資源的場所，塞不下的時候記得升級或者多蓋幾間喔！",level:1,nextLevelId:"none",cost:"1200",resources:[{type:"木頭",amount:300},{type:"石頭",amount:300},{type:"鋼鐵",amount:20},{type:"銅礦",amount:100}],motion:{type:"dynamic",rate:25},grid:{row:1,column:1},buildTime:.3}],buildProcess:[{id:"b0",name:"buildProcess1x1",motion:{type:"dynamic",rate:30},grid:{row:1,column:1},intro:"正在建造中"},{id:"b1",name:"buildCompleted1x1",motion:{type:"dynamic",rate:30},grid:{row:1,column:1},intro:"建造完成"}]}},"4a80":function(e,t,n){},"4f4f":function(e,t,n){e.exports=n.p+"img/city-chaser-icon.a78cabb1.png"},"52c4":function(e,t,n){e.exports=n.p+"img/wood.729f1784.png"},5683:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"user-panel"},[i("div",{staticClass:"user-info"},[i("div",{staticClass:"avatar",on:{click:e.openModal}},[i("div",{staticClass:"portrait"})]),i("div",{staticClass:"name-group"},[i("div",{staticClass:"username"},[i("p",[e._v(e._s(e.user.username))]),i("label",{staticClass:"nickname"},[e._v(e._s(e.user.nickname))])]),i("div",{staticClass:"lv-info"},[i("span",[e._v(e._s(e.planet.name))]),i("span",[e._v("Level. "+e._s(e.planet.level))])])])]),"Game"===e.mode?i("div",{staticClass:"info-group"},[i("div",{staticClass:"charge-panel"},[i("i",{style:{"background-image":"url("+n("73eb")+")"}}),i("span",[e._v(e._s(e.user.diamond))]),i("i")]),i("div",{staticClass:"charge-panel"},[i("i",{style:{"background-image":"url("+n("8e4c")+")"}}),i("span",[e._v(e._s(e.user.coin))]),i("i")]),i("div",{staticClass:"planet-info",on:{click:function(t){e.isPlanetInfoOpen=!e.isPlanetInfoOpen}}},[i("div",{staticClass:"drop-down-wrapper",class:{"drop-down--wrap-border":!e.isPlanetInfoOpen}},[e._v("星球資訊"),i("i",{style:{transform:e.isPlanetInfoOpen?"rotate(0deg)":"rotate(180deg)"}})]),e.isPlanetInfoOpen?i("div",{staticClass:"drop-down-list"},e._l(e.planet.indexes,function(t,n){return i("div",[i("i"),i("span",[e._v(e._s(n))]),i("span",[e._v(e._s(t))])])}),0):e._e()])]):e._e(),"Game"===e.mode?i("div",{staticClass:"button-group"},[i("i",{staticClass:"flag",on:{click:e.backToOrig}}),i("router-link",{staticClass:"back",attrs:{tag:"i",to:"/home"},nativeOn:{click:function(t){return e.backToPlanetScene(t)}}})],1):e._e()])},a=[],r=(n("96cf"),n("3b8d")),s={props:{mode:String,user:Object,planet:Object},data:function(){return{module:null,isPlanetInfoOpen:!1}},beforeCreate:function(){var e=this;n.e("chunk-34240bd6").then(n.bind(null,"3fa0")).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.module=n;case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},created:function(){var e=parseInt(this.planet.indexes["人口成長"]);this.planet.indexes["人口成長"]=e>=0?"+".concat(e,"/hr"):"-".concat(e,"/hr")},methods:{openModal:function(){this.$emit("openModal","user-profile")},backToOrig:function(){this.module.gameFunction.backToOrig()},backToPlanetScene:function(){this.module.gameFunction.backToPlanetScene()}}},o=s,c=(n("baaa"),n("2877")),u=Object(c["a"])(o,i,a,!1,null,"3eea42a4",null);t["a"]=u.exports},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"game-container"}}),n("router-view")],1)},r=[],s={beforeMount:function(){var e=this;Promise.all([n.e("chunk-34240bd6"),n.e("chunk-320a892d")]).then(n.bind(null,"8fd0")).then(function(t){e.$nextTick(function(){return t.launch()})})}},o=s,c=(n("5c0b"),n("2877")),u=Object(c["a"])(o,a,r,!1,null,null,null),l=u.exports,d=(n("96cf"),n("3b8d")),p=n("2f62"),m=n("75fc"),h=(n("ac4d"),n("8a81"),n("456d"),n("ac6a"),n("7514"),n("734c")),f={token:localStorage.getItem("token")||"",isInBeginningStory:!1,isBeginner:!0,username:"陳大明",nickname:"星際拓荒者",coin:2920,diamond:120,resourceMax:3e3,detectRange:3,collectAbility:100,collectWeights:[{type:"木頭",weights:1},{type:"石頭",weights:.8},{type:"鋼鐵",weights:.5},{type:"銅礦",weights:.2}],collectorMax:2,coolDownGrid:[],resources:[{type:"木頭",amount:1e3},{type:"石頭",amount:1e3},{type:"鋼鐵",amount:1e3},{type:"銅礦",amount:1e3},{type:"墨金屬",amount:1e3},{type:"鍨金屬",amount:1e3},{type:"氪金屬",amount:1e3},{type:"銝金屬",amount:1e3}],storyMissions:[{id:"m0",state:2,firstRead:!1},{id:"m1",state:2,firstRead:!1},{id:"m2",state:1,firstRead:!0},{id:"m3",state:0,firstRead:!0},{id:"m4",state:0,firstRead:!1}],baggage:[{id:"b0",name_zh:"薛丁格的貓一般"},{id:"b0",name_zh:"薛丁格的貓一般"},{id:"b1",name_zh:"薛丁格的貓稀有"},{id:"b1",name_zh:"薛丁格的貓稀有"},{id:"b1",name_zh:"薛丁格的貓稀有"},{id:"b2",name_zh:"薛丁格的貓史詩"},{id:"b0",name_zh:"薛丁格的貓一般"}],achievements:[{title:"星際拓荒者",brief:"擁有第一個星球",state:!0},{title:"星際開墾者",brief:"擁有第二個星球",state:!1}],planets:[{pid:1,state:!0},{pid:2,state:!1}],planetList:[]},g={getToken:function(){return f.token},getCurrentPlanetId:function(){var e=f.planets.find(function(e){return!0===e.state});if(e)return e.pid},getIsInBeginningStory:function(){return f.isInBeginningStory},getIsBeginner:function(){return f.isBeginner}},v={SET_USER:function(e,t){Object.keys(t).forEach(function(n){e[n]=t[n]})},COMPLETE_BEGINNINGSTORY:function(e){e.isInBeginningStory=!1},COMPLETE_BEGINNER:function(e){e.isBeginner=!1},SET_DIAMOND:function(e,t){e.diamond=t},SET_TOKEN:function(e,t){localStorage.setItem("token",t),e.token=t},SET_FIRSTREAD:function(e,t){e.storyMissions[t].firstRead=!1},SPEND_RESOURCES:function(e,t){var n=!0,i=!1,a=void 0;try{for(var r,s=function(){var t=r.value;e.resources.map(function(e){e.type===t.type&&(e.amount-=t.amount)})},o=t[Symbol.iterator]();!(n=(r=o.next()).done);n=!0)s()}catch(c){i=!0,a=c}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}},ADD_RESOURCES:function(e,t){var n=!0,i=!1,a=void 0;try{for(var r,s=function(){var t=r.value;e.resources.map(function(e){e.type===t.type&&(e.amount+=t.amount)})},o=t[Symbol.iterator]();!(n=(r=o.next()).done);n=!0)s()}catch(c){i=!0,a=c}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}},ADD_COOLDOWNGRID:function(e,t){e.coolDownGrid.push(t)},CHECK_USER_COOLDOWN:function(e){e.coolDownGrid=e.coolDownGrid.filter(function(e){return e.finishTime>=Date.now()})},SET_PLANETLIST:function(e,t){e.planetList=Object(m["a"])(t)}},b={login:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(h["a"])("/user/login",{method:"post",data:JSON.stringify(n)});case 3:return i=e.sent,t.commit("SET_TOKEN",i.data.token),t.commit("SET_USER",i.data),console.log(i),e.abrupt("return",!0);case 10:throw e.prev=10,e.t0=e["catch"](0),console.log(e.t0),e.t0;case 14:case"end":return e.stop()}},e,null,[[0,10]])}));function t(t,n){return e.apply(this,arguments)}return t}(),register:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(h["a"])("/user/register",{method:"post",data:JSON.stringify(n)});case 3:return i=e.sent,t.commit("SET_TOKEN",i.data.token),t.commit("SET_USER",i.data),console.log("result:"+i),e.abrupt("return",!0);case 10:throw e.prev=10,e.t0=e["catch"](0),console.log("enter catch in axios register"),console.log(e.t0),e.t0;case 15:case"end":return e.stop()}},e,null,[[0,10]])}));function t(t,n){return e.apply(this,arguments)}return t}(),completeBeginningStory:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.commit("COMPLETE_BEGINNINGSTORY"),e.next=4,Object(h["a"])("/user/isInBeginningStory",{headers:{Authorization:t.state.token},method:"patch"});case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e["catch"](0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));function t(t){return e.apply(this,arguments)}return t}(),completeBeginner:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,t.commit("COMPLETE_BEGINNER"),e.next=7;break;case 4:throw e.prev=4,e.t0=e["catch"](0),e.t0;case 7:case"end":return e.stop()}},e,null,[[0,4]])}));function t(t){return e.apply(this,arguments)}return t}(),spendDiamond:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!(t.state.diamond>=n.diamond)){e.next=7;break}return i=t.state.diamond-n.diamond,e.next=5,Object(h["a"])("/user/diamond",{headers:{Authorization:t.state.token},method:"patch",data:JSON.stringify(i)});case 5:return t.commit("SET_DIAMOND",i),e.abrupt("return",!0);case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e["catch"](0),e.t0;case 12:case"end":return e.stop()}},e,null,[[0,9]])}));function t(t,n){return e.apply(this,arguments)}return t}(),getUserData:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(h["a"])("/user",{headers:{Authorization:t.state.token},method:"get"});case 3:return n=e.sent,t.commit("SET_USER",n.data),e.abrupt("return",!0);case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])}));function t(t){return e.apply(this,arguments)}return t}(),spendResources:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.commit("SPEND_RESOURCES",n.resources),e.next=4,Object(h["a"])("/user/resources",{headers:{Authorization:t.state.token},method:"patch",data:JSON.stringify({resources:t.state.resources})});case 4:return e.abrupt("return",!0);case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}));function t(t,n){return e.apply(this,arguments)}return t}(),collectResources:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.commit("ADD_RESOURCES",n),e.next=4,Object(h["a"])("/user/resources",{headers:{Authorization:t.state.token},method:"patch",data:JSON.stringify({resources:t.state.resources})});case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e["catch"](0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));function t(t,n){return e.apply(this,arguments)}return t}(),collectCoolDown:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.commit("ADD_COOLDOWNGRID",n),e.next=4,Object(h["a"])("/user/coolDownGrid",{headers:{Authorization:t.state.token},method:"post",data:JSON.stringify({gridData:n})});case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e["catch"](0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));function t(t,n){return e.apply(this,arguments)}return t}(),getPlanetList:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(h["a"])("/user/planetList",{headers:{Authorization:t.state.token},method:"get"});case 3:return i=e.sent,console.log(i),t.commit("SET_PLANETLIST",i.data),e.abrupt("return",!0);case 9:throw e.prev=9,e.t0=e["catch"](0),e.t0;case 12:case"end":return e.stop()}},e,null,[[0,9]])}));function t(t,n){return e.apply(this,arguments)}return t}()},_={namespaced:!0,state:f,getters:g,mutations:v,actions:b},y=n("5a62"),w={planetList:[{pid:1,name:"哈馬特爾斯拉",type:"赫克斯",level:1,experience:120,nextLevel:300,image:n("edcf"),positionX:23.505,positionY:120.385,indexes:{"特色發展":"軍事","能量狀態":"平衡","糧食狀態":"足夠","人口成長":2}},{pid:2,name:"哈瑪",level:1,experience:120,nextLevel:300,image:n("697a"),positionX:20.505,positionY:100.385,indexes:{"特色發展":"生存","能量狀態":"平衡","人口成長":2}}]},x={getPlanetList:function(){return w.planetList}},k={},O={},C={namespaced:!0,state:w,getters:x,mutations:k,actions:O},T={respawnTime:1e4,mapGridData:[{type:"Feature",properties:{maxLat:23,maxLng:120.22,name:"test",density:50,respawnTime:null,storages:[{type:"木頭",amount:0},{type:"石頭",amount:0},{type:"鋼鐵",amount:0},{type:"銅礦",amount:10}]},geometry:{type:"Polygon",coordinates:[[[120.22,23],[120.21,23],[120.21,22.99],[120.22,22.99],[120.22,23]]]}},{type:"Feature",properties:{maxLat:23.01,maxLng:120.22,name:"test",density:300,respawnTime:1559051361732,storages:[{type:"木頭",amount:2e3},{type:"石頭",amount:1600},{type:"鋼鐵",amount:1e3},{type:"銅礦",amount:400}]},geometry:{type:"Polygon",coordinates:[[[120.22,23.01],[120.21,23.01],[120.21,23],[120.22,23],[120.22,23.01]]]}},{type:"Feature",properties:{maxLat:23.02,maxLng:120.23,name:"test",density:300,respawnTime:null,storages:[{type:"木頭",amount:100},{type:"石頭",amount:0},{type:"鋼鐵",amount:100},{type:"銅礦",amount:0}]},geometry:{type:"Polygon",coordinates:[[[120.23,23.02],[120.22,23.02],[120.22,23.01],[120.23,23.01],[120.23,23.02]]]}},{type:"Feature",properties:{maxLat:23,maxLng:120.24,name:"test",density:32,respawnTime:null,storages:[{type:"木頭",amount:2e3},{type:"石頭",amount:1600},{type:"鋼鐵",amount:1e3},{type:"銅礦",amount:400}]},geometry:{type:"Polygon",coordinates:[[[120.24,23],[120.23,23],[120.23,22.99],[120.24,22.99],[120.24,23]]]}}]},I={getMapGridData:function(e){return e.mapGridData},getRespawnTime:function(e){return e.respawnTime}},S={SET_MAPGRIDDATA:function(e,t){e.mapGridData=Object(m["a"])(t)},ADD_GRIDDATA:function(e,t){e.mapGridData.push(t)},FILTER_MAPGRIDDATA:function(e){e.mapGridData=e.mapGridData.filter(function(e){var t=e.properties.storages.filter(function(e){return e.amount>0}).length;if(0!==t)return null===e.properties.respawnTime||e.properties.respawnTime>Date.now()})},COST_RESOURCES:function(e,t){var n=t.gridData,i=t.resources;n.properties.storages.forEach(function(e,t){e.type===i[t].type&&(e.amount-=i[t].amount)})},RESPAWN_GRIDDATA:function(e,t){t.properties.respawnTime=Date.now()+e.respawnTime}},E={getMapGridData:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(h["a"])("/map",{method:"get"});case 3:n=e.sent,t.commit("SET_MAPGRIDDATA",n.data),e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}));function t(t){return e.apply(this,arguments)}return t}(),costResources:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.commit("COST_RESOURCES",n),e.next=4,Object(h["a"])("/map",{method:"post",data:JSON.stringify({gridData:n.gridData})});case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e["catch"](0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));function t(t,n){return e.apply(this,arguments)}return t}(),respawnGridData:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,console.log(n),t.commit("RESPAWN_GRIDDATA",n),e.next=5,Object(h["a"])("/map",{method:"patch",data:JSON.stringify({gridData:n})});case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}));function t(t,n){return e.apply(this,arguments)}return t}()},D={namespaced:!0,state:T,getters:I,mutations:S,actions:E};i["a"].use(p["a"]);var M=new p["a"].Store({modules:{user:_,planet:y["default"],planetList:C,map:D}}),B=n("8c4f"),j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"game-root"}},[e.isOnBuildMode?e._e():n("user-panel",{attrs:{user:e.user,planet:e.planet,mode:"Game"},on:{openModal:e.openModal}}),e.isOnBuildMode||e.isSelectBuilding?e.isSelectBuilding?n("building-info",{attrs:{building:e.selectedBuilding},on:{openModal:e.openModal,close:e.close}}):e._e():n("feature-menu",{staticClass:"feature-menu",attrs:{isModalOpen:!e.isModalOpen},on:{openModal:e.openModal}}),n("transition",{attrs:{name:"modal"}},[e.isModalOpen?n("modal-card",{on:{close:e.close}},["user-profile"===e.currentOpen?n("user-profile",{attrs:{slot:"card",user:e.user},slot:"card"}):e._e(),"建築升級"===e.currentOpen?n("building-upgrade",{attrs:{slot:"card",building:e.selectedBuilding},slot:"card"}):e._e(),"建築功能"===e.currentOpen?n("building-feature",{attrs:{slot:"card",building:e.selectedBuilding,planet:e.planet},slot:"card"}):e._e(),"建造"===e.currentOpen?n("building",{attrs:{slot:"card",user:e.user},on:{onBuildMode:e.onBuildMode},slot:"card"}):e._e(),"倉庫"===e.currentOpen?n("warehouse",{attrs:{slot:"card",user:e.user},slot:"card"}):e._e(),"任務"===e.currentOpen?n("mission",{attrs:{slot:"card",user:e.user,planet:e.planet},slot:"card"}):e._e()],1):e._e()],1),e.isOnBuildMode?n("build-mode",{attrs:{building:e.selectedBuilding},on:{close:e.close}}):e._e()],1)},R=[],A=n("cebc"),L=n("5683"),z=n("2a61"),$=n("fabc"),P=n("fde0"),N=n("c3bb"),G=n("2995"),F=n("cd0a"),U=n("ea8d"),q=n("9f25"),J=n("a3eb"),W=n("8e2c"),X={name:"Game",components:{FeatureMenu:z["a"],UserPanel:L["a"],ModalCard:$["a"],UserProfile:P["a"],Building:N["a"],BuildMode:G["a"],BuildingInfo:F["a"],BuildingUpgrade:U["a"],Warehouse:q["a"],Mission:J["a"],BuildingFeature:W["a"]},data:function(){return{selectedId:"",isModalOpen:!1,currentOpen:"",downloaded:!1,isOnBuildMode:!1,module:null,isSelectBuilding:!1,selectedBuilding:""}},mounted:function(){var e=this;this.$store.watch(function(e,t){return t},function(t,n){e.isSelectBuilding=t["planet/getIsSelectBuilding"],e.selectedBuilding=t["planet/getBuildElement"]},{deep:!0})},created:function(){var e=this;n.e("chunk-34240bd6").then(n.bind(null,"3fa0")).then(function(){var t=Object(d["a"])(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.module=n;case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},methods:{openModal:function(e){this.isModalOpen=!0,this.isOnBuildMode=!1,this.currentOpen=e},close:function(){this.isModalOpen=!1,this.isOnBuildMode=!1,this.$store.commit("planet/SET_ISSELECTBUILDING",!1)},onBuildMode:function(e){this.isModalOpen=!1,this.isOnBuildMode=!0,this.selectedBuilding=e}},watch:{isModalOpen:function(){this.module.gameFunction.scene.input.enabled=!this.isModalOpen}},computed:Object(A["a"])({},Object(p["e"])("user",{user:function(e){return e}}),Object(p["e"])("planet",{planet:function(e){return e.planet}}))},Y=X,V=(n("8e44"),Object(c["a"])(Y,j,R,!1,null,"2805a022",null)),H=V.exports,K=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"collect-root"},[0===e.isCatchLocation?i("div",{staticClass:"cover-layer",attrs:{id:"scan-anim-layer"}},[i("video",{attrs:{width:"350",height:"360",playsinline:"",autoplay:"",muted:"",loop:""},domProps:{muted:!0}},[i("source",{attrs:{src:n("5cd0"),type:"video/webm"}})]),i("div",{staticStyle:{"font-weight":"700"}},[e._v("掃描地表資源中...")])]):-1===e.isCatchLocation?i("div",{staticClass:"cover-layer",attrs:{id:"error-layer"}},[i("div",[e._v("抓不到定位，請檢查裝置定位")]),i("router-link",{staticStyle:{"font-weight":"700"},attrs:{tag:"div",to:"/game"}},[e._v("回到遊戲主畫面")])],1):i("collect-panel",{class:{"pointer-active":e.userData.isBeginner},style:{"pointer-events":e.userData.isBeginner?"none":"all"},attrs:{user:e.userData,collectionInfo:e.collectionInfo,isCollectable:e.isCollectable},on:{collect:e.ifCollectable}}),i("div",{attrs:{id:"mapid"}}),e.userData.isBeginner?i("Dialog",{staticClass:"dialog",attrs:{currentScenes:e.currentScenes+20},on:{nextScenes:e.nextScenes}}):e._e()],1)},Z=[],Q=n("e11e"),ee=n.n(Q),te=n("1dbd"),ne=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"collect-panel-root"},[e.robotIsOpen?i("modal-card",{staticClass:"modal",on:{close:function(t){e.robotopen()}}},[i("robot-info",{attrs:{slot:"card"},on:{closeRobot:function(t){e.robotopen()}},slot:"card"})],1):e._e(),i("div",{staticClass:"user-resources-wrapper"},[i("div",{staticClass:"charge-panel"},[i("i",{style:{"background-image":"url("+n("a71d")+")"},on:{click:function(t){return e.robotopen()}}}),i("span",[e._v("2")]),i("i")]),i("div",[i("h6",[e._v("玩家資源存量")]),i("div",e._l(e.user.resources.slice(0,4),function(t){return i("div",[i("i",{style:{"background-image":"url("+e.transformImage(t.type)+")"}}),i("span",[e._v(e._s(t.amount))])])}),0)])]),e._m(0),i("div",{staticClass:"leave"},[i("router-link",{staticClass:"icon-button",attrs:{tag:"button",to:"/game"}})],1),i("div",{staticClass:"collection-info"},[e.collectionInfo?i("div",[i("div",[i("div",[i("h5",[e._v("座標 ("+e._s(e.collectionInfo.maxLat)+", "+e._s(e.collectionInfo.maxLng)+")")]),e.remainingTime.coolDownTime?i("span",[e._v("冷卻中 : "+e._s(e.remainingTime.coolDownTime))]):e._e()]),e.remainingTime.respawnTime?i("div",{staticClass:"respawn-msg"},[i("span",[e._v("波波拉失控區域，等待資源重生中...")]),i("span",[e._v("重生剩餘時間: "+e._s(e.remainingTime.respawnTime))])]):i("div",{staticClass:"collection-resource"},e._l(e.collectionInfo.storages,function(t){return i("div",[i("i",{style:{"background-image":"url("+e.transformImage(t.type)+")"}}),i("span",[e._v(e._s(t.amount))])])}),0)]),!e.isCollectable||e.remainingTime.coolDownTime||e.remainingTime.respawnTime?i("button",{staticClass:"button-default",style:{opacity:"0.5"}},[e._v("進行採集")]):i("button",{staticClass:"button-default",on:{click:function(t){return e.$emit("collect")}}},[e._v("進行採集")])]):i("h4",[e._v("點擊地圖框格檢視地表資訊")])])],1)},ie=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"button-group"},[n("i"),n("i")])}],ae=(n("f576"),n("8e58")),re=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"robot-root"},[e._m(0),i("div",[i("p",[e._v(e._s(e.content))]),i("img",{attrs:{src:n("a71d")}})]),e._m(1),i("div",[i("div",{staticClass:"waiting",class:{"cool-down":!0}},[i("img",{attrs:{src:n("9a5f")}}),i("p",[e._v("冷卻中 01:10")])]),i("div",{staticClass:"waiting",class:{"cool-down":!1}},[i("img",{attrs:{src:n("a71d")}}),i("p",[e._v("待命中")])])]),e._m(2),i("button",{staticClass:"leave-btn",on:{click:function(t){return e.$emit("closeRobot")}}})])},se=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("K-bot")]),n("h5",[e._v("擁有數： 2")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"heading-default"},[n("h4",[e._v("採集器狀態")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("button",[e._v("直接結束冷卻")])])}],oe=n("7c8e"),ce={components:{ModalCardContent:oe["a"]},data:function(){return{robotpage:!0,content:"一隻貓被鎖在一個箱子中 ， 箱中的貓同時既是活 ， 也是死 。 當箱子打開時 ， 此量子疊加狀態瓦解 ； 在那瞬間這隻貓是被毒死 ， 或得以保命。"}},created:function(){console.log("i am robot")}},ue=ce,le=(n("fcf7"),Object(c["a"])(ue,re,se,!1,null,"5bdd7da3",null)),de=le.exports,pe={props:{user:Object,collectionInfo:Object,isCollectable:Boolean,robotOpen:Boolean},components:{ModalCard:$["a"],RobotInfo:de},data:function(){return{transformImage:ae["a"],remainingTime:{coolDownTime:null,respawnTime:null},coolDownTimer:null,respawnTimer:null,module:null,robotIsOpen:!1}},created:function(){var e=this;n.e("chunk-34240bd6").then(n.bind(null,"3fa0")).then(function(){var t=Object(d["a"])(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.module=n;case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},methods:{sleep:function(e){return new Promise(function(t){return setTimeout(t,e)})},countdown:function(e,t){var n=Date.parse(new Date(e)),i=Date.parse(new Date),a=n-i,r=parseInt(a/1e3/60/60/24),s=String(parseInt(a/1e3/60/60%24)).padStart(2,"0"),o=String(parseInt(a/1e3/60%60)).padStart(2,"0"),c=String(parseInt(a/1e3%60)).padStart(2,"0");this.remainingTime[t]=r>0?"".concat(r,"天"):"",this.remainingTime[t]+="".concat(s,":").concat(o,":").concat(c),a<=0&&(clearInterval(this.coolDownTimer),clearInterval(this.respawnTimer),this.remainingTime[t]=null)},phaserInputEnabled:function(){this.module.gameFunction.scene.input.enabled=!0},robotopen:function(){this.robotIsOpen=!this.robotIsOpen}},watch:{collectionInfo:function(){var e=this;if(void 0!==this.collectionInfo){clearInterval(this.coolDownTimer),clearInterval(this.respawnTimer);var t=this.user.coolDownGrid.find(function(t){return t.maxLat===e.collectionInfo.maxLat&&t.maxLng===e.collectionInfo.maxLng});t?(this.countdown(t.finishTime,"coolDownTime"),this.coolDownTimer=setInterval(this.countdown,1e3,t.finishTime,"coolDownTime")):this.remainingTime.coolDownTime=null,this.collectionInfo.respawnTime?(this.countdown(this.collectionInfo.respawnTime,"respawnTime"),this.respawnTimer=setInterval(this.countdown,1e3,this.collectionInfo.respawnTime,"respawnTime")):this.remainingTime.respawnTime=null}}}},me=pe,he=(n("19ff0"),Object(c["a"])(me,ne,ie,!1,null,"c37a9404",null)),fe=he.exports,ge={name:"Collect",components:{CollectPanel:fe,Dialog:te["a"]},data:function(){return{isCatchLocation:0,mymap:null,watcher:null,options:{enableHighAccuracy:!1,timeout:1e4,maximumAge:0,distanceFilter:1},lat:null,lng:null,marker:null,geojson:null,locationGridArr:[],collectionInfo:void 0,isCollectable:!1,module:null,robotIsOpen:!0,currentScenes:0,actions:["dialog","dialog","gridData","採集","gridData","dialog","dialog","dialog"]}},beforeMount:function(){navigator.geolocation.getCurrentPosition(this.drawMap,this.error,this.options),this.watcher=navigator.geolocation.watchPosition(this.update,this.updateError,this.options)},created:function(){var e=this;n.e("chunk-34240bd6").then(n.bind(null,"3fa0")).then(function(){var t=Object(d["a"])(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.module=n;case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},beforeDestroy:function(){navigator.geolocation.clearWatch(this.watcher),this.module.gameFunction.scene.input.enabled=!0},computed:Object(A["a"])({},Object(p["e"])("user",{userData:function(e){return e}}),Object(p["c"])("map",{mapGridData:"getMapGridData",getRespawnTime:"getRespawnTime"})),methods:Object(A["a"])({},Object(p["d"])("user",["CHECK_USER_COOLDOWN"]),Object(p["b"])("user",["collectCoolDown","completeBeginner"]),Object(p["d"])("map",["FILTER_MAPGRIDDATA","ADD_GRIDDATA"]),Object(p["b"])("map",["costResources","respawnGridData"]),{drawMap:function(e){var t=this;setTimeout(function(){t.isCatchLocation=1},2e3),this.lat=e.coords.latitude,this.lng=e.coords.longitude,this.mymap&&this.mymap.remove(),this.mymap=ee.a.map("mapid",{center:[this.lat,this.lng],zoom:16,zoomControl:!1}),ee.a.tileLayer("https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,minZoom:8,errorTilrUrl:"http://bpic.588ku.com/element_pic/16/12/07/706f7ff4f15725b17ba1d30d384e6468.jpg",id:"mapbox.streets",accessToken:"pk.eyJ1IjoibGVva3VvMDcyNCIsImEiOiJjanZ6YzltbXUwcDVoM3pyNmI0aGp5N29tIn0.xjdaery7ZqnxkZhbktidYQ"}).addTo(this.mymap);var i=ee.a.icon({iconUrl:n("e76f"),iconSize:[50,50],iconAnchor:[25,50]});this.marker=ee.a.marker([this.lat,this.lng],{icon:i}).addTo(this.mymap),this.drawGeoJSON()},error:function(e){console.warn("ERROR("+e.code+"): "+e.message),this.isCatchLocation=-1},updateError:function(e){console.warn("ERROR("+e.code+"): "+e.message)},update:function(e){this.lat=e.coords.latitude,this.lng=e.coords.longitude,this.marker.setLatLng([this.lat,this.lng]),this.geojson&&this.geojson.addData(this.createVisiableAreaData())},drawGeoJSON:function(){this.geojson=ee.a.geoJSON(this.createVisiableAreaData(),{style:this.style,onEachFeature:this.onEachFeature}).addTo(this.mymap);for(var e=0;e<this.locationGridArr.length;e++)this.updateLocalGeoJson(this.locationGridArr[e])},createVisiableAreaData:function(){var e=this;this.geojson&&(this.geojson.clearLayers(),this.collectionInfo=void 0,this.isCollectable=!0),this.locationGridArr=[],this.CHECK_USER_COOLDOWN(),this.FILTER_MAPGRIDDATA();for(var t=Math.ceil(100*this.lat)/100,n=Math.ceil(100*this.lng)/100,i=.01,a=Math.floor(this.userData.detectRange/2),r=-a;r<=a;r++)for(var s=function(a){var s=Math.round(100*(t+r*i))/100,o=Math.round(100*(n+a*i))/100,c=e.mapGridData.find(function(e){return e.properties.maxLat===s&&e.properties.maxLng===o});if(c)e.locationGridArr.push(c);else{var u={type:"Feature",properties:{maxLat:s,maxLng:o,name:"test",density:0,respawnTime:null,storages:[{type:"木頭",amount:2e3},{type:"石頭",amount:1600},{type:"鋼鐵",amount:1e3},{type:"銅礦",amount:400}]},geometry:{type:"Polygon",coordinates:[[[o,s],[o-i,s],[o-i,s-i],[o,s-i],[o,s]]]}};e.locationGridArr.push(u)}},o=-a;o<=a;o++)s(o);return this.locationGridArr},style:function(e){var t=0;return e.properties.storages.map(function(e){t+=e.amount}),{fillColor:this.getColor(100*t/5e3),weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.2}},getColor:function(e){return e<10?"#680A64":e<20?"#8A2584":e<40?"#A842A4":e<60?"#C964C5":e<80?"#E881E4":e<100?"#FCA8FA":"#FEDDFD"},highlightFeature:function(e){var t=Math.ceil(100*this.lat)/100,n=Math.ceil(100*this.lng)/100,i=e.target;if(this.userData.isBeginner){if(i.feature.properties.maxLat!==t||i.feature.properties.maxLng!==n)return;if(!this.nextScenes("gridData"))return}this.mymap.fitBounds(e.target.getBounds()),this.geojson.setStyle({weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.2}),i.setStyle({weight:3,color:"#666",dashArray:"",fillOpacity:.3}),ee.a.Browser.ie||ee.a.Browser.opera||ee.a.Browser.edge||i.bringToFront(),i.feature.properties.maxLat===t&&i.feature.properties.maxLng===n?this.isCollectable=!0:this.isCollectable=!1,this.collectionInfo=i.feature.properties},onEachFeature:function(e,t){t.on({click:this.highlightFeature})},ifCollectable:function(){var e=Math.ceil(100*this.lat)/100,t=Math.ceil(100*this.lng)/100;this.CHECK_USER_COOLDOWN();var n=this.userData.collectorMax-this.userData.coolDownGrid.length;if(n>0){console.log("收集器足夠");var i=this.userData.coolDownGrid.some(function(n){return n.maxLat===e&&n.maxLng===t});i?console.log("還在冷卻"):this.collect()}else console.log("收集器不夠")},collect:function(){if(!this.userData.isBeginner||this.nextScenes("採集")){var e=Math.ceil(100*this.lat)/100,t=Math.ceil(100*this.lng)/100;this.collectCoolDown({maxLat:e,maxLng:t,finishTime:Date.now()+1e4});var n=this.mapGridData.find(function(n){return n.properties.maxLat===e&&n.properties.maxLng===t});if(n)n.properties.density++,this.storageToResource(n);else{var i=.01,a={type:"Feature",properties:{maxLat:e,maxLng:t,name:"test",density:0,respawnTime:null,storages:[{type:"木頭",amount:2e3},{type:"石頭",amount:1600},{type:"鋼鐵",amount:1e3},{type:"銅礦",amount:400}]},geometry:{type:"Polygon",coordinates:[[[t,e],[t-i,e],[t-i,e-i],[t,e-i],[t,e]]]}};a.properties.density++,this.ADD_GRIDDATA(a),this.storageToResource(a)}this.centerOn()}},storageToResource:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){var n,i,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=this.userData,i=t.properties.storages,a=[],i.forEach(function(e,t){var i=n.collectAbility*n.collectWeights[t].weights;e.amount-i<0&&(i=e.amount),a.push({type:e.type,amount:i})}),e.next=6,this.costResources({gridData:t,resources:a});case 6:return e.next=8,this.$store.dispatch("user/collectResources",a);case 8:this.geojson.addData(this.createVisiableAreaData()),this.shutdownGrid(t);case 10:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),shutdownGrid:function(e){var t=this,n=e.properties.storages.filter(function(e){return e.amount>0}).length;0===n&&(this.respawnGridData(e),setTimeout(function(){t.geojson.addData(t.createVisiableAreaData())},this.getRespawnTime))},centerOn:function(){this.mymap.panTo([this.lat,this.lng])},updateLocalGeoJson:function(e){var t=this;if(null!==e.properties.respawnTime&&e.properties.respawnTime>=Date.now()){console.log("大於");var n=e.properties.respawnTime-Date.now();setTimeout(function(){t.geojson.addData(t.createVisiableAreaData())},n)}},nextScenes:function(e){var t=this;return console.log(e),this.actions[this.currentScenes]===e&&(7===this.currentScenes&&(console.log("here"),this.completeBeginner().then(function(){t.$router.push("/game")})),this.currentScenes+=1,!0)}})},ve=ge,be=(n("97c0"),Object(c["a"])(ve,K,Z,!1,null,"56827834",null)),_e=be.exports,ye=n("80cd");i["a"].use(B["a"]);var we=new B["a"]({routes:[{path:"/",name:"StartAnim",component:function(){return n.e("chunk-04381fab").then(n.bind(null,"ad0b"))}},{path:"/login",name:"Login",component:function(){return n.e("chunk-c28c9896").then(n.bind(null,"a55b"))}},{path:"/register",name:"Register",component:function(){return n.e("chunk-360d5d85").then(n.bind(null,"73cf"))}},{path:"/home",name:"Home",component:function(){return n.e("chunk-411867b2").then(n.bind(null,"bb51"))},beforeEnter:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n,i){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.dispatch("user/getUserData");case 3:return e.next=5,M.dispatch("planet/getPlanetData",{pid:M.getters["user/getCurrentPlanetId"],token:M.getters["user/getToken"]});case 5:i(),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0),i({path:"/login"});case 12:case"end":return e.stop()}},e,null,[[0,8]])}));function t(t,n,i){return e.apply(this,arguments)}return t}()},{path:"/game",name:"Game",component:H,beforeEnter:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,i,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.dispatch("user/getUserData");case 3:return e.next=5,M.dispatch("planet/getPlanetData",{pid:M.getters["user/getCurrentPlanetId"],token:M.getters["user/getToken"]});case 5:ye["a"].ChangeScene(),n.e("chunk-34240bd6").then(n.bind(null,"3fa0")).then(function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.getBuildingMap(M.getters["planet/getScale"],M.getters["planet/getBuildingMap"]);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),a(),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0),a({path:"/login"});case 14:case"end":return e.stop()}},e,null,[[0,10]])}));function t(t,n,i){return e.apply(this,arguments)}return t}()},{path:"/beginning_story",name:"BeginningStory",component:function(){return n.e("chunk-10706aa8").then(n.bind(null,"15f2"))}},{path:"/beginner_guide",name:"BeginnerGuide",component:function(){return n.e("chunk-c82de95c").then(n.bind(null,"fb0d"))}},{path:"/collect",name:"Collect",component:_e,beforeEnter:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n,i){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.dispatch("user/getUserData");case 3:return e.next=5,M.dispatch("map/getMapGridData");case 5:i(),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));function t(t,n,i){return e.apply(this,arguments)}return t}()}]}),xe=n("9483");Object(xe["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var ke=n("e8cc"),Oe=n.n(ke);n("6cc5");i["a"].config.productionTip=!1,i["a"].component("vue-bar",Oe.a),new i["a"]({router:we,store:M,render:function(e){return e(l)}}).$mount("#app")},"5a62":function(e,t,n){"use strict";n.r(t);n("20d6"),n("7f7f"),n("96cf");var i=n("3b8d"),a=(n("28a5"),n("456d"),n("ac6a"),n("734c")),r=n("4a3a"),s={buildingElement:"",isSelectBuilding:!1,planet:{pid:1,type:"",name:"哈馬特爾斯拉",level:1,experience:120,nextLevel:300,image:n("edcf"),positionX:23.505,positionY:120.385,architectureTechnologyPoint:1,architectureTechnology:{commonBuilding:{},militaryBuilding:{},survivalBuilding:{},economicBuilding:{}},scale:3,buildingMap:[],indexes:{"特色發展":"軍事","能量狀態":"平衡","糧食狀態":"足夠","人口成長":2}}},o={getPlanetId:function(){return s.planet.pid},getArchitectureTechnology:function(){return s.planet.architectureTechnology},getScale:function(){return s.planet.scale},getBuildingMap:function(){return s.planet.buildingMap},getBuildElement:function(){return s.buildingElement},getIsSelectBuilding:function(){return s.isSelectBuilding}},c={SET_PLANET:function(e,t){Object.keys(t).forEach(function(n){"_id"!==n?e.planet[n]=t[n]:e.planet.pid=t._id})},SET_ISSELECTBUILDING:function(e,t){e.isSelectBuilding=t},SET_BUILDINGMAP:function(e,t){console.log("push"),e.planet.buildingMap.push(t)},SET_BUILDINGSTATUS:function(e,t){e.planet.buildingMap[t].status="done"},REMOVE_BUILDING:function(e,t){e.planet.buildingMap.splice(t,1)},SET_ARCHITECTURETECHNOLOGT:function(e,t){e.planet.architectureTechnology[t.type][t.id]=!0},setBuildingElement:function(e,t){if(s.isSelectBuilding=t,null!==e){var n=e.id.split("")[0],i=e.id.split("")[1];switch(n){case"c":s.buildingElement=r.commonBuilding[i];break;default:break}s.buildingElement.status=e.status,s.buildingElement.coordinateX=e.coordinateX,s.buildingElement.coordinateY=e.coordinateY,s.buildingElement.finishTime=e.finishTime}}},u={AddPlanet:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(a["a"])("/planet",{headers:{Authorization:n.token},method:"post",data:JSON.stringify({type:n.type,name:n.name})});case 3:return i=e.sent,t.commit("SET_PLANET",i.data),e.abrupt("return",!0);case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])}));function t(t,n){return e.apply(this,arguments)}return t}(),getPlanetData:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(a["a"])("/planet/".concat(n.pid),{headers:{Authorization:n.token},method:"get"});case 3:return i=e.sent,t.commit("SET_PLANET",i.data),e.abrupt("return",!0);case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])}));function t(t,n){return e.apply(this,arguments)}return t}(),buildBuilding:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,console.log("build"),e.next=4,Object(a["a"])("/planet/building",{headers:{Authorization:n.token},method:"post",data:JSON.stringify({pid:n.pid,building:n.building})});case 4:return t.commit("SET_BUILDINGMAP",n.building),e.abrupt("return",!0);case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])}));function t(t,n){return e.apply(this,arguments)}return t}(),haveBuiltBuilding:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){var i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,i=n.building.coordinateX,r=n.building.coordinateY,s=t.state.planet.buildingMap.findIndex(function(e){return e.coordinateX===i&&e.coordinateY===r}),e.next=6,Object(a["a"])("/planet/building",{headers:{Authorization:n.token},method:"patch",data:JSON.stringify({pid:t.state.planet.pid,index:s})});case 6:return t.mutations.SET_BUILDINGSTATUS(t.state,s),e.abrupt("return",!0);case 10:throw e.prev=10,e.t0=e["catch"](0),e.t0;case 13:case"end":return e.stop()}},e,null,[[0,10]])}));function t(t,n){return e.apply(this,arguments)}return t}(),removeBuilding:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){var i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,i=n.building.coordinateX,r=n.building.coordinateY,s=t.state.planet.buildingMap.findIndex(function(e){return e.coordinateX===i&&e.coordinateY===r}),e.next=6,Object(a["a"])("/planet/building",{headers:{Authorization:n.token},method:"delete",data:JSON.stringify({pid:t.state.planet.pid,index:s})});case 6:return t.commit("REMOVE_BUILDING",s),e.abrupt("return",!0);case 10:throw e.prev=10,e.t0=e["catch"](0),e.t0;case 13:case"end":return e.stop()}},e,null,[[0,10]])}));function t(t,n){return e.apply(this,arguments)}return t}(),devArchitectureTechnology:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){var i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,i=n.id.split("")[0],e.t0=i,e.next="c"===e.t0?5:"m"===e.t0?7:"s"===e.t0?9:"e"===e.t0?11:13;break;case 5:return i="commonBuilding",e.abrupt("break",14);case 7:return i="militaryBuilding",e.abrupt("break",14);case 9:return i="survivalBuilding",e.abrupt("break",14);case 11:return i="economicBuilding",e.abrupt("break",14);case 13:return e.abrupt("break",14);case 14:return r={pid:t.state.planet.pid,type:i,id:n.id},t.commit("SET_ARCHITECTURETECHNOLOGT",r),e.next=18,Object(a["a"])("/planet/architectureTechnology",{headers:{Authorization:n.token},method:"patch",data:JSON.stringify(r)});case 18:return e.abrupt("return",!0);case 21:throw e.prev=21,e.t1=e["catch"](0),e.t1;case 24:case"end":return e.stop()}},e,null,[[0,21]])}));function t(t,n){return e.apply(this,arguments)}return t}()};t["default"]={namespaced:!0,state:s,getters:o,mutations:c,actions:u}},"5a80":function(e,t,n){e.exports=n.p+"img/cat-normal.7b42db39.png"},"5bbc":function(e,t,n){e.exports=n.p+"img/build.c7eeb6d4.png"},"5c0b":function(e,t,n){"use strict";var i=n("5e27"),a=n.n(i);a.a},"5cd0":function(e,t,n){e.exports=n.p+"media/scanning.2dfc76a1.webm"},"5d06":function(e,t,n){},"5e27":function(e,t,n){},"5e73":function(e,t,n){e.exports=n.p+"img/gift.7079a58d.png"},"697a":function(e,t,n){e.exports=n.p+"img/planet-2.a4b0dbda.png"},"69e9":function(e,t,n){e.exports=n.p+"img/leave-cross.36dc453a.png"},"734c":function(e,t,n){"use strict";var i=n("bc3a"),a=n.n(i),r={baseURL:"https://kyronus.herokuapp.com/",headers:{"Content-Type":"text/plain"},withCredentials:!0},s=a.a.create(r);s.defaults.timeout=5e3,s.interceptors.request.use(function(e){return e}),s.interceptors.response.use(function(e){return e}),t["a"]=s},"73eb":function(e,t,n){e.exports=n.p+"img/diamond.afe7d94e.png"},7680:function(e,t,n){"use strict";var i=n("d373"),a=n.n(i);a.a},"76c5":function(e,t,n){e.exports=n.p+"img/stone-portal-locked.9e9a396d.png"},"79ef":function(e,t,n){e.exports=n.p+"img/windmill.b17e739a.png"},"7c8e":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-content"},[e._t("card"),n("button",{staticClass:"leave-btn",on:{click:function(t){return e.$emit("close")}}})],2)},a=[],r={},s=r,o=(n("1dd5"),n("2877")),c=Object(o["a"])(s,i,a,!1,null,"7eef2aa4",null);t["a"]=c.exports},"7d2e":function(e,t,n){e.exports=n.p+"img/green-house.bb71c3f1.png"},"80cd":function(e,t,n){"use strict";var i=n("d225"),a=n("b0b4"),r=n("308d"),s=n("6bb5"),o=n("4e2b"),c=n("64b8"),u=n.n(c),l=n("f0d4"),d=n.n(l),p=window.innerHeight,m=window.innerWidth,h=new u.a.Geom.Rectangle(-150,0,m,p/8),f=new u.a.Geom.Rectangle(0,p,m,p/9),g={x:0,y:-100,emitZone:{type:"random",source:h},radial:!1,angle:{min:0,max:360},scale:.1,blendMode:"ADD",lifespan:1500,speedX:{min:200,max:400},speedY:{min:500,max:800},maxVelocityX:200,maxVelocityY:600,frequency:1500,deathZone:{type:"onEnter",source:f}},v=function(){function e(t){Object(i["a"])(this,e),this.scene=t}return Object(a["a"])(e,[{key:"addRain",value:function(){var e=this.scene.add.particles("Star");e.createEmitter(g),this.scene.WeatherGroup.add(e)}}]),e}();n.d(t,"a",function(){return b}),n.d(t,"b",function(){return _});var b={},_=function(e){function t(){return Object(i["a"])(this,t),Object(r["a"])(this,Object(s["a"])(t).call(this,"PlanetScene"))}return Object(o["a"])(t,e),Object(a["a"])(t,[{key:"init",value:function(){var e=this;b.SwitchPlanet=function(t){console.log(e.PlanetLightTween),e.tweens.add({targets:[e.planet,e.planetLight],duration:500,alpha:0,ease:"Quad.easeOut"});var n=window.innerHeight,i=window.innerWidth;e.planet.destroy(),e.planetLight.destroy(),e.planet=e.add.sprite(i/2,n/2.35,"planet-2")},b.ChangeScene=function(){e.scene.transition({target:"PlayScene",duration:0,sleep:!0})},b.CameraFadeIn=function(){e.cameras.main.fadeIn(2e3)},this.weather=new v(this),this.backgroundGroup=new d.a(this.game,void 0,"Backgrond"),this.buildGroup=new d.a(this.game,void 0,"Building"),this.WeatherGroup=new d.a(this.game,void 0,"Weather"),this.star=[]}},{key:"create",value:function(){console.log("PlanetScene create");var e=window.innerHeight,t=window.innerWidth;this.background=this.add.tileSprite(t/2,e/2,t,e,"bg"),this.weather.addRain(),this.planetLight=this.add.sprite(t/2,e/2.35,"planet-1-light"),this.planet=this.add.sprite(t/2,e/2.35,"planet-1"),this.planetLight.alpha=.6,this.PlanetLightTween=this.tweens.add({targets:[this.planetLight],duration:1700,alpha:1,ease:"Quad.easeOut",repeat:-1,yoyo:!0}),this.star[0]=this.add.sprite(.05*t,1/7*e,"Star"),this.star[1]=this.add.sprite(.125*t,2/7*e,"Star"),this.star[2]=this.add.sprite(.9*t,1.2/7*e,"Star"),this.star[3]=this.add.sprite(1.1/5*t,5.5/7*e,"Star"),this.star[4]=this.add.sprite(4.4/5*t,6.1/7*e,"Star");for(var n=0;n<5;n++)this.star[n].scaleX=.1+n/50,this.star[n].scaleY=.1+n/50,this.star[n].alpha=.3+n/10,this.tweens.add({targets:this.star[n],duration:2e3+200*n,alpha:1,ease:"Quad.easeOut",repeat:-1,yoyo:!0});this.cameras.main.fadeIn(2e3),console.log("PS");var i=this.sound.add("bgm");i.loop=1/0,i.play()}},{key:"update",value:function(){this.background.tilePositionX+=.1}},{key:"EnterPlanet",value:function(){console.log(t),this.cameras.main.fadeOut(2e3),this.cameras.main.zoomTo(2.5,3e3)}}]),t}(c["Scene"])},"833d":function(e,t,n){},"83c5":function(e,t,n){},8506:function(e,t,n){"use strict";var i=n("9224"),a=n.n(i);a.a},8654:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tab-root"},[n("div",{staticClass:"nav"},e._l(e.navList,function(t){return n("span",{style:t===e.currentMenu?"opacity: 1":"opacity: 0.4",on:{click:function(n){return e.switchMenu(t)}}},[e._v(e._s(t))])}),0),e._t("content")],2)},a=[],r={props:{navList:Array},data:function(){return{currentMenu:this.navList[0]}},methods:{switchMenu:function(e){this.currentMenu=e,this.$emit("switchMenu",e)}}},s=r,o=(n("adbf"),n("2877")),c=Object(o["a"])(s,i,a,!1,null,"19f82bf4",null);t["a"]=c.exports},"866b":function(e,t,n){e.exports=n.p+"img/book-active.d8da195f.png"},8696:function(e,t,n){e.exports=n.p+"img/windmill-locked.c8f0d34f.png"},"8cf1":function(e,t,n){e.exports=n.p+"img/power-plant-locked.c8b2a7dd.png"},"8e2c":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"buildgin-feature-root"},[(e.building.feature.component="architectureTechnology")?n("architecture-technology-center",{attrs:{planet:e.planet},on:{nextScenes:e.nextScenes}}):e._e()],1)},a=[],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tab",{staticClass:"architecture-technology-center-root",class:e.isSelect?"row-gap-31":"row-gap-45",attrs:{navList:e.navList},on:{switchMenu:e.switchMenu}},[n("div",{attrs:{slot:"content"},slot:"content"},[e.isSelect?e._e():n("skills-tree",{attrs:{skillsInfo:e.buildings[e.currentMenu],planet:e.planet},on:{"click-node":e.clickNode}}),e.isSelect?n("architecture-technology-detail",{attrs:{archiTech:e.selectedNode},on:{back:e.back,nextScenes:e.nextScenes}}):e._e(),n("span",{staticClass:"point"},[e._v("科研點數 : "+e._s(e.planet.architectureTechnologyPoint))])],1)])},s=[],o=(n("7f7f"),n("8654")),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"skills-tree-root"},[e.treeData.name?n("table",[n("tr",[n("td",{class:{extend:e.treeData.children&&e.treeData.extend},attrs:{colspan:e.treeData.children?2*e.treeData.children.length:1}},[n("div",{staticClass:"node"},[n("div",{staticClass:"skill",on:{click:function(t){return e.clickNode(e.treeData)}}},[n("div",{class:{unlocked:!e.treeData.isLocked}},[n("img",{attrs:{src:e.showIamge(e.treeData)}})])])])])]),e.treeData.children&&e.treeData.extend?n("tr",e._l(e.treeData.children,function(t,i){return n("td",{key:i,staticClass:"childLevel",attrs:{colspan:"2"}},[n("skills-tree",{attrs:{skillsInfo:t,planet:e.planet},on:{"click-node":function(t){return e.clickNode(t)}}})],1)}),0):e._e()]):e._e()])},u=[],l=(n("ac6a"),n("28a5"),n("8e58")),d={name:"SkillsTree",props:{planet:Object,skillsInfo:Object},data:function(){return{transformImage:l["a"],treeData:{}}},methods:{clickNode:function(e){e.canOpen&&this.$emit("click-node",e)},showIamge:function(e){return e.isLocked?n("198f"):n("866b")}},watch:{skillsInfo:{handler:function(e){var t=this,n=function e(n){var i=n.id.split("")[0];switch(i){case"c":i="commonBuilding";break;default:break}var a=t.planet.architectureTechnology;return n.isLocked=!a[i][n.id],n.canOpen=!1,"root"===n.parent&&(n.canOpen=!0),a[i][n.parent]&&(n.canOpen=!0),n.extend=void 0===n.extend||!!n.extend,Array.isArray(n.children)&&n.children.forEach(function(t){e(t)}),n};e&&(this.treeData=n(e))},immediate:!0}}},p=d,m=(n("bab7"),n("2877")),h=Object(m["a"])(p,c,u,!1,null,"0c53723b",null),f=h.exports,g=n("0339"),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"architecture-technology-deatail-root"},[n("div",[n("div",{staticClass:"image-container"},[n("div",{class:{unlocked:!e.archiTech.isLocked}},[n("img",{attrs:{src:e.showIamge(e.archiTech.isLocked)}})])]),n("div",[n("h4",[e._v(e._s(e.archiTech.title))]),n("span",[e._v("研發所需點數 : "+e._s(e.archiTech.point))]),n("span",[e._v("狀態："+e._s(e.archiTech.isLocked?"未解鎖":"已解鎖"))])])]),n("div",[e._m(0),n("div",{staticClass:"content"},[n("p",[e._v(e._s(e.archiTech.description))]),n("div",[n("img",{attrs:{src:e.transformImage(e.archiTech.name)}})])])]),n("div",[n("span",{on:{click:e.back}},[e._v("返回上頁")]),e.archiTech.isLocked?n("span",{on:{click:function(t){return e.devArchiTech(e.archiTech.id)}}},[e._v("進行研發")]):e._e()])])},b=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"heading-default"},[n("h4",[e._v("研發影響")])])}],_=(n("96cf"),n("3b8d")),y=n("cebc"),w=n("2f62"),x={props:{archiTech:Object},data:function(){return{transformImage:l["a"]}},computed:Object(y["a"])({},Object(w["c"])("user",{token:"getToken"})),methods:Object(y["a"])({},Object(w["b"])("planet",["devArchitectureTechnology"]),{showIamge:function(e){return n(e?"198f":"866b")},back:function(){this.$emit("back")},devArchiTech:function(){var e=Object(_["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.$emit("nextScenes","進行研發"),e.next=3,this.devArchitectureTechnology({token:this.token,id:t});case 3:this.back();case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()})},k=x,O=(n("c99b"),Object(m["a"])(k,v,b,!1,null,"c89d17b2",null)),C=O.exports,T={components:{SkillsTree:f,Tab:o["a"],ArchitectureTechnologyDetail:C},props:{planet:Object},data:function(){return{navList:["通用科研","軍事科研","經濟科研","生存科研"],currentMenu:"通用科研",buildings:{"通用科研":g.commonBuilding,"軍事科研":g.militaryBuilding,"經濟科研":g.economicBuilding,"生存科研":g.survivalBuilding},isSelect:!1,selectedNode:""}},methods:{switchMenu:function(e){this.isSelect=!1,this.currentMenu=e,this.$forceUpdate()},clickNode:function(e){this.isSelect=!0,this.selectedNode=e,this.nextScenes(e.name)},back:function(){this.isSelect=!1},nextScenes:function(e){this.$emit("nextScenes",e)}}},I=T,S=(n("cf61"),Object(m["a"])(I,r,s,!1,null,"69c2b444",null)),E=S.exports,D={components:{ArchitectureTechnologyCenter:E},props:{planet:Object,building:Object},data:function(){return{}},methods:{nextScenes:function(e){this.$emit("nextScenes",e)}}},M=D,B=(n("e64d"),Object(m["a"])(M,i,a,!1,null,"16719ef4",null));t["a"]=B.exports},"8e44":function(e,t,n){"use strict";var i=n("cf6e"),a=n.n(i);a.a},"8e4c":function(e,t,n){e.exports=n.p+"img/coin.5737092f.png"},"8e58":function(e,t,n){"use strict";function i(e){switch(e){case"赫克斯":return n("edcf");case"奎奈爾":return n("697a");case"金幣":return n("8e4c");case"鑽石":return n("73eb");case"石頭":return n("f33f");case"木頭":return n("52c4");case"鋼鐵":return n("3896");case"銅礦":return n("f944");case"墨金屬":return n("a542");case"氪金屬":return n("f3f5");case"銝金屬":return n("b81d");case"鍨金屬":return n("ef73");case"巨石陣傳送門":return n("b820");case"風車":return n("79ef");case"太空溫室農場":return n("7d2e");case"發電廠":return n("3433");case"資源傳輸中心":return n("aab1");case"倉庫":return n("9e69");case"薛丁格的貓一般":return n("5a80");case"薛丁格的貓稀有":return n("4561");case"薛丁格的貓史詩":return n("e2c8");default:break}}function a(e){switch(e){case"巨石陣傳送門":return n("76c5");case"風車":return n("8696");case"太空溫室農場":return n("f61c");case"發電廠":return n("8cf1");case"資源傳輸中心":return n("3851");default:break}}n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a})},9224:function(e,t,n){},"937d":function(e,t,n){},"96b1":function(e,t,n){e.exports=n.p+"img/mission.aaddf59c.png"},"97c0":function(e,t,n){"use strict";var i=n("83c5"),a=n.n(i);a.a},9865:function(e,t,n){"use strict";var i=n("b78d"),a=n.n(i);a.a},"9a5f":function(e,t,n){e.exports=n.p+"img/robot-cool-down.307aa35d.png"},"9e69":function(e,t,n){e.exports=n.p+"img/warehouse.a60dc1c0.png"},"9f25":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"warehouse-root"},[e._m(0),i("div",[e._m(1),i("div",[i("div",[i("i",{style:{"background-image":"url("+n("73eb")+")"}}),i("span",[e._v(e._s(e.user.diamond))])]),i("div",[i("i",{style:{"background-image":"url("+n("8e4c")+")"}}),i("span",[e._v(e._s(e.user.coin))])])])]),i("div",[i("div",{staticClass:"heading-default"},[i("h4",[e._v("建築材料")]),i("span",[e._v("每一資源最大容量 "+e._s(e.user.resourceMax))])]),i("div",e._l(e.user.resources,function(t,n){return i("div",{on:{click:function(i){return e.showDetail(t,n,!0)}}},[i("i",{style:{"background-image":"url("+e.transformImage(t.type)+")"}}),i("span",[e._v(e._s(t.amount))])])}),0)]),i("div",[e._m(2),i("div",e._l(e.user.baggage,function(t,n){return i("div",{key:"baggage-"+n,style:{"background-image":"url("+e.transformImage(t.name_zh)+")"},on:{click:function(i){return e.showDetail(t,n,!1)}}})}),0)]),e.isShowDetail?i("modal-card-content",{on:{close:function(t){e.isShowDetail=!e.isShowDetail}}},[i("stock-detail",{attrs:{slot:"card",stock:e.selectedStock,showItem:e.showItem,showBottomInfo:e.showBottomInfo},slot:"card"})],1):e._e()],1)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"heading-default"},[n("span",[e._v("倉庫庫存")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"heading-default"},[n("h4",[e._v("寶石金幣")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"heading-default"},[n("h4",[e._v("背包物品")])])}],r=(n("28a5"),n("ac6a"),n("8e58")),s=n("7c8e"),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"stock-detail-root"},[i("div",{staticClass:"heading-default"},[i("h3",[e._v(e._s(e.showItem.title))]),i("span",[e._v("擁有數："+e._s(e.stock.amount))])]),i("div",[i("p",[e._v(e._s(e.showItem.description))]),i("div",[i("img",{class:{biggerImg:!e.showBottomInfo},attrs:{src:e.transformImage(e.showItem.name_zh)}}),e.showBottomInfo?e._e():i("span",[e._v("稀有度: "),e._l(e.showItem.rarity,function(e){return i("i",{style:{"background-image":"url("+n("ce2b")+")"}})})],2)])]),i("div",[e._m(0),i("div",e._l(e.showItem.acquisition,function(t,n){return i("p",[e._v(e._s(n+1)+"."+e._s(t))])}),0)]),e.showBottomInfo?i("div",{staticClass:"button-group"},[i("div",[i("button",{staticClass:"icon-button",style:{"background-image":"url("+n("5e73")+")"}}),i("span",[e._v("商城")])]),i("div",[i("button",{staticClass:"icon-button",style:{"background-image":"url("+n("5bbc")+")"}}),i("span",[e._v("交易")])]),i("div",[i("button",{staticClass:"icon-button",style:{"background-image":"url("+n("20ec")+")"}}),i("span",[e._v("採集")])])]):e._e()])},c=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"heading-default"},[n("h4",[e._v("取得路徑")])])}],u={props:{stock:Object,showItem:Object,showBottomInfo:Boolean},data:function(){return{transformImage:r["a"]}}},l=u,d=(n("7680"),n("2877")),p=Object(d["a"])(l,o,c,!1,null,"50cd729e",null),m=p.exports,h=n("f976"),f={components:{ModalCardContent:s["a"],StockDetail:m},props:{user:Object},data:function(){return{transformImage:r["a"],isShowDetail:!1,selectedStock:"",baggage:[],showItem:Object,showBottomInfo:!0,baggageAmount:[0,0,0]}},created:function(){var e=this;this.user.baggage.forEach(function(t,n){var i=t.id.split("")[1];e.baggageAmount[i]=e.baggageAmount[i]+1}),console.log(this.baggageAmount)},methods:{showDetail:function(e,t,n){if(n)this.showItem=h.resource[t],this.showBottomInfo=!0,this.isShowDetail=!0,this.selectedStock=e;else if(!n){var i=this.user.baggage[t].id.split("")[1];this.showItem=h.baggage[i],this.showBottomInfo=!1,this.isShowDetail=!0,this.selectedStock=e,this.selectedStock["amount"]=this.baggageAmount[i]}}}},g=f,v=(n("8506"),Object(d["a"])(g,i,a,!1,null,"d3f7d2bc",null));t["a"]=v.exports},a3eb:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tab",{staticClass:"mission-root",attrs:{navList:e.navList},on:{switchMenu:e.switchMenu}},[n("div",{attrs:{slot:"content"},slot:"content"},["劇情任務"===e.currentMenu?n("story-mission"):e._e(),"一般任務"===e.currentMenu?n("general-mission",{attrs:{user:e.user,planet:e.planet}}):e._e()],1)])},a=[],r=n("8654"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"storymission-root"},[n("div",{staticClass:"mission-wrapper"},[e._m(0),n("div",{staticClass:"content"},e._l(e.solvingMission,function(t,i){return n("div",[n("div",{staticClass:"drop-down-wrapper",class:{"gradient-primary-bgcolor":e.solvingMissionOpen[i]}},[n("div",[n("h4",[e._v(e._s(t.name_zh))]),n("h5",[e._v(e._s(t.brief))])]),n("i",{style:{"background-image":"url("+e.showIcon(t,i,e.solvingMissionOpen)+")"},on:{click:function(n){return e.changeWrapper(e.solvingMissionOpen,i,t)}}})]),e.solvingMissionOpen[i]?n("div",{staticClass:"drop-down-list"},[n("p",[e._v(e._s(t.description))]),n("div",{staticClass:"heading-default"},[n("h4",[e._v("完成獎賞")]),n("span",[e._v("+"+e._s(t.experience)+" exp")])]),n("div",{staticClass:"prize-content"},e._l(t.prize,function(t,i){return n("div",[n("img",{attrs:{src:e.transformImage(t.name_zh)}})])}),0)]):e._e()])}),0)]),n("div",{staticClass:"mission-wrapper"},[e._m(1),n("div",{staticClass:"content"},e._l(e.solvedMission,function(t,i){return n("div",[n("div",{staticClass:"drop-down-wrapper",class:{"gradient-primary-bgcolor":e.solvedMissionOpen[i]}},[n("div",[n("h4",[e._v(e._s(t.name_zh))]),n("h5",[e._v(e._s(t.brief))])]),n("i",{style:{"background-image":"url("+e.showIcon(t,i,e.solvedMissionOpen)+")"},on:{click:function(n){return e.changeWrapper(e.solvedMissionOpen,i,t)}}})]),e.solvedMissionOpen[i]?n("div",{staticClass:"drop-down-list"},[n("p",[e._v(e._s(t.description))]),n("div",{staticClass:"heading-default"},[n("h4",[e._v("完成獎賞")]),n("span",[e._v("+"+e._s(t.experience)+" exp")])]),n("div",{staticClass:"prize-content"},e._l(t.prize,function(t,i){return n("div",[n("img",{attrs:{src:e.transformImage(t.name_zh)}})])}),0)]):e._e()])}),0)])])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title"},[n("div",{staticClass:"heading-default"},[n("h4",[e._v("正在進行")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title"},[n("div",{staticClass:"heading-default"},[n("h4",[e._v("已解決任務")])])])}],c=n("cebc"),u=(n("28a5"),n("ac6a"),n("ed1f")),l=n("2f62"),d=n("8e58"),p={name:"StoryMission",data:function(){return{transformImage:d["a"],solvingMissionOpen:[],solvedMissionOpen:[],solvingMission:[],solvedMission:[],firstRead:[]}},created:function(){this.checkInfo()},methods:{checkInfo:function(){var e=this;u.storyMissions.forEach(function(t,n){1===e.userMissionInfo[n].state?(e.solvingMission.push(t),e.solvingMissionOpen.push(!1)):2===e.userMissionInfo[n].state&&(e.solvedMission.push(t),e.solvedMissionOpen.push(!1)),!0===e.userMissionInfo[n].firstRead?e.firstRead.push(!0):e.firstRead.push(!1)})},showIcon:function(e,t,i){var a=e.id.split("")[1];return!0===i[t]?n("5e73"):!0===this.firstRead[a]?n("10f2"):n("48b0")},changeWrapper:function(e,t,n){this.$set(e,t,!e[t]);var i=n.id.split("")[1];!0===this.firstRead[i]&&(this.$store.commit("user/SET_FIRSTREAD",i),this.firstRead[i]=!1)}},computed:Object(c["a"])({},Object(l["e"])("user",{userMissionInfo:function(e){return e.storyMissions}}))},m=p,h=(n("9865"),n("2877")),f=Object(h["a"])(m,s,o,!1,null,"38e9db14",null),g=f.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"general-mission-root"},e._l(e.generalMissions,function(t){return n("div",{staticClass:"mission-container"},[n("div",[n("h3",[e._v(e._s(t.name))]),t.isCompleted?n("div",[n("span",[e._v("領取")])]):n("div",{staticClass:"undone"},[n("span",[e._v("未完成")])])]),n("div",[n("div",[n("span",[e._v(e._s(t.description))]),n("span",[e._v("( "+e._s(t.currentValue)+" / "+e._s(t.goal)+" )")])]),n("div",[n("div",{style:{width:e.progressBar(t.currentValue,t.goal)+"%"}})])]),e._m(0,!0),n("div",e._l(t.prize.resources,function(t){return n("div",[n("i",{style:{"background-image":"url("+e.transformImage(t.type)+")"}}),n("span",[e._v(e._s(t.amount))])])}),0)])}),0)},b=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("span",[e._v("完成獎勵")])])}],_={props:{user:Object,planet:Object},data:function(){return{transformImage:d["a"],generalMissions:u.generalMissions}},created:function(){var e=this;this.generalMissions.forEach(function(t){switch(t.isCompleted=!1,t.type){case"building":t.currentValue=e.planet.buildingMap.length;break;case"resource":t.currentValue=e.user.resources.map(function(e){return e.amount}).reduce(function(e,t){return e+t});break}e.progressBar(t.currentValue,100===t.goal)&&(t.isCompleted=!0)})},methods:{progressBar:function(e,t){return e/t*100>=100?100:e/t*100}}},y=_,w=(n("e447"),Object(h["a"])(y,v,b,!1,null,"b276f316",null)),x=w.exports,k={components:{Tab:r["a"],StoryMission:g,GeneralMission:x},props:{user:Object,planet:Object},data:function(){return{navList:["一般任務","劇情任務"],currentMenu:"一般任務"}},methods:{switchMenu:function(e){this.currentMenu=e}}},O=k,C=(n("d762"),Object(h["a"])(O,i,a,!1,null,"d9bc1c86",null));t["a"]=C.exports},a542:function(e,t,n){e.exports=n.p+"img/ore-1.408ab9c2.png"},a71d:function(e,t,n){e.exports=n.p+"img/robot-normal.8834cacd.png"},aab1:function(e,t,n){e.exports=n.p+"img/resource-transfer.53add80c.png"},adbf:function(e,t,n){"use strict";var i=n("bf8b"),a=n.n(i);a.a},b1e6:function(e,t,n){},b3df:function(e,t,n){"use strict";var i=n("b1e6"),a=n.n(i);a.a},b78d:function(e,t,n){},b81d:function(e,t,n){e.exports=n.p+"img/ore-3.c73ddd2d.png"},b820:function(e,t,n){e.exports=n.p+"img/stone-portal.6dac6ac1.png"},baaa:function(e,t,n){"use strict";var i=n("0100"),a=n.n(i);a.a},bab7:function(e,t,n){"use strict";var i=n("32d4"),a=n.n(i);a.a},bc8d:function(e,t,n){e.exports=n.p+"img/warehouse.c6ec2d69.png"},bf8b:function(e,t,n){},c3bb:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tab",{staticClass:"building-root",attrs:{navList:e.navList},on:{switchMenu:e.switchMenu}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("div",{staticClass:"selected-building"},[n("h3",[e._v(e._s(e.selectedBuilding.name_zh))]),n("div",[n("div",[n("img",{attrs:{src:e.transformImage(e.selectedBuilding.name_zh)}})]),n("div",[n("div",[n("p",[e._v(e._s(e.selectedBuilding.description))])]),n("div",[n("div",[n("span",[e._v("建造時間")]),n("span",[e._v(e._s(e.selectedBuilding.buildTime))])]),n("div",[n("span",[e._v("花費金幣")]),n("span",[e._v(e._s(e.selectedBuilding.cost))])])])])]),n("div",{staticClass:"resource-group"},e._l(e.selectedBuilding.resources,function(t){return n("div",{class:{notEnough:e.notEnough(t)}},[n("i",{style:{"background-image":"url("+e.transformImage(t.type)+")"}}),n("span",[e._v(e._s(t.amount))])])}),0),n("button",{staticClass:"button-default",style:e.isEnough?"opacity: 1":"opacity: 0.4",on:{click:function(t){return e.onBuildMode(e.selectedBuilding)}}},[e._v("建造該建築")])]),n("div",e._l(e.buildings[e.currentOpen],function(t){return n("div",[n("img",{style:e.selectedBuilding.name_zh===t.name_zh?"opacity: 1":"opacity: 0.5",attrs:{src:e.transformImage(t.name_zh)},on:{click:function(n){return e.chooseBuilding(t)}}})])}),0)])])},a=[],r=(n("7514"),n("ac4d"),n("8a81"),n("ac6a"),n("4a3a")),s=n("8654"),o=n("8e58"),c={components:{Tab:s["a"]},props:{user:Object},data:function(){return{transformImage:o["a"],navList:["通用科研","軍事科研","經濟科研","生存科研"],currentOpen:"通用科研",selectedBuilding:{},buildings:{"通用科研":r.commonBuilding,"軍事科研":r.militaryBuilding,"經濟科研":r.economicBuilding,"生存科研":r.survivalBuilding},isEnough:!0}},created:function(){this.selectedBuilding=this.buildings["通用科研"][0]},methods:{onBuildMode:function(e){var t=!0,n=!1,i=void 0;try{for(var a,r=e.resources[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var s=a.value;if(this.notEnough(s))return!1}}catch(o){n=!0,i=o}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}this.$emit("close"),this.$emit("onBuildMode",e)},switchMenu:function(e){this.currentOpen=e,this.selectedBuilding=this.buildings[this.currentOpen][0]},chooseBuilding:function(e){this.selectedBuilding=e,this.isEnough=!0},notEnough:function(e){var t=this.user.resources.find(function(t){return t.type===e.type});return t.amount<e.amount&&(this.isEnough=!1,!0)}}},u=c,l=(n("fb4e"),n("2877")),d=Object(l["a"])(u,i,a,!1,null,"414a1833",null);t["a"]=d.exports},c8c8:function(e,t,n){e.exports=n.p+"img/building-confirm.ccb3a61e.png"},c99b:function(e,t,n){"use strict";var i=n("833d"),a=n.n(i);a.a},c9af:function(e,t,n){},cd0a:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"building-info"},["done"===e.building.status?[i("div",[i("h4",[e._v(e._s(e.building.name_zh))]),i("button",{on:{click:e.removeBuilding}},[e._v("拆除")])]),i("div",[i("button",{staticClass:"icon-button",on:{click:function(t){return e.openModal("建築升級")}}}),i("button",{staticClass:"icon-button",on:{click:function(t){return e.openModal("建築功能")}}})])]:"ing"===e.building.status?[i("div",[i("h4",[e._v(e._s(e.building.name_zh))]),i("button",{on:{click:function(t){e.isbuildImmediately=!0}}},[e._v("立即完成")])]),i("div",[i("span",[e._v("剩餘建造時間 "+e._s(e.remainingTime))])])]:e._e(),e.isbuildImmediately?i("div",[i("i",{style:{"background-image":"url("+n("73eb")+")"}}),i("div",[i("p",[e._v("請問是否花費 12寶石， 立即完成建造？")]),i("div",[i("button",{on:{click:function(t){e.isbuildImmediately=!1}}},[e._v("取消")]),i("button",{on:{click:e.buildImmediately}},[e._v("確認")])])])]):e._e()],2)},a=[],r=(n("f576"),n("96cf"),n("3b8d")),s={props:{building:Object},data:function(){return{module:null,remainingTime:"",isbuildImmediately:!1,timer:null}},beforeCreate:function(){var e=this;n.e("chunk-34240bd6").then(n.bind(null,"3fa0")).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.module=n;case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},beforeMount:function(){clearInterval(this.timer),"ing"===this.building.status&&(this.countdown(),this.timer=setInterval(this.countdown,1e3))},methods:{openModal:function(e){this.$emit("openModal",e)},close:function(){this.$emit("close")},buildImmediately:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.isbuildImmediately=!1,e.next=4,this.$store.dispatch("user/spendDiamond",{diamond:12});case 4:this.module.gameFunction.directlyBuild(this.building),this.close(),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}(),removeBuilding:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("planet/removeBuilding",{token:this.$store.getters["user/getToken"],building:this.building});case 2:return e.next=4,this.module.gameFunction.removeBuilding(this.building);case 4:this.close();case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),countdown:function(){if("ing"===this.building.status){var e=Date.parse(new Date(this.building.finishTime)),t=Date.parse(new Date),n=e-t,i=parseInt(n/1e3/60/60/24),a=String(parseInt(n/1e3/60/60%24)).padStart(2,"0"),r=String(parseInt(n/1e3/60%60)).padStart(2,"0"),s=String(parseInt(n/1e3%60)).padStart(2,"0");this.remainingTime=i>0?"".concat(i,"天"):"",this.remainingTime+="".concat(a,":").concat(r,":").concat(s),n<=0&&(clearInterval(this.timer),this.close())}}},watch:{isbuildImmediately:function(){this.module.gameFunction.scene.input.enabled=!this.isbuildImmediately}}},o=s,c=(n("2a26"),n("2877")),u=Object(c["a"])(o,i,a,!1,null,"338cf3c8",null);t["a"]=u.exports},cd15:function(e,t,n){},ce2b:function(e,t,n){e.exports=n.p+"img/star-purple.afb674c2.png"},cf61:function(e,t,n){"use strict";var i=n("2b45"),a=n.n(i);a.a},cf6e:function(e,t,n){},d373:function(e,t,n){},d762:function(e,t,n){"use strict";var i=n("2976"),a=n.n(i);a.a},d776:function(e,t,n){"use strict";var i=n("5d06"),a=n.n(i);a.a},de03:function(e,t,n){},e1d4:function(e,t,n){},e2c8:function(e,t,n){e.exports=n.p+"img/cat-epic.2ba017bc.png"},e447:function(e,t,n){"use strict";var i=n("11fc"),a=n.n(i);a.a},e64d:function(e,t,n){"use strict";var i=n("4a80"),a=n.n(i);a.a},e76f:function(e,t,n){e.exports=n.p+"img/logo.6dbe5147.png"},ea8d:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"building-upgrade-root"},[n("div",[n("h3",[e._v(e._s(e.building.name_zh))]),n("p",[e._v(e._s(e.building.description))]),n("div",{staticClass:"buff-description"},[n("div",{staticClass:"building-image-container"},[n("img",{attrs:{src:e.transformImage(e.building.name_zh)}})]),n("div",{staticClass:"buff-container"},e._l(e.building.buff,function(t){return n("div",[n("span",[e._v(e._s(t.title))]),n("span",[e._v(e._s(t.value))])])}),0)])]),e.isArchitectureTechnology&&!e.isMaxLevel?n("div",{staticClass:"can-build"},[n("div",{staticClass:"heading-default"},[n("h4",[e._v("升級建築")]),n("span",[e._v(e._s(e.nextBuilding.name_zh))]),n("span",[e._v("建造時間 1天11:34:20")])]),n("div",{staticClass:"buff-description"},[n("div",{staticClass:"building-image-container"},[n("img",{attrs:{src:e.transformImage(e.nextBuilding.name_zh)}})]),n("div",{staticClass:"buff-container"},e._l(e.nextBuilding.buff,function(t){return n("div",[n("span",[e._v(e._s(t.title))]),n("span",[e._v(e._s(t.value))])])}),0)]),n("div",{staticClass:"resource-group"},e._l(e.nextBuilding.resources,function(t){return n("div",[n("i",{style:{"background-image":"url("+e.transformImage(t.type)+")"}}),n("span",[e._v(e._s(t.amount))])])}),0),n("button",{staticClass:"button-default"},[e._v("升級該建築")])]):e.isArchitectureTechnology||e.isMaxLevel?n("div",{staticClass:"max-level"},[e._m(1),n("p",[e._v("恭喜您，該建築已達最高等級型態")])]):n("div",{staticClass:"not-build"},[e._m(0),n("img",{attrs:{src:e.transformImage(e.nextBuilding.name_zh)}}),n("p",[e._v("未持有建造技術，請先至研發中心研發")])])])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"heading-default"},[n("h4",[e._v("升級建築")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"heading-default"},[n("h4",[e._v("升級建築")])])}],r=(n("28a5"),n("8e58")),s=n("4a3a"),o={props:{building:Object},data:function(){return{transformImage:r["a"],nextBuilding:"",isArchitectureTechnology:"",isMaxLevel:!1}},created:function(){"none"===this.building.nextLevelId&&(this.isMaxLevel=!0);var e=this.building.nextLevelId.split("")[0],t=this.building.nextLevelId.split("")[1];switch(e){case"c":this.nextBuilding=s.commonBuilding[t],this.isArchitectureTechnology=this.$store.getters["planet/getArchitectureTechnology"].commonBuilding[this.nextBuilding.id];break;default:break}}},c=o,u=(n("d776"),n("2877")),l=Object(u["a"])(c,i,a,!1,null,"a80e4e92",null);t["a"]=l.exports},ed1f:function(e){e.exports={storyMissions:[{id:"m0",name:"cat",name_zh:"薛丁格的貓",brief:"與薛丁格對話",description:"神秘科學家薛丁格，帶領人們找到屬於星球最微妙的秘密，小貓咪喵喵叫。",requirement:{coin:2920,diamond:120,resources:[{type:"木頭",amount:1e3},{type:"鋼鐵",amount:1e3}]},experience:1e3,prize:[{name_zh:"薛丁格的貓一般",name:"cat-silver"},{name_zh:"薛丁格的貓稀有",name:"cat-gold"},{name_zh:"薛丁格的貓史詩",name:"cat-purple"}]},{id:"m1",name:"stone",name_zh:"巨石陣之眼",brief:"發現巨石陣中的秘密",description:"巨石陣橫亙在大陸上，是一道未解之謎，無數的勇者前仆後繼，可以發現什麼？",requirement:{coin:2920,diamond:120,resources:[{type:"木頭",amount:1e3},{type:"鋼鐵",amount:1e3}]},experience:1e3,prize:[{name_zh:"薛丁格的貓一般",name:"cat-silver"},{name_zh:"薛丁格的貓稀有",name:"cat-gold"},{name_zh:"薛丁格的貓史詩",name:"cat-purple"}]},{id:"m2",name:"M3star",name_zh:"發現M3星雲",brief:"透過觀測找尋M3星雲座標",description:"阿拉赫爾在臨終前，給了最後的訊息，傳說中的巨人族所在的星球於M3星雲座標系中。",requirement:{coin:2920,diamond:120,resources:[{type:"木頭",amount:1e3},{type:"鋼鐵",amount:1e3}]},experience:1200,prize:[{name_zh:"薛丁格的貓一般",name:"cat-silver"},{name_zh:"薛丁格的貓稀有",name:"cat-gold"},{name_zh:"薛丁格的貓史詩",name:"cat-purple"}]},{id:"m3",name:"quantum",name_zh:"量子糾纏",brief:"找尋量子世界的規則",description:"科學家一直不懂量子，眼前所見與真實，到底什麼值得留下，什麼值得挖掘？",requirement:{coin:2920,diamond:120,resources:[{type:"木頭",amount:1e3},{type:"鋼鐵",amount:1e3}]},experience:4e3,prize:[{name_zh:"薛丁格的貓一般",name:"cat-silver"},{name_zh:"薛丁格的貓一般",name:"cat-gold"},{name_zh:"薛丁格的貓一般",name:"cat-purple"}]},{id:"m4",name:"quantum",name_zh:"愛因斯坦相對論",brief:"狹義相對論的真理",description:"聽說愛因斯坦不是人，他知道這宇宙的秘密，身為人類，是否可以跨越障礙，一窺世界的奧秘？",requirement:{coin:2920,diamond:120,resources:[{type:"木頭",amount:1e3},{type:"鋼鐵",amount:1e3}]},experience:9e3,prize:[{name_zh:"薛丁格的貓一般",name:"cat-silver"},{name_zh:"薛丁格的貓一般",name:"cat-gold"},{name_zh:"薛丁格的貓一般",name:"cat-purple"}]}],generalMissions:[{name:"建築大師",description:"蓋一棟建築",type:"building",goal:1,prize:{resources:[{type:"木頭",amount:250},{type:"石頭",amount:250},{type:"鋼鐵",amount:250},{type:"銅礦",amount:250}]}},{name:"採集狂魔",description:"蒐集一萬個資源",type:"resource",goal:3e3,prize:{resources:[{type:"木頭",amount:250},{type:"石頭",amount:250},{type:"鋼鐵",amount:250},{type:"銅礦",amount:250}]}}]}},edcf:function(e,t,n){e.exports=n.p+"img/planet-1.2dc0370b.png"},ef73:function(e,t,n){e.exports=n.p+"img/ore-4.625b081e.png"},efec:function(e,t,n){},f33f:function(e,t,n){e.exports=n.p+"img/stone.0498d1ec.png"},f3f5:function(e,t,n){e.exports=n.p+"img/ore-2.6428088d.png"},f4a5:function(e,t,n){"use strict";var i=n("2df3"),a=n.n(i);a.a},f61c:function(e,t,n){e.exports=n.p+"img/green-house-locked.6deb0ff0.png"},f944:function(e,t,n){e.exports=n.p+"img/copper.f8484cc2.png"},f976:function(e){e.exports={baggage:[{id:"b0",name_zh:"薛丁格的貓一般",title:"薛丁格的貓",description:"一隻貓被鎖在一個箱子中，箱中的貓同時既是活，當箱子打開時，此量子疊加狀態瓦解；在那瞬間這隻貓是被毒死，或得以保命。",rarity:3,acquisition:["完成主線任務4-3","抽獎活動，低機率獲得","進行採集時，低機率獲得"]},{id:"b1",name_zh:"薛丁格的貓稀有",title:"薛丁格的貓",description:"一隻貓被鎖在一個箱子中，箱中的貓同時既是活，當箱子打開時，此量子疊加狀態瓦解；在那瞬間這隻貓是被毒死，或得以保命。",rarity:2,acquisition:["完成主線任務4-3","抽獎活動，低機率獲得","進行採集時，低機率獲得"]},{id:"b2",name_zh:"薛丁格的貓史詩",title:"薛丁格的貓",description:"一隻貓被鎖在一個箱子中，箱中的貓同時既是活，當箱子打開時，此量子疊加狀態瓦解；在那瞬間這隻貓是被毒死，或得以保命。",rarity:1,acquisition:["完成主線任務4-3","抽獎活動，低機率獲得","進行採集時，低機率獲得"]}],resource:[{id:"r0",name_zh:"木頭",title:"木頭",description:"千年神木製作成的木板，是地球殘存的有機物，美麗的木紋，散發著淡淡的木頭香。",acquisition:["完成主線任務4-3","抽獎活動，低機率獲得","進行採集時，低機率獲得"]},{id:"r1",name_zh:"石頭",title:"石頭",description:"好用的石頭可以蓋牆壁、蓋屋頂，在資源稀缺的現今非常好用，讓許多家庭主婦合不攏嘴。",acquisition:["完成主線任務4-3","抽獎活動，低機率獲得","進行採集時，低機率獲得"]},{id:"r2",name_zh:"鋼鐵",title:"鋼鐵",description:"鐵與碳合成的金屬，堅硬的材質，方便製作刀叉、武器，不管是民間物資或是武器都非常好用。",acquisition:["完成主線任務4-3","抽獎活動，低機率獲得","進行採集時，低機率獲得"]},{id:"r3",name_zh:"銅礦",title:"銅礦",description:"銅礦是用許多名人的雕像鎔掉而得的，因此數量有限，不知道現在這塊銅塊是哪個名人的遺跡呢？",acquisition:["完成主線任務4-3","抽獎活動，低機率獲得","進行採集時，低機率獲得"]},{id:"r4",name_zh:"墨金屬",title:"墨金屬",description:"世界上唯一可導電的非金屬，非常地不簡單，純黑的墨更是有價無市，更可用來過濾現今的廢水，非常必需呢。",acquisition:["完成主線任務4-3","抽獎活動，低機率獲得","進行採集時，低機率獲得"]},{id:"r5",name_zh:"鍨金屬",title:"鍨金屬",description:"澄黃的色澤，多切面的造型，讓這種金屬成為一種奢侈品，愛漂亮的小姐都會買這種金屬來製作項鍊或戒指，有些人也會拿來製作鐘錶。",acquisition:["完成主線任務4-3","抽獎活動，低機率獲得","進行採集時，低機率獲得"]},{id:"r6",name_zh:"氪金屬",title:"氪金屬",description:"紅色的固體，雖然聽起來是個氣體，但是在地球被侵蝕的今天，氪被發現也有金屬態呢！可以被應用在一些精密機械上，是能源局重點關注的金屬。",acquisition:["完成主線任務4-3","抽獎活動，低機率獲得","進行採集時，低機率獲得"]},{id:"r7",name_zh:"銝金屬",title:"銝金屬",description:"一種在地球未知的重金屬，在宇宙中被發現，被稱作超重金屬，可用來當作飛行器飛行的能源。",acquisition:["完成主線任務4-3","抽獎活動，低機率獲得","進行採集時，低機率獲得"]}]}},fabc:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal"},[n("div",{staticClass:"card"},[e._t("card")],2),n("div",{staticClass:"leave",on:{click:e.cancelJump}},[n("button",{staticClass:"icon-button",on:{click:function(t){return e.$emit("close")}}}),n("span",[e._v("離開")])])])},a=[],r=(n("96cf"),n("3b8d")),s={data:function(){return{module:null}},created:function(){var e=this;n.e("chunk-34240bd6").then(n.bind(null,"3fa0")).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.module=n;case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},methods:{cancelJump:function(){this.module.gameFunction.cancelJump()}}},o=s,c=(n("3e96"),n("2877")),u=Object(c["a"])(o,i,a,!1,null,"5614aeaa",null);t["a"]=u.exports},fb4e:function(e,t,n){"use strict";var i=n("29cf"),a=n.n(i);a.a},fcf7:function(e,t,n){"use strict";var i=n("e1d4"),a=n.n(i);a.a},fde0:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user-profile-root"},[n("div",{attrs:{id:"head"}},[e._m(0),n("div",[n("h3",[e._v(e._s(e.user.username))]),n("h6",[e._v("稱號："+e._s(e.user.nickname))])])]),n("tab",{attrs:{navList:e.navList},on:{switchMenu:e.switchMenu}},[n("div",{attrs:{slot:"content"},slot:"content"},["星球列表"===e.currentMenu?n("planet-list"):e._e(),"成就稱號"===e.currentMenu?n("achievement",{attrs:{achievements:e.user.achievements}}):e._e(),"建築圖鑑"===e.currentMenu?n("illustration"):e._e(),"遊戲設定"===e.currentMenu?n("setting"):e._e()],1)])],1)},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("img",{attrs:{src:n("4f4f")}})])}],r=n("8654"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"list-content"}},e._l(e.achievements,function(t){return n("div",[n("div",[n("h3",[e._v(e._s(t.title))]),n("span",[e._v(e._s(t.brief))])]),n("div",[t.state?n("div",{class:{use:t.state}},[n("span",[e._v("使用中")])]):n("div",{on:{click:function(n){return e.switchAchievement(t.title)}}},[n("span",[e._v("變更")])])])])}),0)},o=[],c=(n("ac6a"),{props:{achievements:Array},data:function(){return{}},methods:{switchAchievement:function(e){this.achievements.forEach(function(t){t.title===e?t.state=!0:t.state=!1})}}}),u=c,l=(n("182c"),n("2877")),d=Object(l["a"])(u,s,o,!1,null,"0cd8e2c9",null),p=d.exports,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"list-content"}},e._l(e.planetList,function(t){return n("div",[n("div",{style:{"background-image":"url("+e.transformImage(t.type)+")"}}),n("div",[n("div",[n("h4",[e._v(e._s(t.name))]),n("label",{staticClass:"army"},[e._v("軍事")])]),n("div",[n("i"),n("span",[e._v("("+e._s(t.positionX)+", "+e._s(t.positionY)+")")])]),n("div",[n("h6",[e._v("等級 Lv."+e._s(t.level))]),n("h6",[e._v(e._s(t.experience)+" / "+e._s(t.nextLevel))])]),n("div",[n("div",{style:{width:e.level(t.experience,t.nextLevel)+"%"}})])]),n("div",[t.pid===e.$store.getters["planet/getPlanetId"]?n("div",{staticClass:"use"},[n("span",[e._v("目前")])]):n("div",{on:{click:function(n){return e.switchPlanet(t.name)}}},[n("span",[e._v("前往")])])])])}),0)},h=[],f=n("cebc"),g=(n("96cf"),n("3b8d")),v=n("80cd"),b=n("2f62"),_=n("8e58"),y={data:function(){return{transformImage:_["a"]}},beforeMount:function(){var e=Object(g["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getPlanetList();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),computed:Object(f["a"])({},Object(b["e"])("user",{planetList:function(e){return e.planetList}})),methods:Object(f["a"])({},Object(b["b"])("user",["getPlanetList"]),{level:function(e,t){return e/t*100},switchPlanet:function(e){v["a"].SwitchPlanet("test")}})},w=y,x=(n("b3df"),Object(l["a"])(w,m,h,!1,null,"003084b2",null)),k=x.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"list"},[e.buildingpage?n("modal-card-content",{on:{close:function(t){e.buildingpage=!e.buildingpage}}},[n("building-class",{attrs:{slot:"card",building:e.selectedBuilding,buildingInfo:e.buildings.building},slot:"card"})],1):e._e(),n("div",{staticClass:"illustration-content"},e._l(e.buildings.building,function(t,i){return n("div",[n("img",{attrs:{src:e.showImage(t)},on:{click:function(n){return e.chooseBuilding(t)}}})])}),0)],1)},C=[],T=(n("28a5"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"building-root"},[n("div",{staticClass:"title"},[n("h1",[e._v(e._s(e.building.name_zh))])]),n("div",{staticClass:"brief"},[n("div",{staticClass:"brief-building"},[n("p",{staticClass:"building-intro"},[e._v(e._s(e.building.description))])]),n("div",[n("img",{attrs:{src:e.transformImage(e.building.name_zh)}})]),n("span",[e._v("類別："+e._s(e.typeName))])]),e._m(0),n("div",{staticClass:"advance-brief"},e._l(e.buildingClass,function(t,i){return n("div",[n("img",{attrs:{src:e.transformImage(t.name_zh)}})])}),0)])}),I=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"heading-default"},[n("h4",[e._v("建築升級")])])}],S={name:"Windmill",props:{building:Object,buildingInfo:Array},data:function(){return{transformImage:_["a"],transformUnlockImage:_["b"],typeName:"",buildingClass:[]}},created:function(){this.checkNextBuilding(this.building),this.showType(this.building)},methods:{showType:function(e){var t=this.building.id.split("")[0];switch(t){case"c":this.typeName="基本建築";break;default:break}},checkNextBuilding:function(e){if("none"!==e.nextLevelId){var t=e.nextLevelId.split("")[1],n=this.buildingInfo[t];this.buildingClass.push(n),this.checkNextBuilding(n)}else this.buildingClass.push(e)}}},E=S,D=(n("4770"),Object(l["a"])(E,T,I,!1,null,"8fd0d67a",null)),M=D.exports,B=n("7c8e"),j=n("4a3a"),R={name:"Illustration",components:{BuildingClass:M,ModalCardContent:B["a"]},data:function(){return{transformImage:_["a"],transformUnlockImage:_["b"],buildingpage:!1,selectedBuilding:{},buildings:{building:j.commonBuilding}}},computed:Object(f["a"])({},Object(b["e"])("planet",{architectureTechnology:function(e){return e.planet.architectureTechnology}})),methods:{showImage:function(e){var t=e.id.split("")[0];switch(t){case"c":return!0===this.architectureTechnology.commonBuilding[e.id]?this.transformImage(e.name_zh):this.transformUnlockImage(e.name_zh);default:break}},chooseBuilding:function(e){var t=e.id.split("")[0];switch(t){case"c":!0===this.architectureTechnology.commonBuilding[e.id]&&(this.selectedBuilding=e,this.buildingpage=!0);break;default:break}}}},A=R,L=(n("0010"),Object(l["a"])(A,O,C,!1,null,"885ac5e0",null)),z=L.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"list-content"},[e._m(0),n("div",{staticClass:"sound-content"},[n("div",{staticClass:"volume"},[n("img",{attrs:{src:e.volumeIcon}}),n("h1",[e._v("音樂")]),e._m(1)]),n("div",{staticClass:"sound-effect"},[n("img",{attrs:{src:e.soundIcon}}),n("h1",[e._v("音效")]),e._m(2)])]),e._m(3),n("div",{staticClass:"account-content"},[n("img",{attrs:{src:e.userIcon}}),n("h1",[e._v(e._s(e.username))]),n("h2",[e._v("登出")])])])},P=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sound-title"},[n("h1",[e._v("音樂音量")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"volume-circle"}),n("hr",{staticClass:"volume-line"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"sound-circle"}),n("hr",{staticClass:"sound-line"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"account-title"},[n("h1",[e._v("帳號設定")])])}],N={name:"Setting",data:function(){return{musicVolume:50,soundEffect:50,username:"TripleTien",volumeIcon:n("5bbc"),soundIcon:n("5bbc"),userIcon:n("5bbc")}}},G=N,F=(n("f4a5"),Object(l["a"])(G,$,P,!1,null,"233a3aa6",null)),U=F.exports,q={components:{Tab:r["a"],Achievement:p,PlanetList:k,Illustration:z,Setting:U},name:"Profile",props:{user:Object},data:function(){return{navList:["星球列表","成就稱號","建築圖鑑","遊戲設定"],currentMenu:"星球列表"}},methods:{switchMenu:function(e){this.currentMenu=e}}},J=q,W=(n("3693"),Object(l["a"])(J,i,a,!1,null,"7460cc3e",null));t["a"]=W.exports}});
//# sourceMappingURL=app.661fb227.js.map
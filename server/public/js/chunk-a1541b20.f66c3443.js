(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a1541b20"],{4575:function(e,n,t){},"5ecf":function(e,n,t){e.exports=t.p+"img/story-12.67462d5f.png"},a8c0:function(e,n,t){},bc72:function(e,n,t){"use strict";var s=t("a8c0"),i=t.n(s);i.a},bfbd:function(e,n,t){e.exports=t.p+"img/story-13.99b2e7d4.png"},c645:function(e,n,t){"use strict";var s=t("4575"),i=t.n(s);i.a},ea83:function(e,n,t){e.exports=t.p+"img/story-10.b53da642.png"},f812:function(e,n,t){e.exports=t.p+"img/story-11.e7aa9ee6.png"},fb0d:function(e,n,t){"use strict";t.r(n);var s=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"game-root"}},[e.isOnBuildMode?e._e():t("user-panel",{attrs:{user:e.user,planet:e.planet,mode:"Game"},on:{openModal:e.openModal}}),t("feature-menu",{directives:[{name:"show",rawName:"v-show",value:!e.isOnBuildMode&&!e.isSelectBuilding,expression:"!isOnBuildMode && !isSelectBuilding"}],staticClass:"feature-menu",attrs:{isModalOpen:!e.isModalOpen,user:e.user},on:{openModal:e.openModal}}),e.isSelectBuilding?t("building-info",{attrs:{building:e.selectedBuilding},on:{openModal:e.openModal,close:e.close}}):e._e(),t("transition",{attrs:{name:"modal"}},[t("modal-card",{directives:[{name:"show",rawName:"v-show",value:e.isModalOpen,expression:"isModalOpen"}],attrs:{id:"modalCard"},on:{close:e.close}},["user-profile"===e.currentOpen?t("user-profile",{attrs:{slot:"card",user:e.user},slot:"card"}):e._e(),"星球資訊"===e.currentOpen?t("planet-info",{attrs:{slot:"card",user:e.user,planet:e.planet},slot:"card"}):e._e(),"建築升級"===e.currentOpen?t("building-upgrade",{attrs:{slot:"card",building:e.selectedBuilding},slot:"card"}):e._e(),"建築功能"===e.currentOpen?t("building-feature",{attrs:{slot:"card",building:e.selectedBuilding,user:e.user,planet:e.planet},on:{nextScenes:e.nextScenes},slot:"card"}):e._e(),"建造頁面"===e.currentOpen?t("building",{attrs:{slot:"card",user:e.user,planet:e.planet},on:{onBuildMode:e.onBuildMode},slot:"card"}):e._e(),"資源頁面"===e.currentOpen?t("warehouse",{attrs:{slot:"card",user:e.user},slot:"card"}):e._e(),"任務頁面"===e.currentOpen?t("mission",{attrs:{slot:"card",user:e.user,planet:e.planet},slot:"card"}):e._e()],1)],1),e.isOnBuildMode?t("build-mode",{attrs:{building:e.chooseBuilding},on:{build:e.close}}):e._e(),"故事"===e.actions[e.currentScenes]?t("Story",{attrs:{currentScenes:e.currentScenes},on:{nextScenes:e.nextScenes}}):e._e(),t("Dialog",{directives:[{name:"show",rawName:"v-show",value:"故事"!==e.actions[e.currentScenes],expression:"actions[currentScenes] !== '故事'"}],attrs:{planet:e.planet,currentScenes:e.currentScenes},on:{nextScenes:e.nextScenes}})],1)},i=[],r=t("cebc"),c=(t("96cf"),t("3b8d")),a=t("5683"),o=t("2a61"),u=t("fabc"),l=t("fde0"),d=t("c3bb"),p=t("2995"),h=t("cd0a"),f=t("ea8d"),g=t("9f25"),m=t("a3eb"),b=t("8e2c"),S=t("1dbd"),v=function(){var e=this,n=e.$createElement,s=e._self._c||n;return s("div",{staticClass:"beginner-guide-root"},[s("transition",{attrs:{name:"fade",mode:"out-in"},on:{"after-leave":e.afterLeave}},[24===e.currentScenes?s("div",{key:"scene40",style:{"background-image":"url("+t("ea83")+")"},on:{click:e.nextScenes}},[s("p",[e._v("人類開始定居於各星球中，"),s("br"),e._v("然而過了數年之後，"),s("br"),e._v("發現外太空資源匱乏")])]):e._e(),25===e.currentScenes?s("div",{key:"scene41",style:{"background-image":"url("+t("f812")+")"},on:{click:e.nextScenes}},[s("p",{style:{color:"#EEEEEE"}},[e._v("此時科學家透過望遠鏡觀測到"),s("br"),e._v("地球上的波波拉漸漸消退...")])]):e._e(),26===e.currentScenes?s("div",{key:"scene42",style:{"background-image":"url("+t("5ecf")+")"},on:{click:e.nextScenes}},[s("p",{style:{color:"#EEEEEE"}},[e._v("走投無路的人類，"),s("br"),e._v("決定鋌而走險，回到地球採集資源")])]):e._e(),27===e.currentScenes?s("div",{key:"scene43",style:{"background-image":"url("+t("bfbd")+")"},on:{click:e.nextScenes}},[s("p",[e._v("慶幸的是，波波拉狀態趨於穩定，"),s("br"),e._v("雖然有些地區的波波拉仍然失控，"),s("br"),e._v("但只要是波波拉穩定的區域，"),s("br"),e._v("人類皆可採集資源")])]):e._e()])],1)},O=[],B=(t("c5f6"),{props:{currentScenes:Number},data:function(){return{canClick:!0,module:null}},created:function(){var e=this;Promise.resolve().then(t.bind(null,"3fa0")).then(function(){var n=Object(c["a"])(regeneratorRuntime.mark(function n(t){return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:e.module=t,e.module.gameFunction.scene.input.manager.enabled=!1;case 2:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}())},beforeDestroy:function(){navigator.geolocation.clearWatch(this.watcher),this.module.gameFunction.scene.input.manager.enabled=!0},methods:{nextScenes:function(){this.canClick&&(this.canClick=!1,this.$emit("nextScenes","故事"))},afterLeave:function(e){this.canClick=!0}}}),M=B,_=(t("c645"),t("2877")),x=Object(_["a"])(M,v,O,!1,null,"8a860a12",null),E=x.exports,w=t("fb32"),k=t("2f62"),y=t("e264"),$={name:"Game",components:{FeatureMenu:o["a"],UserPanel:a["a"],ModalCard:u["a"],UserProfile:l["a"],Building:d["b"],BuildMode:p["a"],BuildingInfo:h["a"],BuildingUpgrade:f["a"],Warehouse:g["a"],Mission:m["a"],BuildingFeature:b["a"],Dialog:S["a"],Story:E,PlanetInfo:w["a"]},data:function(){return{isModalOpen:!1,currentOpen:"",downloaded:!1,isOnBuildMode:!1,module:null,isSelectBuilding:!1,selectedBuilding:"",chooseBuilding:"",actions:y.actions}},mounted:function(){var e=this;this.$store.watch(function(e,n){return n},function(n,t){e.isSelectBuilding=n["planet/getIsSelectBuilding"],e.selectedBuilding=n["planet/getBuildElement"],e.actions[e.currentScenes]!==e.selectedBuilding.status?e.isSelectBuilding&&e.actions[e.currentScenes]==="點擊"+e.selectedBuilding.name_zh&&e.nextScenes("點擊"+e.selectedBuilding.name_zh):e.nextScenes(e.selectedBuilding.status)},{deep:!0})},created:function(){var e=this;Promise.resolve().then(t.bind(null,"3fa0")).then(function(){var n=Object(c["a"])(regeneratorRuntime.mark(function n(t){return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:e.module=t;case 1:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()),this.$bus.$on("openModal",this.openModal),this.$bus.$on("nextScenes",this.nextScenes),this.$bus.$on("close",this.close)},computed:Object(r["a"])({},Object(k["e"])("user",{user:function(e){return e}}),Object(k["e"])("planet",{planet:function(e){return e.planet}}),Object(k["c"])("user",{currentScenes:"getCurrentBeginnerGuideScenes"})),methods:Object(r["a"])({},Object(k["d"])("user",["NEXT_SCENES"]),Object(k["b"])("user",["completeBeginner"]),{nextScenes:function(e){var n=this;return console.log(e,this.actions[this.currentScenes]),this.actions[this.currentScenes]===e?"儲存"===this.actions[this.currentScenes+1]?(console.log("儲存",this.currentScenes),this.NEXT_SCENES(),this.$store.dispatch("user/nextScenes"),!0):(this.NEXT_SCENES(),!0):(55===this.currentScenes&&t.e("chunk-2d0c20e8").then(t.bind(null,"494a")).then(function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.gameFunction.changeScene("PlayScene"),n.user.isOnMainPlanet=!n.user.isOnMainPlanet,n.NEXT_SCENES(),n.close();case 4:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()),"完成"===this.actions[this.currentScenes]&&this.completeBeginner().then(function(){n.$router.push("/game")}),!1)},openModal:function(e){this.nextScenes(e)&&(this.isModalOpen=!0,this.isOnBuildMode=!1,this.currentOpen=e)},close:function(){this.isModalOpen=!1,this.isOnBuildMode=!1,this.module.gameFunction.setIsOnBuildMode(!1),this.$store.commit("planet/SET_ISSELECTBUILDING",!1),this.nextScenes("離開")},onBuildMode:function(e){this.nextScenes("建造".concat(e.name_zh))&&(this.chooseBuilding=e,this.isModalOpen=!1,this.isOnBuildMode=!0)}}),watch:{isModalOpen:function(){this.module.gameFunction.scene.input.manager.enabled=!this.isModalOpen}},beforeDestroy:function(){this.$bus.$off("openModal",this.openModal),this.$bus.$off("nextScenes",this.nextScenes),this.$bus.$off("close",this.close)}},C=$,N=(t("bc72"),Object(_["a"])(C,s,i,!1,null,"e9314b58",null));n["default"]=N.exports}}]);
//# sourceMappingURL=chunk-a1541b20.f66c3443.js.map
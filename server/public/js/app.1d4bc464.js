(function(e){function t(t){for(var i,a,s=t[0],c=t[1],u=t[2],l=0,d=[];l<s.length;l++)a=s[l],r[a]&&d.push(r[a][0]),r[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);p&&p(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,a=1;a<n.length;a++){var s=n[a];0!==r[s]&&(i=!1)}i&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var i={},a={app:0},r={app:0},o=[];function s(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-2d0c20e8":"43a59353","chunk-2f99c2fa":"53d15bea","chunk-379bdf1c":"8f3ad9e9","chunk-3f05e774":"aa2e7f0e","chunk-45de589d":"c3c05b9d","chunk-46c1e8f1":"a1b3ebe6","chunk-5603ae09":"a1ec557f","chunk-a1541b20":"f66c3443","chunk-ee4e93ee":"242b58c6"}[e]+".js"}function c(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-2f99c2fa":1,"chunk-379bdf1c":1,"chunk-3f05e774":1,"chunk-45de589d":1,"chunk-5603ae09":1,"chunk-a1541b20":1,"chunk-ee4e93ee":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise(function(t,n){for(var i="css/"+({}[e]||e)+"."+{"chunk-2d0c20e8":"31d6cfe0","chunk-2f99c2fa":"f5a48993","chunk-379bdf1c":"60aaa138","chunk-3f05e774":"57b7e2b3","chunk-45de589d":"61cd8b37","chunk-46c1e8f1":"31d6cfe0","chunk-5603ae09":"fd7222ca","chunk-a1541b20":"d4a5a0c8","chunk-ee4e93ee":"54d1d656"}[e]+".css",r=c.p+i,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var u=o[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===i||l===r))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){u=d[s],l=u.getAttribute("data-href");if(l===i||l===r)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var i=t&&t.target&&t.target.src||r,o=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=i,delete a[e],p.parentNode.removeChild(p),n(o)},p.href=r;var m=document.getElementsByTagName("head")[0];m.appendChild(p)}).then(function(){a[e]=0}));var i=r[e];if(0!==i)if(i)t.push(i[2]);else{var o=new Promise(function(t,n){i=r[e]=[t,n]});t.push(i[2]=o);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(e),u=function(t){l.onerror=l.onload=null,clearTimeout(d);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+i+": "+a+")");o.type=i,o.request=a,n[1](o)}r[e]=void 0}};var d=setTimeout(function(){u({type:"timeout",target:l})},12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=i,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)c.d(n,i,function(t){return e[t]}.bind(null,i));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var p=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"000d":function(e,t,n){e.exports=n.p+"img/info-planet.db67bd0d.png"},"00a3":function(e,t,n){e.exports=n.p+"img/home-bless-active.be1a88db.png"},"00d3":function(e,t,n){e.exports=n.p+"img/power-stone-active.fd012267.png"},"0274":function(e,t,n){e.exports=n.p+"img/babylon-work.6ad0bcc8.png"},"0339":function(e){e.exports={commonBuilding:{id:"c0",name:"科研中心",title:"智慧之源",description:"創世者賦予人類至高無上的智慧，以及追溯世界真理的心，得以建造科研中心。\n「真理有三部分：考查，即求取它；認識，即它已存在；信心，即運用它」—— 蘇格拉底",level:1,point:0,experience:0,nextLevel:"none",parent:"root",children:[{id:"c1",name:"資源傳輸中心",title:"安提基特拉機械",description:"研究並分析古希臘安提基特拉機械，獲得建造精密機器人的能力。靠著這些技術，開發用於採集的機器人，得以建造資源傳輸中心。\n「明天對於世界而言，永遠是一個奇蹟」—— 柏拉圖",level:1,point:2,experience:30,nextLevel:"none",parent:"c0",children:[{id:"c2",name:"倉庫",title:"潘朵拉的盒子",description:"研究潘多拉盒子特殊的收藏能力，讓文明可在星球上建造倉庫儲放更多的資源物品，以備不時之需。\n「居安思危，思則有備，未雨綢繆」—— 左丘明",level:1,point:1,experience:20,nextLevel:"none",parent:"c1",children:[{id:"c3",name:"外交大使館",title:"菲羅忒斯誓約",description:"與希臘友愛女神菲羅忒斯結締誓約，得以建造外交大使館，獲得與他人成為好友的能力，並且可以進行許多互動。\n「真正的朋友，是一個靈魂孕育在兩個軀體裏」—— 亞里士多德",level:1,nextLevel:"none",parent:"c2"},{id:"c4",name:"觀測站",title:"天體與數字",description:"數為宇宙本質，透過對於數字的洞悉，了解天體的運行法則，得以建造先進的觀測站，打開宇宙觀測的新里程碑。\n「在數學的天地裡，重要的不是我們知道什麼，而是我們如何知道什麼」—— 畢達哥拉斯",level:1,nextLevel:"none",parent:"c2"}]}]}]},militaryBuilding:{id:"m0",name:"市政中心",title:"宙斯之杖",description:"獲得宙斯的統治主宰力，在市政中心中運用手中的權杖及雷霆之箭，維護文明秩序。\n「拒絕參與統治的人，會被更糟糕的人統治」—— 柏拉圖",level:1,point:3,experience:30,nextLevel:"none",parent:"root",children:[{id:"m1",name:"訓練所",title:"阿瑞斯之盔",description:"戴上戰神阿瑞斯的軍盔，得以建造訓練所招募強大的士兵，為著星球文明而戰。\n「只有獲得勝利的可能性非常大時，才可進行決戰」—— 恩格斯",level:1,nextLevel:"none",parent:"m0",children:[{id:"m3",name:"兵工廠",title:"赫菲斯托斯工匠爐",description:"發現神匠赫菲斯托斯的工匠爐的秘辛，得以興建兵工廠製作強大的兵器，提升軍事戰力，以抗衡其他勢力。\n「工欲善其事，必先利其器」—— 孔子",level:1,nextLevel:"none",parent:"m1",children:[{id:"m5",name:"飛彈導彈井",title:"阿波羅之眼",description:"透過阿波羅之眼，可建造飛彈導彈井，將瞄準準確度提高至百分之百，並且具有毀滅性的攻擊力。\n「今天你要是不弄死他們，有一天，你就會被他們弄死」—— 何天佑",level:1,nextLevel:"none",parent:"m3"}]}]},{id:"m2",name:"防護網",title:"埃癸斯神盾",description:"將神匠赫菲斯托斯打造的最強之盾，應用於星球防護網上，讓星球遭受的自然天災攻擊降到最低。\n「以子之矛，陷子之盾，何如？」—— 韓非子",level:1,nextLevel:"none",parent:"m0",children:[{id:"m4",name:"防禦塔",title:"塔羅斯巨人",description:"匠神打造的機械巨人，在防禦塔中守衛星球遭受他人的攻擊，並且保護部分的資源不被他人掠奪。\n「故用兵之法，無恃其不來，恃吾有以待之；無恃其不攻，恃吾有所不可攻也」—— 孫武",level:1,nextLevel:"none",parent:"m2"}]}]},economicBuilding:{id:"e0",name:"住宅",title:"赫斯提亞的祝福",description:"家庭保護神赫斯提亞給予住宅祝福，保護人民的生存權，在星球文明長久生存。\n「對於亞當而言，天堂是他的家；然而對於亞當的後裔而言，家是他們的天堂」—— 伏爾泰",level:1,point:1,experience:30,nextLevel:"none",parent:"root",children:[{id:"e1",name:"太空溫室農場",title:"狄蜜特鐮刀",description:"透過豐收女神的鐮刀，在太空溫室農場中收穫眾多糧食，以提供支撐人口所需。\n「希望是永遠的喜悅，有如人類擁有的土地，是每年有收穫、絕不會耗盡的確實財產」—— 史蒂文森",level:1,nextLevel:"none",parent:"e0",children:[{id:"e4",name:"醫院",title:"希波克拉底文集",description:"研讀古希臘希波克拉底醫學文集，獲得醫療治癒能力，在星球文明上建立醫院，醫治疾病外，也醫治人心。\n「人體內自然的痊癒能源，是痊癒的最大力量」—— 希波克拉底",level:1,nextLevel:"none",parent:"e1"}]},{id:"e2",name:"礦坑",title:"黑帝斯之約",description:" 與冥界與礦藏之神黑帝斯結締合約，自此可以在星球建立礦坑，挖礦來得取特殊礦產資源。\n「其實人跟樹是一樣的，越是嚮往高處的陽光，它的根就越要伸向黑暗的地底」—— 尼采",level:1,nextLevel:"none",parent:"e0",children:[{id:"e5",name:"交易中心",title:"荷米斯商神杖",description:"荷米斯的商神杖賦予人類交易的商業手腕，可以設立交易中心，與其他星球文明進行交易。\n「世界真是個交易所、商場、使人予取予舍」—— 貝納勉特",level:1,nextLevel:"none",parent:"e2"}]},{id:"e3",name:"發電廠",title:"安科阿勒能量石",description:"研發安科阿勒能量石，運用在發電廠之中以持續產生巨大能量，供給星球文明之用。\n「」",level:1,nextLevel:"none",parent:"e0",children:[{id:"e6",name:"交通局",title:"荷米斯的藍圖",description:"交通之神荷米斯存留的交通藍圖，在設計圖中，獲得規劃交通路線的能力，得以建造交通局。\n「開車不喝酒，酒後不開車」—— 警政署",level:1,nextLevel:"none",parent:"e3"}]}]},specialBuilding:{}}},"03ea":function(e,t,n){e.exports=n.p+"img/house-b-spawn.ce124d31.png"},"0422":function(e,t,n){},"042d":function(e,t,n){e.exports=n.p+"img/pledge-inactive.7734b866.png"},"04e4":function(e,t,n){e.exports=n.p+"img/hades-portrait.eb530efe.png"},"0515":function(e,t,n){e.exports=n.p+"img/windmill-spawn.b8123b04.png"},"0959":function(e,t,n){e.exports=n.p+"img/mechanism-active.0f6a4f63.png"},"0964":function(e,t,n){e.exports=n.p+"img/resource-transfer-work.5befd76a.png"},"09f5":function(e,t,n){e.exports=n.p+"img/church-work.18ad0655.png"},"0aa7":function(e,t,n){},"0ba5":function(e,t,n){e.exports=n.p+"img/research-center.1e87a5e1.png"},"0bea":function(e,t,n){e.exports=n.p+"img/MRT-shadow-work.5436ab36.png"},"0d7b":function(e,t,n){e.exports=n.p+"img/box-inactive.34d24401.png"},"0f2b":function(e,t,n){e.exports=n.p+"img/senior-walk.e8ecb8cf.png"},"0f9a":function(e,t,n){"use strict";n("96cf");var i=n("3b8d"),a=(n("ac4d"),n("8a81"),n("75fc")),r=(n("456d"),n("ac6a"),n("7514"),n("734c")),o={isInBeginningStory:!1,isBeginner:!1,currentBeginnerGuideScenes:0,uid:12345678,username:"陳大明",nickname:"星際拓荒者",friends:[],friendInvitations:[],coin:{amount:2920,max:1e5,production:0},diamond:120,resourceMax:3e3,detectRange:3,collectAbility:100,collectWeights:[{type:"木頭",weights:1},{type:"石頭",weights:.8},{type:"鋼鐵",weights:.5},{type:"銅礦",weights:.2}],collectorMax:2,coolDownGrid:[],resources:[{type:"木頭",amount:1e3},{type:"石頭",amount:1e3},{type:"鋼鐵",amount:1e3},{type:"銅礦",amount:1e3},{type:"墨金屬",amount:1e3},{type:"鍨金屬",amount:1e3},{type:"氦金屬",amount:1e3},{type:"銝金屬",amount:1e3}],storyMissions:[{id:"m0",state:2,firstRead:!1},{id:"m1",state:2,firstRead:!1},{id:"m2",state:1,firstRead:!0},{id:"m3",state:0,firstRead:!0},{id:"m4",state:0,firstRead:!1}],baggage:{expendables:[],sketch:[{id:"s0",name_zh:"科研中心設計圖"},{id:"s1",name_zh:"大成館設計圖"}],goods:[{id:"g0",name_zh:"薛丁格的貓一般"},{id:"g0",name_zh:"薛丁格的貓一般"},{id:"g1",name_zh:"薛丁格的貓稀有"},{id:"g1",name_zh:"薛丁格的貓稀有"},{id:"g1",name_zh:"薛丁格的貓稀有"},{id:"g2",name_zh:"薛丁格的貓史詩"},{id:"g0",name_zh:"薛丁格的貓一般"}]},achievements:[{title:"星際拓荒者",brief:"擁有第一個星球",state:!0},{title:"星際開墾者",brief:"擁有第二個星球",state:!1}],planets:[],lastLogoutTime:new Date(2019,6,17,23,15),isOnMainPlanet:!1,planetList:[],kyronusInfo:{level:"Max",name:"Kyronus 人類主星",scene:"HumanMainScene",positionX:"00.00",positionY:"00.00",type:"奎奈爾"}},s={getUserUid:function(){return o.uid},getCurrentPlanetId:function(){var e=o.planets.find(function(e){return!0===e.state});if(e)return e.pid},getIsInBeginningStory:function(){return o.isInBeginningStory},getIsBeginner:function(){return o.isBeginner},getCurrentBeginnerGuideScenes:function(){return o.currentBeginnerGuideScenes},getDiamond:function(){return o.diamond},getCoin:function(){return o.coin},getBaggage:function(){return o.baggage}},c={SET_USER:function(e,t){Object.keys(t).forEach(function(n){e[n]=t[n]})},SET_PLANETLIST:function(e,t){t.forEach(function(e){e.pid=e._id,e.scene="PlayScene"}),e.planetList=[e.kyronusInfo].concat(Object(a["a"])(t))},COMPLETE_BEGINNINGSTORY:function(e){e.isInBeginningStory=!1},COMPLETE_BEGINNER:function(e){e.isBeginner=!1},NEXT_SCENES:function(e){e.currentBeginnerGuideScenes+=1},SET_FIRSTREAD:function(e,t){e.storyMissions[t].firstRead=!1},SPEND_DIAMOND:function(e,t){e.diamond-=t},GAIN_DIAMOND:function(e,t){e.diamond+=t},SPEND_COIN:function(e,t){e.coin.amount-=t},GAIN_COIN:function(e,t){e.coin.amount+=t},SPEND_RESOURCES:function(e,t){var n=!0,i=!1,a=void 0;try{for(var r,o=function(){var t=r.value;e.resources.map(function(e){e.type===t.type&&(e.amount-=t.amount)})},s=t[Symbol.iterator]();!(n=(r=s.next()).done);n=!0)o()}catch(c){i=!0,a=c}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}},ADD_RESOURCES:function(e,t){var n=!0,i=!1,a=void 0;try{for(var r,o=function(){var t=r.value;e.resources.map(function(n){if(n.type===t.type){var i=n.amount+t.amount;n.amount=i>e.resourceMax?e.resourceMax:i}})},s=t[Symbol.iterator]();!(n=(r=s.next()).done);n=!0)o()}catch(c){i=!0,a=c}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}},ADD_BAGGAGEITEMS:function(e,t){e.baggage=[].concat(Object(a["a"])(e.baggage),Object(a["a"])(t))},ADD_COOLDOWNGRID:function(e,t){e.coolDownGrid.push(t)},CHECK_USER_COOLDOWN:function(e){e.coolDownGrid=e.coolDownGrid.filter(function(e){return e.finishTime>=Date.now()})},SET_FRIENDS:function(e,t){e.friends=t},ADD_FRIEND:function(e,t){e.friends.push(t)},SET_FRIENDINVITATIONS:function(e,t){e.friendInvitations=t},REMOVE_FRIENDINVITATIONS:function(e,t){e.friendInvitations=e.friendInvitations.filter(function(e){return e.uid!==t})},ADD_COIN:function(e,t){e.coin.max>e.coin.amount+t?e.coin.amount=e.coin.amount+t:e.coin.amount=e.coin.max},COUNT_COIN_PRODUCTION:function(e,t){e.coin.production=50+(t.value.food+t.value.entertainment+t.value.power)/3*t.population.amount/t.population.max,0===t.population.max&&(e.coin.production=0)},SET_RESOURCE_MAX:function(e,t){e.resourceMax=t,e.resources.forEach(function(t){t.amount>e.resourceMax&&(t.amount=e.resourceMax)})}},u={login:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(r["a"])("/user/login",{method:"post",data:JSON.stringify(n)});case 3:return e.abrupt("return",!0);case 6:throw e.prev=6,e.t0=e["catch"](0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));function t(t,n){return e.apply(this,arguments)}return t}(),register:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(r["a"])("/user/register",{method:"post",data:JSON.stringify(n)});case 3:return i=e.sent,t.commit("SET_USER",i.data),e.abrupt("return",!0);case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])}));function t(t,n){return e.apply(this,arguments)}return t}(),completeBeginningStory:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.commit("COMPLETE_BEGINNINGSTORY"),e.next=4,Object(r["a"])("/user/isInBeginningStory",{method:"patch"});case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e["catch"](0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));function t(t){return e.apply(this,arguments)}return t}(),completeBeginner:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.commit("COMPLETE_BEGINNER"),e.next=4,Object(r["a"])("/user/isBeginner",{method:"patch"});case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e["catch"](0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));function t(t){return e.apply(this,arguments)}return t}(),nextScenes:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.commit("NEXT_SCENES"),e.next=4,Object(r["a"])("user/currentBeginnerGuideScenes",{method:"patch",data:JSON.stringify({currentScenes:t.state.currentBeginnerGuideScenes})});case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e["catch"](0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));function t(t){return e.apply(this,arguments)}return t}(),spendDiamond:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!(t.state.diamond>=n.diamond)){e.next=8;break}return t.commit("SPEND_DIAMOND",n.diamond),e.next=5,Object(r["a"])("/user/diamond",{method:"patch",data:JSON.stringify({diamond:t.state.diamond})});case 5:return e.abrupt("return",!0);case 8:throw new Error;case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e["catch"](0),e.t0;case 14:case"end":return e.stop()}},e,null,[[0,11]])}));function t(t,n){return e.apply(this,arguments)}return t}(),gainDiamond:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.commit("GAIN_DIAMOND",n.diamond),e.next=4,Object(r["a"])("/user/diamond",{method:"patch",data:JSON.stringify({diamond:t.state.diamond})});case 4:return e.abrupt("return",!0);case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}));function t(t,n){return e.apply(this,arguments)}return t}(),spendCoin:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.commit("SPEND_COIN",n),e.next=4,Object(r["a"])("/user/coin",{method:"patch",data:JSON.stringify({coin:t.state.coin})});case 4:return e.abrupt("return",!0);case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}));function t(t,n){return e.apply(this,arguments)}return t}(),getUserData:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(r["a"])("/user",{method:"get"});case 3:return n=e.sent,t.commit("SET_USER",n.data),e.abrupt("return",!0);case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])}));function t(t){return e.apply(this,arguments)}return t}(),spendResources:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.commit("SPEND_RESOURCES",n),e.next=4,Object(r["a"])("/user/resources",{method:"patch",data:JSON.stringify({resources:t.state.resources})});case 4:return e.abrupt("return",!0);case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}));function t(t,n){return e.apply(this,arguments)}return t}(),collectResources:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.commit("ADD_RESOURCES",n),e.next=4,Object(r["a"])("/user/resources",{method:"patch",data:JSON.stringify({resources:t.state.resources})});case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e["catch"](0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));function t(t,n){return e.apply(this,arguments)}return t}(),addBaggageItems:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,t.commit("ADD_BAGGAGEITEMS",n),e.next=7;break;case 4:throw e.prev=4,e.t0=e["catch"](0),e.t0;case 7:case"end":return e.stop()}},e,null,[[0,4]])}));function t(t,n){return e.apply(this,arguments)}return t}(),collectCoolDown:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.commit("ADD_COOLDOWNGRID",n),e.next=4,Object(r["a"])("/user/coolDownGrid",{method:"post",data:JSON.stringify({gridData:n})});case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e["catch"](0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));function t(t,n){return e.apply(this,arguments)}return t}(),getPlanetList:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(r["a"])("/user/planetList",{method:"get"});case 3:return i=e.sent,t.commit("SET_PLANETLIST",i.data),e.abrupt("return",!0);case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])}));function t(t,n){return e.apply(this,arguments)}return t}(),searchUser:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){var i,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(r["a"])("/user/search/".concat(n.uid),{method:"get"});case 3:return i=e.sent,a=i.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])}));function t(t,n){return e.apply(this,arguments)}return t}(),getFriends:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(r["a"])("/user/friends",{method:"get"});case 3:n=e.sent,i=n.data,t.commit("SET_FRIENDS",i),e.next=11;break;case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])}));function t(t){return e.apply(this,arguments)}return t}(),acceptFriendInvitation:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,t.commit("ADD_FRIEND",n.user),t.commit("REMOVE_FRIENDINVITATIONS",n.user.uid),e.next=8;break;case 5:throw e.prev=5,e.t0=e["catch"](0),e.t0;case 8:case"end":return e.stop()}},e,null,[[0,5]])}));function t(t,n){return e.apply(this,arguments)}return t}(),getAllFriendInvitations:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(r["a"])("/user/friendInvitations",{method:"get"});case 3:n=e.sent,i=n.data,t.commit("SET_FRIENDINVITATIONS",i),e.next=11;break;case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])}));function t(t){return e.apply(this,arguments)}return t}()};t["a"]={namespaced:!0,state:o,getters:s,mutations:c,actions:u}},"0fdd":function(e,t,n){},"10f2":function(e,t,n){e.exports=n.p+"img/planet-Info.0d2aff05.png"},1170:function(e,t,n){e.exports=n.p+"img/warehouse-locked.cbd0ee20.png"},1251:function(e,t,n){},"137a":function(e,t,n){e.exports=n.p+"img/old-man.3b788fd0.png"},1389:function(e,t,n){e.exports=n.p+"img/resource-transfer-spawn.f78490e0.png"},1493:function(e,t,n){e.exports=n.p+"img/touch-dot.cc0e2bce.png"},"14b2":function(e){e.exports={result:[{},{experience:60,scale:!1,diamond:!0,point:2},{experience:72,scale:!0,diamond:!0,point:2},{experience:86,scale:!1,diamond:!0,point:2},{experience:103,scale:!1,diamond:!0,point:2},{experience:124,scale:!1,diamond:!0,point:2},{experience:149,scale:!1,diamond:!0,point:2},{experience:179,scale:!1,diamond:!0,point:2},{experience:215,scale:!1,diamond:!0,point:2},{experience:258,scale:!0,diamond:!0,point:3},{experience:310,scale:!1,diamond:!0,point:3},{experience:372,scale:!1,diamond:!0,point:3},{experience:446,scale:!1,diamond:!0,point:3},{experience:535,scale:!1,diamond:!0,point:3},{experience:642,scale:!1,diamond:!0,point:3},{experience:770,scale:!1,diamond:!0,point:3},{experience:924,scale:!1,diamond:!0,point:3},{experience:1109,scale:!1,diamond:!0,point:3},{experience:1331,scale:!1,diamond:!0,point:3},{experience:1597,scale:!0,diamond:!0,point:3},{experience:1916,scale:!1,diamond:!0,point:3},{experience:2299,scale:!1,diamond:!0,point:3},{experience:2759,scale:!1,diamond:!0,point:3},{experience:3311,scale:!1,diamond:!0,point:3},{experience:3973,scale:!1,diamond:!0,point:3},{experience:4768,scale:!1,diamond:!0,point:3},{experience:5722,scale:!1,diamond:!0,point:3},{experience:6866,scale:!1,diamond:!0,point:3},{experience:8239,scale:!1,diamond:!0,point:3},{experience:9887,scale:!0,diamond:!0,point:3},{experience:11864,scale:!1,diamond:!0,point:3},{experience:14237,scale:!1,diamond:!0,point:3},{experience:17084,scale:!1,diamond:!0,point:3},{experience:20501,scale:!1,diamond:!0,point:3},{experience:24601,scale:!1,diamond:!0,point:3},{experience:29521,scale:!1,diamond:!0,point:3},{experience:35425,scale:!1,diamond:!0,point:3},{experience:42510,scale:!1,diamond:!0,point:3},{experience:51012,scale:!1,diamond:!0,point:3},{experience:61214,scale:!0,diamond:!0,point:3},{experience:73457,scale:!1,diamond:!0,point:3},{experience:88148,scale:!1,diamond:!0,point:3},{experience:105778,scale:!1,diamond:!0,point:3},{experience:126934,scale:!1,diamond:!0,point:3},{experience:152321,scale:!1,diamond:!0,point:3},{experience:182785,scale:!1,diamond:!0,point:3},{experience:219342,scale:!1,diamond:!0,point:3},{experience:263210,scale:!1,diamond:!0,point:3},{experience:315852,scale:!1,diamond:!0,point:3},{experience:379022,scale:!0,diamond:!0,point:3}]}},"16de":function(e,t,n){e.exports=n.p+"img/back.290602b5.png"},"182c":function(e,t,n){"use strict";var i=n("27fb"),a=n.n(i);a.a},"186f":function(e,t,n){e.exports=n.p+"img/research-center-spawn.d7df26cd.png"},1890:function(e,t,n){"use strict";var i=n("6b79"),a=n.n(i);a.a},"198f":function(e,t,n){e.exports=n.p+"img/book-inactive.125f6116.png"},"1b0b":function(e,t,n){},"1b9f":function(e,t,n){e.exports=n.p+"img/house-a-spawn.2ceb4855.png"},"1dbd":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dialog-root",style:e.dialogData[e.currentScenes].position,on:{click:function(t){return t.stopPropagation(),e.$emit("nextScenes","dialog")}}},[i("div",{staticClass:"dialog-wrapper",style:e.dialogData[e.currentScenes].style},[i("span",[e._v("拉維多長老")]),i("p",{domProps:{innerHTML:e._s(e.dialogData[e.currentScenes].message)}}),e.dialogData[e.currentScenes].dialog?i("i",{style:{"background-image":"url("+n("1493")+")"}}):e._e(),i("div",[i("img",{attrs:{src:n("137a")}})])])])},a=[],r=(n("7f7f"),n("c5f6"),{props:{currentScenes:Number,planet:Object},data:function(){return{dialogData:[{dialog:!0,position:{bottom:"130px"},style:{height:"82px"},message:"\n            歡迎來到".concat(this.planet.name,"星球</br>\n            我接下來將一步一步帶領你</br>\n            建造屬於自己的星球文明。\n          ")},{dialog:!1,position:{bottom:"130px"},style:{height:"64px"},message:"\n           打造城市，從研發開始！</br>\n            請點擊圖面上「科研中心」建築。\n          "},{dialog:!1,position:{bottom:"130px"},style:{height:"64px"},message:"\n            現在請先點擊右下方「功能」按鍵，</br>\n            進入科研中心的建築功能頁。\n          "},{dialog:!0,position:{bottom:"34px"},style:{height:"107px"},message:"\n            每個建築的功能不一樣，</br>\n            由「科研中心」為例，</br>\n            其功能為研發新科技，</br>\n            並且解鎖各種建築物的建造能力。\n          "},{dialog:!1,position:{bottom:"34px"},style:{height:"82px"},message:"\n            讓我們先點擊最上方的＿＿＿＿圖示吧！\n          "},{dialog:!1,position:{bottom:"34px"},style:{height:"82px"},message:"\n            點擊「進行研發」，</br>\n            將可以對「潘朵拉的盒子」進行研究，</br>\n            並且獲得建造「倉庫」的能力。\n          "},{dialog:!1,position:{bottom:"130px"},style:{height:"64px"},message:"\n            點擊「離開」，</br>\n            返回遊戲主畫面。\n          "},{},{dialog:!1,position:{bottom:"130px"},style:{height:"64px"},message:"\n            現在請再次點擊「建造」按鈕，</br>\n            讓我們來興建「倉庫」。\n          "},{dialog:!1,position:{bottom:"34px"},style:{height:"82px"},message:"\n            點擊下方的縮圖即可切換建築，</br>\n            找到「倉庫」，</br>\n            並且按下「建造該建築」吧！\n          "},{dialog:!1,position:{bottom:"130px"},style:{height:"82px"},message:"\n            點擊地圖上其中還沒有建築的位置，</br>\n            並點擊下方的「建造」按鈕，</br>\n            即可進行建造。\n          "},{},{dialog:!0,position:{bottom:"130px"},style:{height:"64px"},message:"\n            恭喜您建立了倉庫，</br>\n            並且升級到了等級二。'\n          "},{dialog:!0,position:{bottom:"130px"},style:{height:"99px"},message:"\n            每當玩家進行建造、採集等行為時，</br>\n            經驗值會上升，經驗值滿後將會升級，</br>\n            等級上升可以獲得寶石、科研點數，</br>\n            或是提升土地地盤等獎勵。'\n          "},{dialog:!1,position:{bottom:"130px"},style:{height:"44px"},message:"\n            現在請先點擊建造完成的建築，啟用倉庫。\n          "},{dialog:!1,position:{bottom:"130px"},style:{height:"84px"},message:"\n            現在讓我們來看看，</br>\n            剛建造的「倉庫」有哪些功能，<br/>\n            請點擊圖面上「倉庫」建築。\n          "},{dialog:!1,position:{bottom:"130px"},style:{height:"44px"},message:"\n            點擊右下方「功能」按鈕。\n          "},{},{dialog:!0,position:{bottom:"34px"},style:{height:"103px"},message:"\n            這裡可以看到倉庫所存放的資源與物品，</br>\n            其中，建築建材的容量有限制，</br>\n            需要透過蓋倉庫或者升級倉庫，</br>\n            來獲得更多的存放空間。\n          "},{dialog:!0,position:{bottom:"34px"},style:{height:"141px"},message:"\n            <strong>克金石</strong>是宇宙中最稀有的物質，</br>\n            可以運用魔法執行不合常理的操作。</br>\n            <strong>金幣</strong>可用於建造或是交易行為。</br>\n            <strong>建築建材</strong>則是建造中所需的資源。</br>\n            此外，當有收集到特殊的物品時，</br>\n            會置放於<strong>背包物品欄</strong>之中。\n          "},{dialog:!0,position:{bottom:"34px"},style:{height:"101px"},message:"\n            查看庫存除了從「倉庫」建築的</br>\n            功能鍵進入外，</br>\n            也可以從主畫面左下方的「資源」按鈕</br>\n            直接進入喔！\n          "},{dialog:!1,position:{bottom:"130px"},style:{height:"64px"},message:"\n            點擊「離開」，</br>\n            返回遊戲主畫面。\n          "},{dialog:!0,position:{bottom:"130px"},style:{height:"101px"},message:"\n            在建造建築時，</br>\n            皆需要各樣的資源，</br>\n            其中<strong>木頭</strong>、<strong>石板</strong>、<strong>鋼鐵</strong>與<strong>銅礦</strong>，</br>\n            可以在地球中採集獲得。\n          "},{dialog:!0,position:{bottom:"130px"},style:{height:"64px"},message:"\n            然而隨著人類待在外太空的時間拉長，</br>\n            發現一些根本上的問題...\n          "},{},{},{},{},{position:{bottom:"130px"},style:{height:"64px"},message:"\n            現在，請點擊下方的「採集」按鈕，</br>\n            讓我們回到地球採集資源吧！\n          "},{dialog:!0,position:{bottom:"130px"},style:{height:"82px"},message:"\n            目前在地球上的波波拉，</br>\n            狀態趨緩不再失控，</br>\n            我們可以在您所在的格子上進行資源採集。\n          "},{dialog:!0,position:{bottom:"130px"},style:{height:"101px"},message:"\n            左上方為待命中的採集機器人數量，</br>\n            與玩家資源存量。</br>\n            當仍有剩餘的採集機器人時，</br>\n            即可進行採集功能。\n          "},{dialog:!1,position:{bottom:"130px"},style:{height:"64px"},message:"\n            現在請先點擊定位點所在的格子，</br>\n            下方將會顯示該格的地表資訊。\n          "},{dialog:!1,position:{bottom:"130px"},style:{height:"64px"},message:"\n            接下來按下「進行採集」按鈕，</br>\n            將可進行採集。\n          "},{},{style:{opacity:0}},{dialog:!1,position:{bottom:"130px"},style:{height:"64px"},message:"\n            這樣就採集成功了！</br>\n            現在請再點選一次定位點所在的格子。\n          "},{dialog:!0,position:{bottom:"130px"},style:{height:"111px"},message:"\n            採集成功後，你會得到基本資源，</br>\n            並且該格會進入冷卻時間、</br>\n            採集機器人也會減少一個，</br>\n            該格在冷卻結束前，</br>\n            無法再對此格進行採集。\n          "},{dialog:!0,position:{bottom:"130px"},style:{height:"82px"},message:"\n            不過若有剩餘的採集機器人，</br>\n            仍可走到其他格子，</br>\n            對其他格子進行採集。\n          "},{dialog:!0,position:{bottom:"130px"},style:{height:"101px"},message:"\n            此外，若該格被採集者們採集殆盡，</br>\n            該格的波波拉將會失控，</br>\n            無法再度採集資源，</br>\n            須等待資源重生後，才可以進行採集。\n          "},{},{dialog:!0,position:{bottom:"130px"},style:{height:"101px"},message:"\n            建造新的建築物需要花費金幣，</br>\n            那要如何獲得金幣呢？</br>\n            「住宅」能提高星球人口上限，</br>\n            而人口可為星球帶來金幣。\n          "},{dialog:!0,position:{bottom:"130px"},style:{height:"84px"},message:"\n            基礎人口增長率為每小時增加10人，</br>\n            上限為住宅所提供的人口容量，</br>\n            而產值取決於<strong>人口多寡</strong>。\n          "},{dialog:!0,position:{bottom:"130px"},style:{height:"84px"},message:"\n            想要查看人口及其他星球資訊，</br>\n            可以直接點擊星球名稱旁的圖示</br>\n            深入了解哦！\n          "},{dialog:!0,position:{bottom:"130px"},style:{height:"119px"},message:"\n            除了建造、採集、研發之外，</br>\n            我們還需要有<strong>執政官</strong>來幫助我們！</br>\n            帶給星球更多效益。</br>\n            尋找執政官的方式，</br>\n            需要透過「<strong>黑帝斯聖殿</strong>」。\n          "},{dialog:!0,position:{bottom:"130px"},style:{height:"101px"},message:"\n            「黑帝斯聖殿」的位置，</br>\n            位於人類的主星 — Kyronus 上，</br>\n            到達 Kyronus 唯一的方式是，</br>\n            透過「<strong>巨石陣傳送門</strong>」抵達。\n          "},{dialog:!1,position:{bottom:"130px"},style:{height:"84px"},message:"\n            現在請點擊地圖中「巨石陣傳送門」，</br>\n            並點選星號圖示，</br>\n            前往「巨石陣傳送門」建築功能頁面。\n          "},{dialog:!1,position:{bottom:"130px"},style:{height:"44px"},message:"\n            點擊右下方「功能」按鈕。\n          "},{dialog:!1,position:{bottom:"34px"},style:{height:"84px"},message:"\n            在傳送門功能頁中，</br>\n            可以找到「Kyronus」人類主星，</br>\n            點擊「前往」讓我們去一探究竟吧！\n          "},{dialog:!1,position:{bottom:"130px"},style:{height:"84px"},message:"\n            Kyronus星球為第一顆人類移居的星球，</br>\n            具有高度發展的文明，</br>\n            現在請尋找並點擊「黑帝斯聖殿」。\n          "},{dialog:!1,position:{bottom:"130px"},style:{height:"44px"},message:"\n            點擊右下方「功能」按鈕。\n          "},{dialog:!0,position:{bottom:"34px"},style:{height:"84px"},message:"\n            這裡是<strong>黑帝斯聖殿</strong>殿堂，</br>\n            您可以使用<strong>50顆克金石</strong>進行靈魂審判，</br>\n            將可以<strong>召喚隨機角色</strong>。\n          "},{dialog:!1,position:{bottom:"34px"},style:{height:"64px"},message:"\n            請觸摸雕像下方的<strong>遠古銘文</strong>，</br>\n            以進行靈魂審判。\n          "},{dialog:!1,position:{bottom:"34px"},style:{height:"64px"},message:"\n            按下確認，</br>\n            花費克金石來召喚角色。\n          "},{},{style:{opacity:0}},{dialog:!0,position:{bottom:"34px"},style:{height:"101px"},message:"\n            每次進行靈魂審判皆會召喚一個角色，</br>\n            這些角色有著各式各樣的<strong>效果</strong>，</br>\n            可以將他們安排至<strong>市政中心</strong>中，</br>\n            星球將會得到這些效果。\n          "},{},{},{dialog:!1,position:{bottom:"130px"},style:{height:"84px"},message:"\n            現在請在圖面中找到並點擊「市政中心」，</br>\n            接著再點擊星號「建築功能」，</br>\n            進入市政中心的建築功能頁面中。\n          "},{dialog:!1,position:{bottom:"130px"},style:{height:"44px"},message:"\n            點擊右下方「功能」按鈕。\n          "},{dialog:!0,position:{bottom:"34px"},style:{height:"101px"},message:"\n            我們可以在此安排執政官，</br>\n            從黑帝斯聖殿召喚的角色會</br>\n            位於下方的執政人選中，</br>\n            長按圖像可看到詳細的角色資訊。\n          "},{dialog:!1,position:{bottom:"34px"},style:{height:"64px"},message:"\n            現在讓我們來安排執政官吧！</br>\n            將「執政人選」托移至上方的執政格。\n          "},{dialog:!1,position:{bottom:"130px"},style:{height:"84px"},message:"\n            已完成執政官的安排，</br>\n            該人物角色的能力效果立即發揮。</br>\n            接著點選「離開」'\n          "},{},{dialog:!0,position:{bottom:"130px"},style:{height:"111px"},message:"\n            相信你現在對於星球開發已小有心得。</br>\n            除了剛介紹的功能外，</br>\n            你還可以進入下方選單的「<strong>任務</strong>」，</br>\n            或許會讓你對Kyronus有更多的了解。\n          "},{dialog:!0,position:{bottom:"130px"},style:{height:"84px"},message:"\n            接下來如果要找到我的話，</br>\n            我會再Kyronus主星上喔！</br>\n            祝你一切順利，先告辭了。\n          "}]}}}),o=r,s=(n("8eda"),n("2877")),c=Object(s["a"])(o,i,a,!1,null,"21443905",null);t["a"]=c.exports},2093:function(e,t,n){"use strict";var i=n("d512"),a=n.n(i);a.a},"20ec":function(e,t,n){e.exports=n.p+"img/collect.25cbaf7b.png"},"22e3":function(e,t,n){e.exports=n.p+"img/forest-work.de45ad2f.png"},2356:function(e,t,n){e.exports=n.p+"img/intelligence-active.ec000134.png"},"23bf":function(e,t,n){},2445:function(e,t,n){e.exports=n.p+"img/tile-2.a502212c.png"},"278c":function(e,t,n){"use strict";var i=n("3619"),a=n.n(i);a.a},"27fb":function(e,t,n){},"28aa":function(e,t,n){e.exports=n.p+"img/pasture-work.567a0138.png"},2976:function(e,t,n){},2995:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"build-mode"},[i("p",[e._v("請點擊地盤興建建築")]),e.isErr?i("div",{staticClass:"err-msg"},[i("p",[e._v("此地盤已有建築或位於地圖邊緣，無法興建")])]):e._e(),i("div",{staticClass:"button-group"},[i("div",[i("button",{staticClass:"icon-button",style:{"background-image":"url("+n("69e9")+")"},on:{click:e.close}}),i("span",[e._v("離開")])]),i("div",[i("button",{ref:"buildBtn",staticClass:"icon-button",style:{"background-image":"url("+n("c8c8")+")"},on:{click:e.build}}),i("span",[e._v("建造")])])])])},a=[],r=(n("7f7f"),n("cebc")),o=(n("96cf"),n("3b8d")),s=n("e264"),c=n("2f62"),u={props:{building:Object},data:function(){return{isErr:!1,module:null,actions:s.actions}},created:function(){var e=this;Promise.resolve().then(n.bind(null,"3fa0")).then(function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.module=n,e.module.gameFunction.setIsOnBuildMode(!0);case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},mounted:function(){this.isBeginner&&"建造下去"===this.actions[this.currentScene]&&this.$refs.buildBtn.classList.add("highlight")},computed:Object(r["a"])({},Object(c["c"])("user",{isBeginner:"getIsBeginner",currentScene:"getCurrentBeginnerGuideScenes"})),methods:{build:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,n,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=this,n={id:this.building.id,name:this.building.name,coordinateX:this.module.Obj.lastCoordinateX,coordinateY:this.module.Obj.lastCoordinateY,status:"ing",finishTime:this.setDelayTime(this.building.buildTime),grid:{row:this.building.grid.row,column:this.building.grid.column}},e.next=5,this.module.gameFunction.checkIfCanBuild(n.coordinateX,n.coordinateY,n.id);case 5:t.close(),t.$bus.$emit("close"),t.$bus.$emit("nextScenes","建造下去"),t.$store.dispatch("planet/buildBuilding",{building:n}).then(Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:1===n.grid.row&&1===n.grid.column?t.module.gameFunction.createBuilding("b0",n,!1):1===n.grid.row&&2===n.grid.column?t.module.gameFunction.createBuilding("b2",n,!1):2===n.grid.row&&2===n.grid.column&&t.module.gameFunction.createBuilding("b4",n,!1);case 1:case"end":return e.stop()}},e)}))).then(Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.$store.dispatch("planet/gainExperience",i.building.experience));case 1:case"end":return e.stop()}},e)}))).then(Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.$store.dispatch("user/spendCoin",i.building.cost));case 1:case"end":return e.stop()}},e)}))).then(Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.$store.dispatch("user/spendResources",i.building.resources));case 1:case"end":return e.stop()}},e)}))).catch(console.log),e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](0),this.isErr=!e.t0,setTimeout(function(){i.isErr=!i.isErr},1e3);case 15:case"end":return e.stop()}},e,this,[[0,11]])}));function t(){return e.apply(this,arguments)}return t}(),close:function(){this.$emit("close")},setDelayTime:function(e){var t=60*e*1e3,n=Date.now(),i=n+t;return i}}},l=u,d=(n("786b"),n("2877")),p=Object(d["a"])(l,i,a,!1,null,"3cdbf48c",null);t["a"]=p.exports},"2a61":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"menu-wrapper"},[n("transition-group",{staticClass:"menu-transition-wrapper",attrs:{name:e.user.isOnMainPlanet?"menu-on-main":"menu-on-game",tag:"div"}},e._l(e.features,function(t,i){return e.isModalOpen?n("div",{key:t.title+"-"+i,staticClass:"menu-item",on:{click:function(n){return e.openModal(t.title,n)}}},["採集"===t.title?n("router-link",{ref:t.ref,refInFor:!0,staticClass:"icon-button",style:{"background-image":"url("+t.icon+")"},attrs:{tag:"button",to:e.user.isBeginner?"/beginner_collect":"/collect"},on:{click:function(t){return e.emit("nextScenes","採集頁面")}}}):n("button",{ref:t.ref,refInFor:!0,staticClass:"icon-button",style:{"background-image":"url("+t.icon+")"}}),n("label",[e._v(e._s(t.title))])],1):e._e()}),0)],1)},a=[],r=n("cebc"),o=(n("96cf"),n("3b8d")),s=n("2f62"),c=n("e264"),u={props:{isModalOpen:Boolean,user:Object},data:function(){return{module:null,actions:c.actions}},created:function(){var e=this;Promise.resolve().then(n.bind(null,"3fa0")).then(function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.module=n;case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},mounted:function(){var e=this;this.$store.watch(function(e,t){return t["user/getCurrentBeginnerGuideScenes"]},function(t,n){e.isBeginner&&("建造頁面"===e.actions[t]&&e.$refs.buildBtn[0].classList.add("highlight"),"採集頁面"===e.actions[t]&&e.$refs.collectBtn[0].$el.classList.add("highlight"))},{deep:!0})},computed:Object(r["a"])({},Object(s["c"])("user",{isBeginner:"getIsBeginner",currentScene:"getCurrentBeginnerGuideScenes"}),{features:function(){return this.user.isOnMainPlanet?[{title:"資源",icon:n("bc8d"),ref:"resourceBtn"},{title:"任務",icon:n("96b1"),ref:"missionBtn"},{title:"商城",icon:n("5e73"),ref:"mallBtn"}]:[{title:"資源",icon:n("bc8d"),ref:"resourceBtn"},{title:"採集",icon:n("20ec"),ref:"collectBtn"},{title:"建造",icon:n("5bbc"),ref:"buildBtn"},{title:"任務",icon:n("96b1"),ref:"missionBtn"},{title:"商城",icon:n("5e73"),ref:"mallBtn"}]}}),methods:{openModal:function(e,t){this.$emit("openModal",e+"頁面")}}},l=u,d=(n("8410"),n("2877")),p=Object(d["a"])(l,i,a,!1,null,"d80bd0be",null);t["a"]=p.exports},"2aad":function(e,t,n){},"2b48":function(e,t,n){e.exports=n.p+"img/blue.431b99d2.png"},"2df3":function(e,t,n){},"2e32":function(e,t,n){e.exports=n.p+"img/friendship-contract-active.a1d5e3ce.png"},"2e91":function(e,t,n){},"34c0":function(e,t,n){e.exports=n.p+"img/stone-portal-work.6d8e5adc.png"},3619:function(e,t,n){},"373a":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"modal-card-diamond-root"},[i("i",{style:{"background-image":"url("+n("73eb")+")"}}),e.isInsufficient?i("div",[i("p",{domProps:{innerHTML:e._s(e.displayedMsg)}}),i("div",[i("button",{on:{click:function(t){return e.$emit("cancel")}}},[e._v("返回")])])]):i("div",[i("p",{domProps:{innerHTML:e._s(e.displayedMsg)}}),i("div",[i("button",{on:{click:function(t){return e.$emit("cancel")}}},[e._v("取消")]),i("button",{on:{click:e.confirm}},[e._v("確認")])])])])},a=[],r=(n("96cf"),n("3b8d")),o=n("cebc"),s=(n("a481"),n("c5f6"),n("2f62")),c={props:{msg:String,errorMsg:String,requiredDiamond:Number},data:function(){return{displayedMsg:"",isInsufficient:!1}},created:function(){this.displayedMsg=this.msg.replace(/requiredDiamond/i,this.requiredDiamond)},computed:Object(o["a"])({},Object(s["c"])("user",{diamond:"getDiamond"})),methods:Object(o["a"])({},Object(s["b"])("user",["spendDiamond"]),{confirm:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.spendDiamond({diamond:this.requiredDiamond});case 3:this.$emit("confirm"),e.next=10;break;case 6:e.prev=6,e.t0=e["catch"](0),this.isInsufficient=!0,this.displayedMsg=this.errorMsg.replace(/requiredDiamond/i,this.requiredDiamond);case 10:case"end":return e.stop()}},e,this,[[0,6]])}));function t(){return e.apply(this,arguments)}return t}()})},u=c,l=(n("99e4"),n("2877")),d=Object(l["a"])(u,i,a,!1,null,"79f61882",null);t["a"]=d.exports},3826:function(e,t,n){"use strict";var i=n("a7d6"),a=n.n(i);a.a},3896:function(e,t,n){e.exports=n.p+"img/steel.380c4283.png"},"3adb":function(e,t,n){e.exports=n.p+"img/yu-portrait.308a2c17.png"},"3b64":function(e,t,n){"use strict";var i=n("7b76"),a=n.n(i);a.a},"3b84":function(e,t,n){e.exports=n.p+"img/marker.d8296090.png"},"3d0d":function(e,t,n){},"3db3":function(e,t,n){e.exports=n.p+"img/windmill-work.e6921780.png"},"3ed8":function(e,t,n){},"3f5f":function(e,t,n){e.exports=n.p+"img/power-stone-inactive.f0d950c0.png"},"3fa0":function(e,t,n){"use strict";n.r(t);var i,a,r,o=n("d225"),s=n("b0b4"),c=n("308d"),u=n("6bb5"),l=n("4e2b"),d=n("64b8"),p=n.n(d),m=n("e22e"),h=n("5a62"),g={southEast:{offset:0,x:2,y:1,opposite:"northWest"},northWest:{offset:20,x:-2,y:-1,opposite:"southEast"},seniorSE:{offset:0,x:2,y:1,opposite:"seniorNW"},seniorNW:{offset:2,x:-2,y:-1,opposite:"seniorSE"}},f={drive:{startFrame:0,endFrame:19,updateRate:.02,speed:.5},seniorWalk:{startFrame:0,endFrame:2,updateRate:.5,speed:.15}},b=new p.a.Class({Extends:p.a.GameObjects.Image,initialize:function(e,t,n,i,a,r,o){var s=y/2,c=_/2-144,u=96,l=48;this.scene=e,this.movingObj=t,this.startX=s+n*u-i*u,this.startY=c+n*l+i*l,this.distance=o,this.motion=a,this.anim=f[a],this.direction=g[r],this.f=this.anim.startFrame,p.a.GameObjects.Image.call(this,e,this.startX,this.startY,this.movingObj,this.direction.offset+this.f),this.depth=this.startY+192+48,e.time.delayedCall(1e3*this.anim.updateRate,this.changeFrame,[],this),this.setInteractive(),this.on("pointerdown",function(){console.log(this)})},changeFrame:function(){this.f++;var e=this.anim.updateRate;if(this.f===this.anim.endFrame)switch(this.motion){case"drive":this.f=this.anim.startFrame,this.frame=this.texture.get(this.direction.offset+this.f),this.scene.time.delayedCall(1e3*e,this.changeFrame,[],this);break;default:this.f=this.anim.startFrame,this.frame=this.texture.get(this.direction.offset+this.f),this.scene.time.delayedCall(1e3*e,this.changeFrame,[],this);break}else this.frame=this.texture.get(this.direction.offset+this.f),this.scene.time.delayedCall(1e3*e,this.changeFrame,[],this)},resetAnimation:function(){this.f=this.anim.startFrame,this.frame=this.texture.get(this.direction.offset+this.f),this.scene.time.delayedCall(1e3*this.anim.updateRate,this.changeFrame,[],this)},update:function(){"drive"!==this.motion&&"seniorWalk"!==this.motion||(this.x+=this.direction.x*this.anim.speed,0!==this.direction.y&&(this.y+=this.direction.y*this.anim.speed,this.depth=this.y+192+48),p.a.Math.Distance.Between(this.startX,this.startY,this.x,this.y)>=this.distance&&(this.direction=g[this.direction.opposite],this.f,this.anim.startFrame,this.frame=this.texture.get(this.direction.offset+this.f),this.startX=this.x,this.startY=this.y))}});n.d(t,"default",function(){return C}),n.d(t,"w",function(){return y}),n.d(t,"h",function(){return _}),n.d(t,"Obj",function(){return x}),n.d(t,"userData",function(){return w}),n.d(t,"gameFunction",function(){return r}),n.d(t,"getBuildingMap",function(){return k}),n.d(t,"pointer",function(){return a});var v,y,_,x={lastTile:null,lastCoordinateX:null,lastCoordinateY:null,nowScene:null},O=[],w={},C=function(e){function t(){return Object(o["a"])(this,t),Object(c["a"])(this,Object(u["a"])(t).call(this,{key:"PlayScene"}))}return Object(l["a"])(t,e),Object(s["a"])(t,[{key:"init",value:function(){console.log("v5.7"),y=document.body.clientWidth,_=document.body.clientHeight,console.log("playScene init"),r=new m["a"](this),i=this,i.buildingGroup=this.add.group(),a=i.input.activePointer,i.add.image(y/2,_/2,"bg").setDisplaySize(2*y,2*_).setScrollFactor(0),i.input.on("pointerdown",function(e){h["default"].mutations.setBuildingElement(null,!1),r.cancelJump(),console.log(e.position.x,e.position.y)})}},{key:"preload",value:function(){}},{key:"create",value:function(){console.log("playScene create"),i.events.on("transitioncomplete",function(e,t){x.nowScene="PlayScene";var n=w.scale;i.cameras.main.setSize(y,_).centerOn(y/2,_/2+48*(n-3)),i.cameras.main.setZoom(.5),setTimeout(function(){r.zoomInOut(1,1e3,"Quart.easeOut")},250)}),v=i.add.text(10,150,"",{font:"16px Courier",fill:"#ffffff"}),O.push(i.add.existing(new b(i,"car",1,1,"drive","southEast",400).setOrigin(.5,1))),O.push(i.add.existing(new b(i,"car",2,3,"drive","northWest",300).setOrigin(.5,1))),O.push(i.add.existing(new b(i,"senior",0,1,"seniorWalk","seniorSE",200).setOrigin(0,1))),r.buildMap("tiles"),I(),i.add.image(y/2,_/2-144-5,"indicator").setDepth(1e3);var e=w.scale;i.cameras.main.setSize(y,_).centerOn(y/2,_/2+48*(e-3)),i.cameras.main.setZoom(.5),setTimeout(function(){r.zoomInOut(1,1e3,"Quart.easeOut")},250)}},{key:"update",value:function(){if(O.forEach(function(e){e.update()}),v.setText(Math.floor(i.game.loop.actualFps)),a=i.input.activePointer,a.isDown&&a.getDistance()>10){var e=i.cameras.main.midPoint.x-a.x+a.prevPosition.x,t=i.cameras.main.midPoint.y-a.y+a.prevPosition.y;i.cameras.main.centerOn(e,t)}}}]),t}(d["Scene"]);function k(e,t){w.scale=e,w.buildingMap=t}function I(){w.buildingMap.map(function(e){switch("ing"===e.status&&e.finishTime<=Date.now()&&(console.log("ing改completed"),e.status="completed",delete e.finishTime),e.status){case"done":r.createBuilding(e.id,e,!1);break;case"completed":r.createBuilding("b1",e,!1);break;case"ing":r.createBuilding("b0",e,!1);break}})}},"40ef":function(e,t,n){e.exports=n.p+"img/house-a-work.46f09981.png"},"414a":function(e,t,n){"use strict";var i=n("5d8d"),a=n.n(i);a.a},4374:function(e,t,n){e.exports=n.p+"img/build-process-1x1.64933f14.png"},"43a8":function(e,t,n){e.exports=n.p+"img/crop.1752e3b8.png"},4561:function(e,t,n){e.exports=n.p+"img/cat-rare.0ae817bf.png"},4590:function(e,t,n){"use strict";var i=n("fb8c"),a=n.n(i);a.a},"48b0":function(e,t,n){e.exports=n.p+"img/audio-bgm.59540b57.png"},4989:function(e,t,n){e.exports=n.p+"img/population.33511592.png"},"4a3a":function(e){e.exports={commonBuilding:[{id:"c0",name_zh:"科研中心",name:"researchCenter",level:1,description:"星球中的頂尖科學家，聚集在此，日以繼夜地研發各種奇異事物。",nextLevelId:"none",feature:{component:"architectureTechnology",title:"科研技能數"},experience:0,buildTime:.2,cost:1200,motion:{rate:25,type:"dynamic",repeatDelay:0},grid:{column:2,row:2},isOnlyOne:!0,resources:[{type:"木頭",amount:200},{type:"石頭",amount:20},{type:"鋼鐵",amount:50},{type:"銅礦",amount:10}]},{id:"c1",name_zh:"資源傳輸中心",name:"resourceTransfer",level:1,description:"往地球採集資源的傳送中心，神秘的軌道從來不停歇。",nextLevelId:"none",feature:{component:"resourceTransfer",title:"採集資源"},experience:0,buildTime:.3,cost:1e3,motion:{rate:25,type:"dynamic",repeatDelay:0},grid:{column:2,row:1},isOnlyOne:!0,resources:[{type:"木頭",amount:50},{type:"石頭",amount:30},{type:"銅礦",amount:70}]},{id:"c2",name_zh:"倉庫",name:"warehouse",level:1,description:"擺放從宇宙中蒐集的物品，包括金錢、寶石、礦產、金屬，還有帶有魔力的神祕物品。",nextLevelId:"none",feature:{component:"warehouse",title:"儲存資源"},experience:50,buildTime:.3,cost:800,motion:{rate:25,type:"dynamic",repeatDelay:2500},grid:{column:1,row:1},isOnlyOne:!1,resources:[{type:"木頭",amount:100},{type:"石頭",amount:150},{type:"鋼鐵",amount:120}],buff:[{title:"增加資源上限",value:1e4}]},{id:"c3",name:"houseB",name_zh:"外交大使館",level:1,description:"廣袤的宇宙中，你不是孤單的一人，可以在此認識與你一樣在探險的人們。",nextLevelId:"none",feature:{component:"embassy",title:"查看好友星球"},motion:{type:"static",rate:null},grid:{row:1,column:1},experience:500,cost:2500,buildTime:1,resources:[{type:"木頭",amount:50},{type:"石頭",amount:50},{type:"銅礦",amount:200}],buff:[{title:"朋友上限",value:9999}]},{id:"c4",name_zh:"觀測站",name:"observatory",level:1,description:"藉由科學的技術，可以精準的探測宇宙懸浮物，攔截下重要的資訊。",nextLevelId:"none",feature:{component:"observatory",title:"科研技能數"},experience:1e3,buildTime:2,cost:5e3,isOnlyOne:!0,resources:[{type:"木頭",amount:70},{type:"石頭",amount:10},{type:"鋼鐵",amount:400}]}],militaryBuilding:[{id:"m0",name_zh:"市政中心",name:"government",level:1,description:"高度自動化的政府機構， 全部用機器人取代人工。唯一例外，是特聘的形象大使，也是星球居民的精神象徵！",nextLevelId:"none",feature:{component:"cityHall",title:"市府安排"},experience:50,buildTime:.5,cost:1500,motion:{rate:"null",type:"static"},grid:{column:2,row:1},isOnlyOne:!0,resources:[{type:"木頭",amount:200},{type:"石頭",amount:50},{type:"鋼鐵",amount:20},{type:"銅礦",amount:30}]},{id:"m1",name_zh:"訓練所",name:"barrack",level:1,description:"紀律是這裡的精神標竿， 散漫的人民在此蛻變，成為英勇的士兵，替你打下一座座不同的星球。",nextLevelId:"none",feature:{component:"barrack",title:"訓練士兵"},experience:300,buildTime:1,cost:3500,isOnlyOne:!1,resources:[{type:"木頭",amount:150},{type:"石頭",amount:150},{type:"銅礦",amount:200}]},{id:"m2",name_zh:"防護網",name:"protectiveNet",level:1,description:"在危機重重的星球軌道上，流星不再是浪漫寄託，小行星們從天上瘋狂落下，需要防護網才能擋下這個災難。",nextLevelId:"none",feature:{component:"protectiveNet",title:"抵擋特殊事件攻擊"},experience:780,buildTime:1.2,cost:5e3,isOnlyOne:!1,resources:[{type:"石頭",amount:300},{type:"鋼鐵",amount:400}],buff:[{title:"抵銷特殊事件",value:"10%"}]},{id:"m3",name_zh:"兵工廠",name:"arsenal",level:1,description:"運用辛苦收來的資源，替為你賣命的士兵們遞上戰袍吧，讓士兵們更加無堅不摧！",nextLevelId:"none",feature:{component:"arsenal",title:"增強士兵戰力"},experience:1200,buildTime:1.5,cost:8500,isOnlyOne:!1,resources:[{type:"石頭",amount:700},{type:"鋼鐵",amount:500},{type:"銅礦",amount:500}],buff:[{title:"士兵加成",value:1.2}]},{id:"m4",name_zh:"防禦塔",name:"outpost",level:1,description:"宇宙的敵人來自四面八方，防不勝防，為了減少資源的破壞，必須興建防禦塔才行。",nextLevelId:"none",feature:{component:"outpost",title:"減少資源損失"},experience:4650,buildTime:2,cost:1e4,isOnlyOne:!1,resources:[{type:"木頭",amount:50},{type:"石頭",amount:1e3},{type:"鋼鐵",amount:300},{type:"銅礦",amount:50}],buff:[{title:"減少資源損失",value:"10%"}]},{id:"m5",name_zh:"飛彈導彈井",name:"missileWall",level:1,description:"地上的圓鐵框，不是水溝蓋，而是讓人聞風喪膽的發射井...小翅膀揮阿揮飛阿飛，讓敵人灰飛湮滅。",nextLevelId:"none",feature:{component:"missileWall",title:"遠端攻擊敵人"},experience:7100,buildTime:3,cost:15e4,isOnlyOne:!1,resources:[{type:"木頭",amount:650},{type:"鋼鐵",amount:1e3},{type:"銅礦",amount:100}]}],economicBuilding:[{id:"e0",name_zh:"住宅",name:"houseA",level:1,description:"平房看起來普通，卻是奠基人民生活的主要建築。擁有穩定的住宅數，才能有穩定的人口。",nextLevelId:"none",feature:{component:"residential",title:"增加人口數量"},experience:50,buildTime:.2,cost:1200,motion:{rate:"null",type:"static"},grid:{column:1,row:1},isOnlyOne:!1,resources:[{type:"木頭",amount:100},{type:"石頭",amount:20},{type:"鋼鐵",amount:20},{type:"銅礦",amount:20}],buff:[{title:"人口容量",value:100}]},{id:"e1",name_zh:"太空溫室農場",name:"greenHouse",level:1,description:"太空農場靠著溫室控制著水份、陽光、土壤，種出來的作物完全不輸地球呢。要讓人民吃飽，一定要好好照顧農場的作物。",nextLevelId:"none",feature:{component:"farm",title:"增加糧食產量"},experience:80,buildTime:.3,cost:1500,motion:{rate:25,type:"dynamic",repeatDelay:3e3},grid:{column:2,row:1},isOnlyOne:!1,resources:[{type:"木頭",amount:300}],buff:[{title:"糧食產量",value:100}]},{id:"e2",name_zh:"礦坑",name:"minePit",level:1,description:"「挖礦」是現代人最狂熱的活動之一。比特幣？不，是正港古早味的「挖礦」！十字鎬和探照燈已經成為時尚潮流的指標。",nextLevelId:"none",feature:{component:"minePit",title:"獲取稀有資源"},experience:120,buildTime:.35,cost:1800,isOnlyOne:!1,resources:[{type:"石頭",amount:350},{type:"鋼鐵",amount:70},{type:"銅礦",amount:70}]},{id:"e3",name_zh:"發電廠",name:"powerPlant",level:1,description:"皮卡皮卡，十萬伏特。星球需要足夠的能量，才能讓人民有足夠的生產力。",nextLevelId:"none",feature:{component:"powerPlant",title:"增加能源產量"},experience:700,buildTime:.5,cost:3e3,resources:[{type:"墨金屬",amount:100},{type:"氦金屬",amount:100},{type:"銝金屬",amount:100},{type:"鍨金屬",amount:100}],motion:{rate:30,type:"dynamuc",repeatDelay:4e3},grid:{column:1,row:1},isOnlyOne:!1,buff:[{title:"能量",value:100}]},{id:"e4",name_zh:"醫院",name:"hospital",level:1,description:"完善的醫療資源讓人民安心居住，就算有邪惡的敵人，也可以治療人民，恢復往日的光景。",nextLevelId:"none",feature:{component:"hospital",title:"降低人口和士兵的損失"},experience:1200,buildTime:1,cost:4500,isOnlyOne:!1,resources:[{type:"木頭",amount:300},{type:"石頭",amount:500},{type:"鋼鐵",amount:50},{type:"銅礦",amount:50}],buff:[{title:"降低人口損失",value:"10%"},{title:"降低士兵損失",value:"10%"}]},{id:"e5",name_zh:"交易中心",name:"financialCenter",level:1,description:"人潮洶湧的交易中心，是現代人茶餘飯後的好去處。在這裡，金錢不代表一切，只要你夠本事，以物易物更是王道。",nextLevelId:"none",feature:{component:"financialCenter",title:"與其他玩家交易"},experience:1800,buildTime:1.2,cost:7e3,isOnlyOne:!1,resources:[{type:"木頭",amount:500},{type:"石頭",amount:200},{type:"鋼鐵",amount:100},{type:"銅礦",amount:100}],buff:[{title:"搜索範圍",value:1}]},{id:"e6",name_zh:"交通局",name:"trafficBureau",level:1,description:"交通局致力於交通智能化，若希望路邊的車子能夠更迅速、更美觀，需要這裡的大力協助。",nextLevelId:"none",feature:{component:"trafficBureau",title:"解鎖新的交通工具"},experience:2200,buildTime:1.5,cost:8e3,isOnlyOne:!1,resources:[{type:"木頭",amount:150},{type:"石頭",amount:150},{type:"鋼鐵",amount:200},{type:"銅礦",amount:200}],buff:[{title:"解鎖交通工具",value:3}]}],specialBuilding:[{id:"s0",name:"babylon",name_zh:"巴比倫空中花園",description:"巴比倫空中花園",level:1,nextLevelId:"none",motion:{type:"static",rate:null},resources:[{type:"木頭",amount:500},{type:"石頭",amount:200},{type:"鋼鐵",amount:100},{type:"銅礦",amount:100}],grid:{row:2,column:2},isOnlyOne:!1},{id:"s1",name:"church",name_zh:"教堂",description:"教堂",level:1,nextLevelId:"none",motion:{type:"static",rate:null},resources:[{type:"木頭",amount:500},{type:"石頭",amount:200},{type:"鋼鐵",amount:100},{type:"銅礦",amount:100}],grid:{row:1,column:1},isOnlyOne:!1},{id:"s2",name:"pasture",name_zh:"畜牧農場",description:"畜牧農場",level:1,nextLevelId:"none",motion:{type:"static",rate:null},resources:[{type:"木頭",amount:500},{type:"石頭",amount:200},{type:"鋼鐵",amount:100},{type:"銅礦",amount:100}],grid:{row:1,column:2},isOnlyOne:!1},{id:"s3",name:"forest",name_zh:"森林",description:"森林",level:1,nextLevelId:"none",motion:{type:"static",rate:null},resources:[{type:"木頭",amount:500},{type:"石頭",amount:200},{type:"鋼鐵",amount:100},{type:"銅礦",amount:100}],grid:{row:1,column:1},isOnlyOne:!1},{id:"s4",name:"ncku",name_zh:"成功大學牌坊",description:"成功大學牌坊",level:1,nextLevelId:"none",motion:{type:"static",rate:null},grid:{row:1,column:1},isOnlyOne:!1},{id:"s5",name:"stadium",name_zh:"棒球場",description:"棒球場",level:1,nextLevelId:"none",motion:{type:"static",rate:null},resources:[{type:"木頭",amount:500},{type:"石頭",amount:200},{type:"鋼鐵",amount:100},{type:"銅礦",amount:100}],grid:{row:2,column:2},isOnlyOne:!1}],buildProcess:[{id:"b0",name:"buildProcess1x1",motion:{type:"dynamic",rate:30},grid:{row:1,column:1}},{id:"b1",name:"buildCompleted1x1",motion:{type:"dynamic",rate:30},grid:{row:1,column:1},intro:"建造完成"},{id:"b2",name:"buildProcess1x2",motion:{type:"dynamic",rate:30},grid:{row:1,column:2},intro:"正在建造中"},{id:"b3",name:"buildCompleted1x2",motion:{type:"dynamic",rate:30},grid:{row:1,column:2},intro:"建造完成"},{id:"b4",name:"buildProcess2x2",motion:{type:"dynamic",rate:30},grid:{row:2,column:2},intro:"正在建造中"},{id:"b5",name:"buildCompleted2x2",motion:{type:"dynamic",rate:30},grid:{row:2,column:2},intro:"建造完成"}],kyronusBuilding:[{id:"k0",name:"stonePortal",name_zh:"巨石陣傳送門",description:"傳送到主星",level:1,nextLevelId:"none",feature:{title:"巨石陣傳送門",component:"stonePortal"},isOnlyOne:!0,cost:1200,resources:[{type:"木頭",amount:300},{type:"石頭",amount:300},{type:"鋼鐵",amount:20}],motion:{type:"dynamic",rate:15,repeatDelay:7e3},grid:{row:1,column:1},buildTime:.2},{id:"k1",name:"hadesTemple",name_zh:"黑帝斯聖殿",description:"黑帝斯聖殿",level:1,nextLevelId:"none",feature:{title:"黑帝斯聖殿",component:"hadesTemple"},cost:"1200",resources:[{type:"木頭",amount:300},{type:"石頭",amount:300},{type:"鋼鐵",amount:20},{type:"銅礦",amount:100}],motion:{type:"static",rate:null},grid:{row:1,column:1},isOnlyOne:!0,buildTime:.3},{id:"k2",name:"babylon",name_zh:"巴比倫空中花園",description:"巴比倫空中花園",level:1,nextLevelId:"none",motion:{type:"static",rate:null},grid:{row:2,column:2},isOnlyOne:!1},{id:"k3",name:"church",name_zh:"教堂",description:"教堂",level:1,nextLevelId:"none",motion:{type:"static",rate:null},grid:{row:1,column:1},isOnlyOne:!1},{id:"k4",name:"pasture",name_zh:"畜牧農場",description:"畜牧農場",level:1,nextLevelId:"none",motion:{type:"static",rate:null},grid:{row:1,column:2},isOnlyOne:!0},{id:"k5",name:"forest",name_zh:"森林",description:"森林",level:1,nextLevelId:"none",motion:{type:"static",rate:null},grid:{row:1,column:1},isOnlyOne:!0},{id:"k6",name:"ncku",name_zh:"成功大學牌坊",description:"成功大學牌坊",level:1,nextLevelId:"none",motion:{type:"static",rate:null},grid:{row:1,column:1},isOnlyOne:!0},{id:"k7",name:"stadium",name_zh:"棒球場",description:"棒球場",level:1,nextLevelId:"none",motion:{type:"static",rate:null},grid:{row:2,column:2},isOnlyOne:!1},{id:"k8",name:"houseB",name_zh:"民宅",description:"民宅",level:1,nextLevelId:"none",feature:{component:"embassy",title:"外交大使館"},motion:{type:"static",rate:null},grid:{row:1,column:1},isOnlyOne:!1},{id:"k9",name:"MRT",name_zh:"大眾運輸",description:"大眾運輸",level:1,nextLevelId:"none",motion:{type:"dynamic",rate:15,repeatDelay:3e3},grid:{row:8,column:1},isOnlyOne:!0},{id:"k10",name:"MRTshadow",name_zh:"大眾運輸的陰影",description:"大眾運輸的陰影",level:1,nextLevelId:"none",motion:{type:"static",rate:null},grid:{row:8,column:1},isOnlyOne:!0},{id:"k11",name:"MRT1",name_zh:"小眾運輸",description:"小眾運輸",level:1,nextLevelId:"none",motion:{type:"dynamic",rate:12,repeatDelay:3500},grid:{row:1,column:8},isOnlyOne:!0}]}},"4aa1":function(e,t,n){},"4cba":function(e,t,n){"use strict";var i=n("8589"),a=n.n(i);a.a},"4ce1":function(e,t,n){},"51e7":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"collectingLayer",on:{click:e.close}},[i("div",[i("img",{ref:"collectingAnim",attrs:{src:n("5872")}})]),i("div",[i("div",{ref:"collectingReport"},[e._m(0),i("div",[i("div",{staticClass:"collection-resource"},e._l(e.resources,function(t){return i("div",[i("i",{style:{"background-image":"url("+e.transformImage.things(t.type)+")"}}),i("span",[e._v(e._s(t.amount))])])}),0)])])])])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"heading-default"},[n("h3",[e._v("採集報告")])])}],r=n("8e58"),o={data:function(){return{ifCanClose:!1,transformImage:r["a"],resources:[{type:"木頭",amount:100},{type:"石頭",amount:80},{type:"鋼鐵",amount:50},{type:"銅礦",amount:20}]}},mounted:function(){var e=this;setTimeout(function(){e.$refs.collectingReport.style.opacity=.9,e.$refs.collectingAnim.style.display="none",e.ifCanClose=!0},3200)},methods:{close:function(){this.ifCanClose&&this.$emit("close","採集報告")}}},s=o,c=(n("bd82"),n("2877")),u=Object(c["a"])(s,i,a,!1,null,"41c86c42",null);t["a"]=u.exports},"52c4":function(e,t,n){e.exports=n.p+"img/wood.729f1784.png"},"52fd":function(e,t,n){},"541d":function(e,t,n){e.exports=n.p+"img/power-plant-spawn.c5de4421.png"},5464:function(e,t,n){},"55ff":function(e,t,n){e.exports=n.p+"img/loading.fbe337e3.gif"},5633:function(e,t,n){e.exports=n.p+"img/growth-rate.235905f3.png"},5683:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"user-panel"},[i("div",{staticClass:"user-info"},[i("div",{staticClass:"avatar",on:{click:function(t){return e.openModal("user-profile")}}},[i("div",{staticClass:"portrait"})]),i("div",{staticClass:"name-group"},[i("div",{staticClass:"username"},[i("p",[e._v(e._s(e.user.username))]),i("label",{staticClass:"nickname"},[e._v(e._s(e.user.nickname))])]),e.user.isOnMainPlanet?e._e():i("div",{staticClass:"lv-info"},[i("div",[i("span",[e._v(e._s(e.planet.name))]),i("span",[e._v("Level. "+e._s(e.planet.level))])]),i("button",{staticClass:"show-info-btn",on:{click:function(t){return e.openModal("星球資訊")}}})])])]),"Game"===e.mode?i("div",{staticClass:"wealth-info"},[i("div",{staticClass:"charge-panel"},[i("i",{style:{"background-image":"url("+n("73eb")+")"}}),i("span",[e._v(e._s(e.user.diamond))]),i("i")]),i("div",{staticClass:"charge-panel"},[i("i",{style:{"background-image":"url("+n("8e4c")+")"}}),i("span",[e._v(e._s(e.user.coin.amount))]),i("i")])]):e._e(),"Game"!==e.mode||e.user.isOnMainPlanet?e._e():i("div",{staticClass:"population-info"},[i("div",[i("i",{style:{"background-image":"url("+n("4989")+")"}}),i("span",[e._v(e._s(e.planet.population.amount))])]),i("div",[i("i",{style:{"background-image":"url("+n("5633")+")"}}),i("span",[e._v(e._s(e.planet.population.growth>=0?"+":"-")+e._s(e.planet.population.growth)+"/hr")])])]),"Game"===e.mode?i("div",{staticClass:"button-group",style:{top:e.user.isOnMainPlanet?"95px":"113px"}},[i("i",{staticClass:"flag",style:{"background-image":"url("+n("808b")+")"},on:{click:e.backToOrig}}),e.user.isOnMainPlanet?e._e():i("router-link",{staticClass:"back",style:{"background-image":"url("+n("16de")+")"},attrs:{tag:"i",to:"/home"},nativeOn:{click:function(t){return e.backToPlanetScene(t)}}}),i("i",{staticClass:"scaling",style:{"background-image":"url("+n("96a1")+")"},on:{click:e.zooming}})],1):e._e()])},a=[],r=(n("96cf"),n("3b8d")),o=n("3fa0"),s={props:{mode:String,user:Object,planet:Object},data:function(){return{module:null,module_2:null,isZoomIn:!1}},beforeCreate:function(){var e=this;Promise.resolve().then(n.bind(null,"3fa0")).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.module=n;case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),n.e("chunk-2d0c20e8").then(n.bind(null,"494a")).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.module_2=n;case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},methods:{openModal:function(e){this.$emit("openModal",e)},backToOrig:function(){this.module.gameFunction.backToOrig()},backToPlanetScene:function(){"PlayScene"===o["Obj"].nowScene&&this.module.gameFunction.changeScene("PlanetScene")},zooming:function(){"PlayScene"===o["Obj"].nowScene?this.isZoomIn?this.module.gameFunction.zoomInOut(1,700,"Quart.easeOut"):this.module.gameFunction.zoomInOut(.5,700,"Quart.easeOut"):"HumanMainScene"===o["Obj"].nowScene&&(this.isZoomIn?this.module_2.gameFunction.zoomInOut(1,700,"Quart.easeOut"):this.module_2.gameFunction.zoomInOut(.5,700,"Quart.easeOut")),this.isZoomIn=!this.isZoomIn}}},c=s,u=(n("c2ee"),n("2877")),l=Object(u["a"])(c,i,a,!1,null,"4e03edae",null);t["a"]=l.exports},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d"),n("6cc5");var i=n("2b0e"),a=n("5132"),r=n.n(a),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"game-container"}}),n("router-view"),e.isLevelUp?n("level-up",{on:{close:e.close}}):e._e(),e.feature.isLoading?n("loading"):e._e(),e.feature.isShowNotification?n("notification",{attrs:{msg:e.feature.notificationMsg}}):e._e()],1)},s=[],c=n("cebc"),u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("custom-transition-group",{attrs:{transitionName:"fade",duration:3e3},on:{transitionEnd:function(t){return e.$emit("close")}}},[i("div",{key:"div",attrs:{slot:"transitionContent"},slot:"transitionContent"},[i("img",{attrs:{src:n("7b0d")}}),i("p",[e._v("星球等級已提升至"),i("strong",[e._v("Level."+e._s(e.level))])]),e.planetLevelInfo[e.level-1].scale?i("p",[e._v("星球地盤星球地盤已擴張")]):e._e(),e.planetLevelInfo[e.level-1].diamond?i("p",[e._v("獲得升等獎勵1顆寶石")]):e._e()])])},l=[],d=(n("96cf"),n("3b8d")),p=n("c2c7"),m=n("14b2"),h=n("2f62"),g={components:{CustomTransitionGroup:p["a"]},data:function(){return{isShowMsg:!1,planetLevelInfo:m.result}},mounted:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.experience<this.planetLevelInfo[this.level-1].experience)){e.next=3;break}return this.$emit("close"),e.abrupt("return");case 3:return e.next=5,this.levelUp();case 5:return e.next=7,this.sleep(600);case 7:this.$refs.video.play();case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:Object(c["a"])({},Object(h["b"])("planet",["levelUp"]),{sleep:function(e){return new Promise(function(t){return setTimeout(t,e)})}}),computed:Object(c["a"])({},Object(h["c"])("planet",{level:"getPlanetLevel",experience:"getPlanetExperience"}))},f=g,b=n("2877"),v=Object(b["a"])(f,u,l,!1,null,"e822b1ac",null),y=v.exports,_=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},x=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"loading-root"},[i("img",{attrs:{src:n("55ff")}})])}],O={components:{},data:function(){return{}},created:function(){},mounted:function(){},methods:{},computed:{}},w=O,C=(n("4590"),Object(b["a"])(w,_,x,!1,null,"7e6ba822",null)),k=C.exports,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"notification-container",on:{click:e.closeNotificatoin}},[n("p",{domProps:{innerHTML:e._s(e.msg)}})])},T=[],S={props:{msg:String},data:function(){return{timer:null}},beforeMount:function(){var e=this;this.timer=setTimeout(function(){e.CLOSE_NOTIFICATION()},3e3)},methods:Object(c["a"])({},Object(h["d"])("feature",["CLOSE_NOTIFICATION"]),{closeNotificatoin:function(){this.CLOSE_NOTIFICATION(),clearTimeout(this.timer)}})},E=S,D=(n("9f3b"),Object(b["a"])(E,I,T,!1,null,"6df6128c",null)),B=D.exports,j={components:{LevelUp:y,Loading:k,Notification:B},data:function(){return{isLevelUp:!1,isFirstTime:!0,module:null,planetLevelInfo:m.result,level:1}},created:function(){var e=this;Promise.resolve().then(n.bind(null,"3fa0")).then(function(t){e.module=t}),setInterval(function(){e.isFirstTime||e.generate_population_coin()},6e3)},beforeMount:function(){var e=this;n.e("chunk-46c1e8f1").then(n.bind(null,"8fd0")).then(function(t){e.$nextTick(function(){return t.launch()})})},mounted:function(){var e=this;this.$store.watch(function(e,t){return e.planet.planet.level},function(t,n){if(e.isFirstTime)return e.isFirstTime=!1,void console.log("first");t!==n&&(console.log("level-up"),e.level=t,e.isLevelUp=!0)},{deep:!0})},computed:Object(c["a"])({},Object(h["e"])("feature",{feature:function(e){return e}}),Object(h["e"])("user",{user:function(e){return e}}),Object(h["e"])("planet",{value:function(e){return e.planet.value}}),Object(h["e"])("planet",{population:function(e){return e.planet.population}})),watch:{isFirstTime:function(){for(var e=(new Date-this.user.lastLogoutTime)/1e3/60/6,t=Math.floor(e),n=e-t,i=0;i<t;i++)this.generate_population_coin();this.COUNT_COIN_PRODUCTION({value:this.value,population:this.population}),this.ADD_COIN(parseInt(this.user.coin.roduction/10*n,10))}},methods:Object(c["a"])({},Object(h["b"])("user",["gainDiamond"]),Object(h["b"])("planet",["expandScale","gainArchitectureTechnologyPoint"]),Object(h["d"])("planet",["ADD_POPULATION"]),Object(h["d"])("user",["ADD_COIN","COUNT_COIN_PRODUCTION"]),{close:function(){var e=this;this.isLevelUp=!1,this.planetLevelInfo[this.level-1].scale&&this.expandScale().then(function(){return e.module.gameFunction.tileScaleUp()}),this.gainDiamond({diamond:1}),this.gainArchitectureTechnologyPoint({point:this.planetLevelInfo[this.level-1].point})},generate_population_coin:function(){this.COUNT_COIN_PRODUCTION({value:this.value,population:this.population}),this.ADD_COIN(parseInt(this.user.coin.production/10,10)),this.ADD_POPULATION()}})},M=j,R=(n("5c0b"),Object(b["a"])(M,o,s,!1,null,null,null)),L=R.exports;i["a"].prototype.$bus=new i["a"];var N=n("9483");Object(N["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var A=n("0f9a"),P=n("5a62"),z={isShowNotification:!1,notificationMsg:"",isLoading:!1},$={getIsLoading:function(){return z.isLoading}},G={SHOW_NOTIFICATION:function(e,t){e.isShowNotification=!0,e.notificationMsg=t},CLOSE_NOTIFICATION:function(e){e.isShowNotification=!1,e.notificationMsg=""},SET_ISLOADING:function(e,t){e.isLoading=t}},F={},X={namespaced:!0,state:z,getters:$,mutations:G,actions:F},H=(n("ac6a"),n("75fc")),Y=n("734c"),U={respawnTime:1e4,mapGridData:[]},W={getMapGridData:function(e){return e.mapGridData},getRespawnTime:function(e){return e.respawnTime}},q={SET_MAPGRIDDATA:function(e,t){e.mapGridData=Object(H["a"])(t)},ADD_GRIDDATA:function(e,t){e.mapGridData.push(t)},FILTER_MAPGRIDDATA:function(e){e.mapGridData=e.mapGridData.filter(function(e){var t=e.properties.storages.filter(function(e){return e.amount>0}).length;if(0!==t)return null===e.properties.respawnTime||e.properties.respawnTime>Date.now()})},COST_RESOURCES:function(e,t){var n=t.gridData,i=t.resources;n.properties.storages.forEach(function(e,t){e.type===i[t].type&&(e.amount-=i[t].amount)})},RESPAWN_GRIDDATA:function(e,t){t.properties.respawnTime=Date.now()+e.respawnTime}},J={getMapGridData:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Y["a"])("/map",{method:"get"});case 3:n=e.sent,t.commit("SET_MAPGRIDDATA",n.data),e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}));function t(t){return e.apply(this,arguments)}return t}(),costResources:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.commit("COST_RESOURCES",n),e.next=4,Object(Y["a"])("/map",{method:"post",data:JSON.stringify({gridData:n.gridData})});case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e["catch"](0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));function t(t,n){return e.apply(this,arguments)}return t}(),respawnGridData:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.commit("RESPAWN_GRIDDATA",n),e.next=4,Object(Y["a"])("/map",{method:"patch",data:JSON.stringify({gridData:n})});case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e["catch"](0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));function t(t,n){return e.apply(this,arguments)}return t}()},Z={namespaced:!0,state:U,getters:W,mutations:q,actions:J};i["a"].use(h["a"]);var V=new h["a"].Store({modules:{user:A["a"],planet:P["default"],feature:X,map:Z}}),K=n("8c4f"),Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"game-root"}},[e.isOnBuildMode?e._e():n("user-panel",{attrs:{user:e.user,planet:e.planet,mode:"Game"},on:{openModal:e.openModal}}),n("feature-menu",{directives:[{name:"show",rawName:"v-show",value:!e.isOnBuildMode&&!e.isSelectBuilding,expression:"!isOnBuildMode && !isSelectBuilding"}],staticClass:"feature-menu",attrs:{isModalOpen:!e.isModalOpen,user:e.user},on:{openModal:e.openModal}}),e.isSelectBuilding?n("building-info",{attrs:{building:e.selectedBuilding,isSelectBuilding:e.isSelectBuilding},on:{openModal:e.openModal,close:e.close}}):e._e(),n("transition",{attrs:{name:"modal"}},[n("modal-card",{directives:[{name:"show",rawName:"v-show",value:e.isModalOpen,expression:"isModalOpen"}],attrs:{id:"modalCard"},on:{close:e.close}},["user-profile"===e.currentOpen?n("user-profile",{attrs:{slot:"card",user:e.user},slot:"card"}):e._e(),"星球資訊"===e.currentOpen?n("planet-info",{attrs:{slot:"card",user:e.user,planet:e.planet},slot:"card"}):e._e(),"建築升級"===e.currentOpen?n("building-upgrade",{attrs:{slot:"card",building:e.selectedBuilding},slot:"card"}):e._e(),"建築功能"===e.currentOpen?n("building-feature",{attrs:{slot:"card",user:e.user,building:e.selectedBuilding,planet:e.planet},slot:"card"}):e._e(),"建造頁面"===e.currentOpen?n("building",{attrs:{slot:"card",user:e.user,planet:e.planet},on:{onBuildMode:e.onBuildMode},slot:"card"}):e._e(),"資源頁面"===e.currentOpen?n("warehouse",{attrs:{slot:"card",user:e.user},slot:"card"}):e._e(),"任務頁面"===e.currentOpen?n("mission",{attrs:{slot:"card",user:e.user,planet:e.planet},slot:"card"}):e._e()],1)],1),e.isOnBuildMode?n("build-mode",{attrs:{building:e.selectedBuilding},on:{close:e.close}}):e._e()],1)},ee=[],te=n("2a61"),ne=n("c3bb"),ie=n("8e2c"),ae=n("cd0a"),re=n("ea8d"),oe=n("2995"),se=n("a3eb"),ce=n("fabc"),ue=n("fb32"),le=n("5683"),de=n("fde0"),pe=n("9f25"),me={name:"Game",components:{FeatureMenu:te["a"],Building:ne["b"],BuildingFeature:ie["a"],BuildingInfo:ae["a"],BuildingUpgrade:re["a"],BuildMode:oe["a"],Mission:se["a"],ModalCard:ce["a"],PlanetInfo:ue["a"],UserPanel:le["a"],UserProfile:de["a"],Warehouse:pe["a"]},data:function(){return{isModalOpen:!1,currentOpen:"",downloaded:!1,isOnBuildMode:!1,module:null,isSelectBuilding:!1,selectedBuilding:""}},mounted:function(){var e=this;this.$store.watch(function(e,t){return t},function(t,n){e.isSelectBuilding=t["planet/getIsSelectBuilding"],e.selectedBuilding=t["planet/getBuildElement"]},{deep:!0})},created:function(){var e=this;Promise.resolve().then(n.bind(null,"3fa0")).then(function(){var t=Object(d["a"])(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.module=n;case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),this.$bus.$on("openModal",this.openModal),this.$bus.$on("close",this.close)},beforeDestroy:function(){this.$bus.$off("openModal",this.openModal),this.$bus.$off("close",this.close)},methods:{openModal:function(e){this.isModalOpen=!0,this.isOnBuildMode=!1,this.currentOpen=e},close:function(){this.isModalOpen=!1,this.isOnBuildMode=!1,this.currentOpen="",this.module.gameFunction.setIsOnBuildMode(!1),this.$store.commit("planet/SET_ISSELECTBUILDING",!1)},onBuildMode:function(e){this.isModalOpen=!1,this.isOnBuildMode=!0,this.selectedBuilding=e}},watch:{isModalOpen:function(){this.module.gameFunction.scene.input.manager.enabled=!this.isModalOpen}},computed:Object(c["a"])({},Object(h["e"])("user",{user:function(e){return e}}),Object(h["e"])("planet",{planet:function(e){return e.planet}}))},he=me,ge=(n("a7ca"),Object(b["a"])(he,Q,ee,!1,null,"1be723f5",null)),fe=ge.exports,be=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"collect-root"},[0===e.isCatchLocation?i("div",{staticClass:"cover-layer",attrs:{id:"scan-anim-layer"}},[i("video",{attrs:{width:"350",height:"360",playsinline:"",autoplay:"",muted:"",loop:""},domProps:{muted:!0}},[i("source",{attrs:{src:n("f1a60"),type:"video/mp4"}})]),i("div",{staticStyle:{"font-weight":"700"}},[e._v("掃描地表資源中...")])]):i("collect-panel",{attrs:{user:e.userData,collectionInfo:e.collectionInfo,isCollectable:e.isCollectable},on:{collect:e.ifCollectable}}),i("div",{attrs:{id:"mapid"}}),e.isCollecting?i("collect-report",{on:{close:e.closeReport}}):e._e()],1)},ve=[],ye=(n("7514"),n("7f7f"),n("e11e")),_e=n.n(ye),xe=n("1dbd"),Oe=n("8fce"),we=n("51e7"),Ce=n("e264"),ke=n("aeb3"),Ie=n("8e58"),Te={name:"Collect",components:{CollectPanel:Oe["a"],CustomDialog:xe["a"],CollectReport:we["a"]},data:function(){return{isCollecting:!1,isCatchLocation:0,mymap:null,watcher:null,geoOptions:{enableHighAccuracy:!1,timeout:1e4,maximumAge:0,distanceFilter:1},lat:null,lng:null,marker:null,gap:.005,geojson:null,visibleHistoricalSiteInfo:null,historicalSpot:null,currentHistoricalRegion:null,myZoom:{},isZoom:!1,locationGridArr:[],collectionInfo:void 0,isCollectable:!1,module:null,robotIsOpen:!0,actions:Ce.actions}},beforeMount:function(){navigator.geolocation.getCurrentPosition(this.drawMap,this.error,this.geoOptions),this.watcher=navigator.geolocation.watchPosition(this.update,this.updateError,this.geoOptions)},created:function(){var e=this;Promise.resolve().then(n.bind(null,"3fa0")).then(function(){var t=Object(d["a"])(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.module=n,e.module.gameFunction.scene.input.manager.enabled=!1;case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},beforeDestroy:function(){navigator.geolocation.clearWatch(this.watcher),this.module.gameFunction.scene.input.manager.enabled=!0},computed:Object(c["a"])({},Object(h["e"])("user",{userData:function(e){return e}}),Object(h["e"])("planet",{planet:function(e){return e.planet}}),Object(h["c"])("map",{mapGridData:"getMapGridData",getRespawnTime:"getRespawnTime"})),methods:Object(c["a"])({},Object(h["d"])("user",["CHECK_USER_COOLDOWN","NEXT_SCENES"]),Object(h["b"])("user",["collectCoolDown","addBaggageItems"]),Object(h["d"])("map",["FILTER_MAPGRIDDATA","ADD_GRIDDATA"]),Object(h["b"])("map",["costResources","respawnGridData"]),{drawMap:function(e){var t=this;setTimeout(function(){t.isCatchLocation=1},2e3),this.lat=e.coords.latitude,this.lng=e.coords.longitude,console.log(this.lat,this.lng),this.mymap&&this.mymap.remove(),this.mymap=_e.a.map("mapid",{center:[this.lat,this.lng],zoom:15,zoomControl:!1}),_e.a.tileLayer("https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}",{maxZoom:18,minZoom:10,errorTilrUrl:"http://bpic.588ku.com/element_pic/16/12/07/706f7ff4f15725b17ba1d30d384e6468.jpg",id:"mapbox.streets",accessToken:"pk.eyJ1IjoibGVva3VvMDcyNCIsImEiOiJjanZ6YzltbXUwcDVoM3pyNmI0aGp5N29tIn0.xjdaery7ZqnxkZhbktidYQ"}).addTo(this.mymap);var i=_e.a.icon({iconUrl:n("3b84"),iconSize:[54,56],iconAnchor:[27,56],className:"marker-icon"});this.marker=_e.a.marker([this.lat,this.lng],{icon:i}).addTo(this.mymap),this.drawGeoJSON(),this.myZoom={start:this.mymap.getZoom(),end:this.mymap.getZoom()},this.drawHistoricalGeoJSON(),this.mymap.on("moveend",function(){t.isZoom||(console.log("move"),t.drawHistoricalGeoJSON()),t.isZoom=!1}),this.mymap.on("zoomstart",function(e){t.isZoom=!0,t.myZoom.start=t.mymap.getZoom()}),this.mymap.on("zoomend",function(e){t.myZoom.end=t.mymap.getZoom();var n=t.myZoom.end-t.myZoom.start;n<0&&t.mymap.getZoom()<15&&t.drawHistoricalGeoJSON(),t.historicalSpot.eachLayer(function(e){e.setIcon(_e.a.icon(t.setHistoricalIconSizeOptions(e.feature)))})})},error:function(e){console.warn("ERROR("+e.code+"): "+e.message),this.isCatchLocation=-1;var t={coords:{longitude:120.21575,latitude:22.99962}};this.drawMap(t)},updateError:function(e){console.warn("ERROR("+e.code+"): "+e.message)},update:function(e){this.lat=e.coords.latitude,this.lng=e.coords.longitude,this.marker.setLatLng([this.lat,this.lng]),this.geojson&&this.geojson.addData(this.createVisiableAreaData()),this.historicalSpot.bringToFront()},setVisibleHistoricalSiteData:function(){this.visibleHistoricalSiteInfo=Object.assign({},ke);var e={lat:this.mymap.getBounds()._northEast.lat+.01,lng:this.mymap.getBounds()._northEast.lng+.01},t={lat:this.mymap.getBounds()._southWest.lat-.01,lng:this.mymap.getBounds()._southWest.lng-.01},n=ke.features.filter(function(n){return n.geometry.coordinates[0]<e.lng&&n.geometry.coordinates[0]>t.lng&&n.geometry.coordinates[1]<e.lat&&n.geometry.coordinates[1]>t.lat});return this.visibleHistoricalSiteInfo.features=n,this.visibleHistoricalSiteInfo},setHistoricalIconSizeOptions:function(e){var t;return t=this.myZoom.end>16?{iconUrl:Ie["a"].building(e.properties.name),iconSize:[1.5*e.properties.initSize.width*(this.myZoom.end-16),1.5*e.properties.initSize.height*(this.myZoom.end-16)],iconAnchor:[1.5*e.properties.initSize.width*(this.myZoom.end-16)/2,1.5*e.properties.initSize.height*(this.myZoom.end-16)/2]}:this.myZoom.end<14?{iconUrl:Ie["a"].building(e.properties.name),iconSize:[e.properties.initSize.width/1.5/(14-this.myZoom.end),e.properties.initSize.height/1.5/(14-this.myZoom.end)],iconAnchor:[e.properties.initSize.width/1.5/(14-this.myZoom.end)/2,e.properties.initSize.height/1.5/(14-this.myZoom.end)/2]}:{iconUrl:Ie["a"].building(e.properties.name),iconSize:[e.properties.initSize.width,e.properties.initSize.height],iconAnchor:[e.properties.initSize.width/2,e.properties.initSize.height/2]},t},drawHistoricalGeoJSON:function(){var e=this;this.historicalSpot&&this.historicalSpot.clearLayers(),this.historicalSpot=_e.a.geoJSON(this.setVisibleHistoricalSiteData(),{pointToLayer:function(t,n){var i=_e.a.icon(e.setHistoricalIconSizeOptions(t));return _e.a.marker(n,{icon:i})},onEachFeature:this.onEachHistoricalSpot}).addTo(this.mymap)},drawGeoJSON:function(){this.geojson=_e.a.geoJSON(this.createVisiableAreaData(),{style:this.style,onEachFeature:this.onEachFeature}).addTo(this.mymap);for(var e=0;e<this.locationGridArr.length;e++)this.updateLocalGeoJson(this.locationGridArr[e])},createVisiableAreaData:function(){var e=this;this.geojson&&(this.geojson.clearLayers(),this.collectionInfo=void 0,this.isCollectable=!0),this.locationGridArr=[],this.CHECK_USER_COOLDOWN(),this.FILTER_MAPGRIDDATA();for(var t=1/this.gap,n=Math.ceil(this.lat*t)/t,i=Math.ceil(this.lng*t)/t,a=Math.floor(this.userData.detectRange/2),r=-a;r<=a;r++)for(var o=function(a){var o=Math.round((n+r*e.gap)*t)/t,s=Math.round((i+a*e.gap)*t)/t,c=e.mapGridData.find(function(e){return e.properties.maxLat===o&&e.properties.maxLng===s});if(c)e.locationGridArr.push(c);else{var u={type:"Feature",properties:{maxLat:o,maxLng:s,name:"test",density:0,respawnTime:null,storages:[{type:"木頭",amount:2e3},{type:"石頭",amount:1600},{type:"鋼鐵",amount:1e3},{type:"銅礦",amount:400}]},geometry:{type:"Polygon",coordinates:[[[s,o],[s-e.gap,o],[s-e.gap,o-e.gap],[s,o-e.gap],[s,o]]]}};e.locationGridArr.push(u)}},s=-a;s<=a;s++)o(s);return this.locationGridArr},style:function(e){var t=0;return e.properties.storages.map(function(e){t+=e.amount}),{fillColor:this.getColor(100*t/5e3),weight:2,opacity:.7,color:"#000",dashArray:"6",fillOpacity:.2}},getColor:function(e){return e<10?"#680A64":e<20?"#8A2584":e<40?"#A842A4":e<60?"#C964C5":e<80?"#E881E4":e<100?"#FCA8FA":"#FEDDFD"},highlightFeature:function(e){var t=1/this.gap,n=Math.ceil(this.lat*t)/t,i=Math.ceil(this.lng*t)/t,a=e.target;this.mymap.fitBounds(e.target.getBounds()),this.geojson.setStyle({weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.2}),a.setStyle({weight:3,color:"#666",dashArray:"",fillOpacity:.3}),_e.a.Browser.ie||_e.a.Browser.opera||_e.a.Browser.edge||a.bringToFront(),a.feature.properties.maxLat===n&&a.feature.properties.maxLng===i?this.isCollectable=!0:this.isCollectable=!1,this.collectionInfo=a.feature.properties,this.historicalSpot.bringToFront()},onEachFeature:function(e,t){t.on({click:this.highlightFeature})},onEachHistoricalSpot:function(e,t){var n=this;t.bindPopup("<h3>"+e.properties.name+"</h3>"),t.on("popupopen",function(e){n.currentHistoricalRegion=_e.a.circle(t.getLatLng(),{radius:e.target.feature.properties.radius,color:"#fff",weight:1,opacity:1,dashArray:"3",fillColor:"#E85D75",fillOpacity:.4,className:"historical-region"}).addTo(n.mymap)}),t.on("popupclose",function(){n.currentHistoricalRegion.remove()})},ifCollectable:function(){var e=1/this.gap,t=Math.ceil(this.lat*e)/e,n=Math.ceil(this.lng*e)/e;this.CHECK_USER_COOLDOWN();var i=this.userData.collectorMax-this.userData.coolDownGrid.length;if(i>0){console.log("收集器足夠");var a=this.userData.coolDownGrid.some(function(e){return e.maxLat===t&&e.maxLng===n});a?console.log("還在冷卻"):this.collect()}else console.log("收集器不夠")},collect:function(){this.isCollecting=!0;var e=1/this.gap,t=Math.ceil(this.lat*e)/e,n=Math.ceil(this.lng*e)/e;this.collectCoolDown({maxLat:t,maxLng:n,finishTime:Date.now()+1e4});var i=this.mapGridData.find(function(e){return e.properties.maxLat===t&&e.properties.maxLng===n});if(i)i.properties.density++,this.storageToResource(i);else{var a={type:"Feature",properties:{maxLat:t,maxLng:n,name:"test",density:0,respawnTime:null,storages:[{type:"木頭",amount:2e3},{type:"石頭",amount:1600},{type:"鋼鐵",amount:1e3},{type:"銅礦",amount:400}]},geometry:{type:"Polygon",coordinates:[[[n,t],[n-this.gap,t],[n-this.gap,t-this.gap],[n,t-this.gap],[n,t]]]}};this.ADD_GRIDDATA(a),this.storageToResource(a)}this.addBaggageItems(this.ifOnHistoricalRegion(this.visibleHistoricalSiteInfo)),this.centerOn()},storageToResource:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){var n,i,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=this.userData,i=t.properties.storages,a=[],i.forEach(function(e,t){var i=n.collectAbility*n.collectWeights[t].weights;e.amount-i<0&&(i=e.amount),a.push({type:e.type,amount:i})}),e.next=6,this.costResources({gridData:t,resources:a});case 6:return e.next=8,this.$store.dispatch("user/collectResources",a);case 8:this.geojson.addData(this.createVisiableAreaData()),this.shutdownGrid(t);case 10:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),ifOnHistoricalRegion:function(e){var t=this,n=e.features.filter(function(e){return t.mymap.distance({lat:t.lat,lng:t.lng},{lat:e.geometry.coordinates[1],lng:e.geometry.coordinates[0]})<e.properties.radius}),i=[];return n.length>0&&n.map(function(e){Math.random()<=e.drop.rate&&i.push({id:e.drop.itemId,name_zh:e.drop.item_zh})}),i},shutdownGrid:function(e){var t=this,n=e.properties.storages.filter(function(e){return e.amount>0}).length;0===n&&(this.respawnGridData(e),setTimeout(function(){t.geojson.addData(t.createVisiableAreaData())},this.getRespawnTime))},centerOn:function(){this.mymap.panTo([this.lat,this.lng])},updateLocalGeoJson:function(e){var t=this;if(null!==e.properties.respawnTime&&e.properties.respawnTime>=Date.now()){console.log("大於");var n=e.properties.respawnTime-Date.now();setTimeout(function(){t.geojson.addData(t.createVisiableAreaData())},n)}},closeReport:function(e){this.isCollecting=!1}})},Se=Te,Ee=(n("e072"),Object(b["a"])(Se,be,ve,!1,null,"0c754fd0",null)),De=Ee.exports,Be=n("80cd"),je=n("6760");i["a"].use(K["a"]);var Me=new K["a"]({routes:[{path:"/",name:"StartAnim",component:function(){return n.e("chunk-379bdf1c").then(n.bind(null,"ad0b"))}},{path:"/login",name:"Login",component:function(){return n.e("chunk-5603ae09").then(n.bind(null,"a55b"))},beforeEnter:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n,i){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V.dispatch("user/getUserData");case 3:if(!V.getters["user/getIsInBeginningStory"]){e.next=6;break}return i({path:"/home"}),e.abrupt("return");case 6:return e.next=8,V.dispatch("planet/getPlanetData",{pid:V.getters["user/getCurrentPlanetId"]});case 8:i({path:"/home"}),e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0),i();case 15:case"end":return e.stop()}},e,null,[[0,11]])}));function t(t,n,i){return e.apply(this,arguments)}return t}()},{path:"/register",name:"Register",component:function(){return n.e("chunk-ee4e93ee").then(n.bind(null,"73cf"))}},{path:"/home",name:"Home",component:function(){return n.e("chunk-45de589d").then(n.bind(null,"bb51"))},beforeEnter:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,i,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!V.getters["user/getIsInBeginningStory"]){e.next=5;break}return je["a"].changeScene(),a({path:"/beginning_story"}),e.abrupt("return");case 5:Promise.resolve().then(n.bind(null,"80cd")).then(function(e){return e.getPlanetType(V.getters["planet/getPlanetType"])}).then(function(){return je["a"].changeScene()}),a(),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0),a({path:"/login"});case 13:case"end":return e.stop()}},e,null,[[0,9]])}));function t(t,n,i){return e.apply(this,arguments)}return t}()},{path:"/game",name:"Game",component:fe,beforeEnter:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,i,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,Promise.resolve().then(n.bind(null,"3fa0")).then(function(e){return e.getBuildingMap(V.getters["planet/getScale"],V.getters["planet/getBuildingMap"])}).then(function(){return Be["PlanetGameFunc"].ChangeScene()}),!V.getters["user/getIsBeginner"]){e.next=5;break}return a({path:"/beginner_guide"}),e.abrupt("return");case 5:a(),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0),a({path:"/login"});case 12:case"end":return e.stop()}},e,null,[[0,8]])}));function t(t,n,i){return e.apply(this,arguments)}return t}()},{path:"/collect",name:"Collect",component:De,beforeEnter:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n,i){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V.dispatch("map/getMapGridData");case 3:i(),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));function t(t,n,i){return e.apply(this,arguments)}return t}()},{path:"/beginning_story",name:"BeginningStory",component:function(){return n.e("chunk-3f05e774").then(n.bind(null,"15f2"))}},{path:"/beginner_guide",name:"BeginnerGuide",component:function(){return n.e("chunk-a1541b20").then(n.bind(null,"fb0d"))}},{path:"/beginner_collect",name:"BeginnerCollect",component:function(){return n.e("chunk-2f99c2fa").then(n.bind(null,"4201"))},beforeEnter:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n,i){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,28===V.getters["user/getCurrentBeginnerGuideScenes"]){e.next=6;break}return console.log("here"),V.commit("feature/SET_ISLOADING",!1),i({path:"/beginner_guide"}),e.abrupt("return");case 6:i(),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));function t(t,n,i){return e.apply(this,arguments)}return t}()}]}),Re=new r.a({debug:!0,connection:"https://test1234312.herokuapp.com/",vuex:{store:V,actionPrefix:"SOCKET_",mutationPrefix:"SOCKET_"}});i["a"].use(Re),i["a"].config.productionTip=!1,new i["a"]({router:Me,store:V,render:function(e){return e(L)}}).$mount("#app");var Le=!1;window.onpopstate=function(){Le=!0},Me.beforeEach(function(e,t,n){if(Le)return Le=!1,n({path:t.path});V.commit("feature/SET_ISLOADING",!0),n()}),Me.afterEach(function(e,t){V.commit("feature/SET_ISLOADING",!1)}),window.onbeforeunload=function(e){return e=e||window.event,Re.io.emit("shutDown",{coin:V.getters["user/getCoin"],value:V.getters["planet/getValue"],population:V.getters["planet/getPopulation"]}),null},document.documentElement.addEventListener("touchstart",function(e){e.touches.length>1&&e.preventDefault()},!1);var Ne=0;document.documentElement.addEventListener("touchend",function(e){var t=Date.now();t-Ne<=300&&e.preventDefault(),Ne=t},!1)},5872:function(e,t,n){e.exports=n.p+"img/collecting.8f387de8.gif"},"5a62":function(e,t,n){"use strict";n.r(t);n("7f7f"),n("96cf");var i=n("3b8d"),a=(n("28a5"),n("20d6"),n("456d"),n("ac6a"),n("734c")),r=n("4a3a"),o=n("14b2"),s=n("0f9a"),c={buildingElement:"",isSelectBuilding:!1,planet:{pid:1,type:"奎納爾",name:"哈馬特爾斯拉",level:0,experience:120,nextLevel:300,image:n("edcf"),positionX:23.505,positionY:120.385,architectureTechnologyPoint:1,architectureTechnology:{commonBuilding:{c0:!0},militaryBuilding:{},economicBuilding:{},specialBuilding:{special:{s0:!0,sl:!0},historical:{}}},scale:3,buildingMap:[{id:"k0",name:"stonePortal",coordinateX:1,coordinateY:2,status:"done",finishTime:1560307964011,grid:{row:1,column:1}},{id:"c3",name:"houseB",coordinateX:1,coordinateY:1,status:"done",finishTime:1560307964011,grid:{row:1,column:1}}],population:{max:100,amount:20,growth:10},value:{power:300,food:100,entertainment:300},activeBuffCard:[{title:"審判冥王・黑帝斯",description:"冥界是所有死者唯一的去處，因此黑帝斯的神話形象雖冷酷，但並無大多宗教神話中的惡神色彩，而是典型的奧林帕斯英挺男子。由於冥府位於地底，黑帝斯也被視為地下礦產的支配者。",buffs:{"基礎採集能力":"+10%","星球能量數值":"+5%","星球娛樂數值":"-5%"},rarity:3}],buffCards:[{title:"審判冥王・黑帝斯",description:"冥界是所有死者唯一的去處，因此黑帝斯的神話形象雖冷酷，但並無大多宗教神話中的惡神色彩，而是典型的奧林帕斯英挺男子。由於冥府位於地底，黑帝斯也被視為地下礦產的支配者。",buffs:{"基礎採集能力":"+10%","星球能量數值":"+5%","星球娛樂數值":"-5%"},rarity:3}]}},u={getPlanetId:function(){return c.planet.pid},getPlanetType:function(){return c.planet.type},getArchitectureTechnology:function(){return c.planet.architectureTechnology},getArchitectureTechnologyPoint:function(){return c.planet.architectureTechnologyPoint},getScale:function(){return c.planet.scale},getBuildingMap:function(){return c.planet.buildingMap},getBuildElement:function(){return c.buildingElement},getIsSelectBuilding:function(){return c.isSelectBuilding},getPlanetLevel:function(){return c.planet.level},getPlanetExperience:function(){return c.planet.experience},getValue:function(){return c.planet.value},getPopulation:function(){return c.planet.population}},l={SET_PLANET:function(e,t){if(Object.keys(t).forEach(function(n){"_id"!==n?e.planet[n]=t[n]:e.planet.pid=t._id}),e.planet.activeBuffCard.length>=1){var n=e.planet.buffCards.findIndex(function(t){return t.title===e.planet.activeBuffCard[0].title});e.planet.buffCards.splice(n,1)}},SET_ISSELECTBUILDING:function(e,t){e.isSelectBuilding=t,e.setBuildingElement=null},SET_BUILDINGSTATUS:function(e,t){e.planet.buildingMap[t].status="done"},ADD_BUILDING:function(e,t){console.log("push"),e.planet.buildingMap.push(t)},REMOVE_BUILDING:function(e,t){e.planet.buildingMap.splice(t,1)},SET_ARCHITECTURETECHNOLOGY:function(e,t){e.planet.architectureTechnology[t.type][t.id]=!0},SET_EXPERIENCE:function(e,t){e.planet.experience+=t,e.planet.experience>=o.result[e.planet.level].experience&&(e.planet.level+=1)},SPEND_ARCHITECTURETECHNOLOGYPOINT:function(e,t){e.planet.architectureTechnologyPoint-=t},GAIN_ARCHITECTURETECHNOLOGYPOINT:function(e,t){e.planet.architectureTechnologyPoint+=t},EXPAND_SCALE:function(e,t){e.planet.scale+=1},ADD_BUFFCARD:function(e,t){e.planet.buffCards.push(t)},setBuildingElement:function(e,t){if(c.isSelectBuilding=t,null!==e){var n=e.id.split("")[0],i=e.id.split("")[1];switch(3===e.id.split("").length&&(i=parseInt(e.id.split("")[1].concat(e.id.split("")[2]))),n){case"c":c.buildingElement=r.commonBuilding[i];break;case"m":c.buildingElement=r.militaryBuilding[i];break;case"e":c.buildingElement=r.economicBuilding[i];break;case"s":c.buildingElement=r.specialBuilding[i];break;case"k":c.buildingElement=r.kyronusBuilding[i];break;default:break}c.buildingElement.status=e.status,c.buildingElement.coordinateX=e.coordinateX,c.buildingElement.coordinateY=e.coordinateY,c.buildingElement.finishTime=e.finishTime,c.buildingElement.grid.row=e.grid.row,c.buildingElement.grid.column=e.grid.column}},SET_POWER:function(e){console.log("power"),e.planet.value.power=e.planet.buildingMap.reduce(function(e,t){return"e3"===t.id&&"done"===t.status&&(e+=100),e},0)},SET_FOOD:function(e){console.log("food"),e.planet.value.food=e.planet.buildingMap.reduce(function(e,t){return"e1"===t.id&&"done"===t.status&&(e+=100),e},0)},SET_ENTERTAINMENT:function(e){console.log("entertainment"),e.planet.value.entertainment=400},SET_POPULATION_MAX:function(e){console.log("population_max"),e.planet.population.max=e.planet.buildingMap.reduce(function(e,t){return"e0"===t.id&&"done"===t.status&&(e+=100),console.log(e),e},0),e.planet.population.amount=e.planet.population.amount>e.planet.population.max?e.planet.population.max:e.planet.population.amount},ADD_POPULATION:function(e){e.planet.population.max>e.planet.population.amount&&e.planet.population.amount++},COUNT_RESOURCE_MAX:function(e){var t=e.planet.buildingMap.reduce(function(e,t){return"c1"===t.id&&"done"===t.status&&(e+=1e4),e},3e3);s["a"].mutations.SET_RESOURCE_MAX(s["a"].state,t)}},d={AddPlanet:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(a["a"])("/planet",{method:"post",data:JSON.stringify({type:n.type,name:n.name})});case 3:return i=e.sent,t.commit("SET_PLANET",i.data),e.abrupt("return",!0);case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])}));function t(t,n){return e.apply(this,arguments)}return t}(),getPlanetData:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(a["a"])("/planet/".concat(n.pid),{method:"get"});case 3:return i=e.sent,t.commit("SET_PLANET",i.data),e.abrupt("return",!0);case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])}));function t(t,n){return e.apply(this,arguments)}return t}(),buildBuilding:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,console.log("build"),e.next=4,Object(a["a"])("/planet/".concat(t.state.planet.pid,"/building"),{method:"post",data:JSON.stringify({building:n.building})});case 4:return t.commit("ADD_BUILDING",n.building),e.abrupt("return",!0);case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])}));function t(t,n){return e.apply(this,arguments)}return t}(),haveBuiltBuilding:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){var i,r,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,i=n.building.coordinateX,r=n.building.coordinateY,o=t.state.planet.buildingMap.findIndex(function(e){return e.coordinateX===i&&e.coordinateY===r}),t.mutations.SET_BUILDINGSTATUS(t.state,o),t.mutations.SET_POWER(t.state),t.mutations.SET_FOOD(t.state),t.mutations.SET_ENTERTAINMENT(t.state),t.mutations.SET_POPULATION_MAX(t.state),t.mutations.COUNT_RESOURCE_MAX(t.state),e.next=12,Object(a["a"])("/planet/".concat(t.state.planet.pid,"/building"),{method:"patch",data:JSON.stringify({index:o,population:t.state.planet.population,value:t.state.planet.value,resourceMax:s["a"].state.resourceMax,resources:s["a"].state.resources})});case 12:return e.abrupt("return",!0);case 15:throw e.prev=15,e.t0=e["catch"](0),e.t0;case 18:case"end":return e.stop()}},e,null,[[0,15]])}));function t(t,n){return e.apply(this,arguments)}return t}(),removeBuilding:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){var i,r,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,i=n.building.coordinateX,r=n.building.coordinateY,o=t.state.planet.buildingMap.findIndex(function(e){return e.coordinateX===i&&e.coordinateY===r}),t.commit("REMOVE_BUILDING",o),t.commit("SET_FOOD"),t.commit("SET_POWER"),t.commit("SET_ENTERTAINMENT"),t.commit("SET_POPULATION_MAX"),t.commit("COUNT_RESOURCE_MAX"),e.next=12,Object(a["a"])("/planet/".concat(t.state.planet.pid,"/building"),{method:"delete",data:JSON.stringify({index:o,population:t.state.planet.population,value:t.state.planet.value,resourceMax:s["a"].state.resourceMax,resources:s["a"].state.resources})});case 12:return e.abrupt("return",!0);case 15:throw e.prev=15,e.t0=e["catch"](0),e.t0;case 18:case"end":return e.stop()}},e,null,[[0,15]])}));function t(t,n){return e.apply(this,arguments)}return t}(),devArchitectureTechnology:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,i=n.id.split("")[0],e.t0=i,e.next="c"===e.t0?5:"m"===e.t0?7:"s"===e.t0?9:"e"===e.t0?11:13;break;case 5:return i="commonBuilding",e.abrupt("break",14);case 7:return i="militaryBuilding",e.abrupt("break",14);case 9:return i="survivalBuilding",e.abrupt("break",14);case 11:return i="economicBuilding",e.abrupt("break",14);case 13:return e.abrupt("break",14);case 14:return t.commit("SET_ARCHITECTURETECHNOLOGY",{type:i,id:n.id}),t.commit("SPEND_ARCHITECTURETECHNOLOGYPOINT",n.point),e.next=18,Object(a["a"])("/planet/".concat(t.state.planet.pid,"/architectureTechnology"),{method:"patch",data:JSON.stringify({type:i,id:n.id})});case 18:return e.next=20,Object(a["a"])("/planet/".concat(t.state.planet.pid,"/architectureTechnologyPoint"),{method:"patch",data:JSON.stringify({point:t.state.planet.architectureTechnologyPoint})});case 20:return e.abrupt("return",!0);case 23:throw e.prev=23,e.t1=e["catch"](0),e.t1;case 26:case"end":return e.stop()}},e,null,[[0,23]])}));function t(t,n){return e.apply(this,arguments)}return t}(),gainArchitectureTechnologyPoint:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.commit("GAIN_ARCHITECTURETECHNOLOGYPOINT",n.point),e.next=4,Object(a["a"])("/planet/".concat(t.state.planet.pid,"/architectureTechnologyPoint"),{method:"patch",data:JSON.stringify({point:t.state.planet.architectureTechnologyPoint})});case 4:return e.abrupt("return",!0);case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}));function t(t,n){return e.apply(this,arguments)}return t}(),gainExperience:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.commit("SET_EXPERIENCE",n),e.next=4,Object(a["a"])("/planet/".concat(t.state.planet.pid,"/experience"),{method:"patch",data:JSON.stringify({experience:t.state.planet.experience})});case 4:return e.abrupt("return",!0);case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}));function t(t,n){return e.apply(this,arguments)}return t}(),drawBuffCard:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.commit("ADD_BUFFCARD",n.buffCard),e.next=4,Object(a["a"])("/planet/".concat(t.state.planet.pid,"/buffCards"),{method:"post",data:JSON.stringify({buffCard:n.buffCard})});case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e["catch"](0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));function t(t,n){return e.apply(this,arguments)}return t}(),useBuffCard:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(a["a"])("/planet/".concat(t.state.planet.pid,"/activeBuffCard"),{method:"patch",data:JSON.stringify({buffCard:n.activeBuffCard[0]})});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e["catch"](0),e.t0;case 8:case"end":return e.stop()}},e,null,[[0,5]])}));function t(t,n){return e.apply(this,arguments)}return t}(),levelUp:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(a["a"])("/planet/".concat(t.state.planet.pid,"/level"),{method:"patch"});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e["catch"](0),e.t0;case 8:case"end":return e.stop()}},e,null,[[0,5]])}));function t(t){return e.apply(this,arguments)}return t}(),expandScale:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.commit("EXPAND_SCALE"),e.next=4,Object(a["a"])("/planet/".concat(t.state.planet.pid,"/scale"),{method:"patch"});case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e["catch"](0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));function t(t){return e.apply(this,arguments)}return t}()};t["default"]={namespaced:!0,state:c,getters:u,mutations:l,actions:d}},"5a80":function(e,t,n){e.exports=n.p+"img/cat-normal.7b42db39.png"},"5bbc":function(e,t,n){e.exports=n.p+"img/build.c7eeb6d4.png"},"5c09":function(e,t,n){e.exports=n.p+"img/power-plant-locked.c8b2a7dd.png"},"5c0b":function(e,t,n){"use strict";var i=n("5e27"),a=n.n(i);a.a},"5c6d":function(e,t,n){e.exports=n.p+"img/friendship-contract-inactive.01e6b570.png"},"5d8d":function(e,t,n){},"5e27":function(e,t,n){},"5e73":function(e,t,n){e.exports=n.p+"img/gift.7079a58d.png"},"5fc1":function(e,t,n){e.exports=n.p+"media/bgm.51d81465.mp3"},"60d1":function(e,t,n){e.exports=n.p+"img/MRT-work.3864abf6.png"},"61d5":function(e,t,n){"use strict";var i=n("9356"),a=n.n(i);a.a},6505:function(e,t,n){e.exports=n.p+"img/mechanism-inactive.383dd477.png"},"656a":function(e,t,n){e.exports=n.p+"img/green-house.bb71c3f1.png"},6664:function(e,t,n){e.exports=n.p+"img/sickle-inactive.b38c5406.png"},6752:function(e,t,n){e.exports=n.p+"img/intelligence-inactive.3d49af08.png"},6760:function(e,t,n){"use strict";n.d(t,"a",function(){return Ye}),n.d(t,"b",function(){return We});var i=n("d225"),a=n("b0b4"),r=n("308d"),o=n("6bb5"),s=n("4e2b"),c=n("64b8"),u=n("9b7f"),l=n.n(u),d=n("edcf"),p=n.n(d),m=n("6836"),h=n.n(m),g=n("697a"),f=n.n(g),b=n("2b48"),v=n.n(b),y=n("5fc1"),_=n.n(y),x=n("b1c3"),O=n.n(x),w=n("0f2b"),C=n.n(w),k=n("ce2b"),I=n.n(k),T=n("6c37"),S=n.n(T),E=n("2445"),D=n.n(E),B=n("c14c"),j=n.n(B),M=n("a0bf"),R=n.n(M),L=n("4374"),N=n.n(L),A=n("c4e6"),P=n.n(A),z=n("f1e5"),$=n.n(z),G=n("34c0"),F=n.n(G),X=n("0515"),H=n.n(X),Y=n("3db3"),U=n.n(Y),W=n("541d"),q=n.n(W),J=n("ae41"),Z=n.n(J),V=n("68cf"),K=n.n(V),Q=n("6766"),ee=n.n(Q),te=n("1389"),ne=n.n(te),ie=n("0964"),ae=n.n(ie),re=n("da3d"),oe=n.n(re),se=n("86e2"),ce=n.n(se),ue=n("186f"),le=n.n(ue),de=n("9eef"),pe=n.n(de),me=n("1b9f"),he=n.n(me),ge=n("40ef"),fe=n.n(ge),be=n("03ea"),ve=n.n(be),ye=n("a7fc"),_e=n.n(ye),xe=n("7eb9"),Oe=n.n(xe),we=n("9edf"),Ce=n.n(we),ke=n("a0ea"),Ie=n.n(ke),Te=n("0274"),Se=n.n(Te),Ee=n("09f5"),De=n.n(Ee),Be=n("28aa"),je=n.n(Be),Me=n("22e3"),Re=n.n(Me),Le=n("b222"),Ne=n.n(Le),Ae=n("bb63"),Pe=n.n(Ae),ze=n("60d1"),$e=n.n(ze),Ge=n("0bea"),Fe=n.n(Ge),Xe=n("b332"),He=n.n(Xe),Ye=(n("4be7"),{}),Ue=!1,We=function(e){function t(){return Object(i["a"])(this,t),Object(r["a"])(this,Object(o["a"])(t).call(this,{key:"BootScene"}))}return Object(s["a"])(t,e),Object(a["a"])(t,[{key:"init",value:function(){var e=this;Ye.changeScene=function(){return new Promise(function(t,n){e.load.on("complete",function(){e.scene.start("PlanetScene"),t()}),Ue&&(e.scene.start("PlanetScene"),t())})}}},{key:"preload",value:function(){this.load.audio("bgm",_.a),this.load.image("Star",v.a),this.load.image("bg",l.a),this.load.image("planet-1",p.a),this.load.image("planet-2",f.a),this.load.image("planet-1-light",h.a),this.load.spritesheet("car",O.a,{frameWidth:72,frameHeight:72}),this.load.spritesheet("senior",C.a,{frameWidth:27.75,frameHeight:50.29}),this.load.image("indicator",I.a),this.load.image("tiles",S.a),this.load.image("tilesKyronus",D.a),this.load.image("tilesRiver",j.a),this.load.image("kyronusDisplayText",R.a),this.load.spritesheet("buildProcess1x1ing",N.a,{frameWidth:192,frameHeight:300}),this.load.spritesheet("buildCompleted1x1ing",P.a,{frameWidth:192,frameHeight:300}),this.load.spritesheet("buildProcess1x2ing",N.a,{frameWidth:192,frameHeight:300}),this.load.spritesheet("buildCompleted1x2ing",P.a,{frameWidth:192,frameHeight:300}),this.load.spritesheet("buildProcess2x2ing",N.a,{frameWidth:192,frameHeight:300}),this.load.spritesheet("buildCompleted2x2ing",P.a,{frameWidth:192,frameHeight:300}),this.load.spritesheet("stonePortal",$.a,{frameWidth:192,frameHeight:192}),this.load.spritesheet("stonePortaling",F.a,{frameWidth:192,frameHeight:192}),this.load.spritesheet("windmill",H.a,{frameWidth:192,frameHeight:220}),this.load.spritesheet("windmilling",U.a,{frameWidth:192,frameHeight:222.5}),this.load.spritesheet("powerPlant",q.a,{frameWidth:192,frameHeight:220,startFrame:0,endFrame:22}),this.load.spritesheet("powerPlanting",Z.a,{frameWidth:192,frameHeight:220,startFrame:0,endFrame:65}),this.load.spritesheet("greenHouse",K.a,{frameWidth:288,frameHeight:240}),this.load.spritesheet("greenHouseing",ee.a,{frameWidth:288,frameHeight:240}),this.load.spritesheet("resourceTransfer",ne.a,{frameWidth:288,frameHeight:300}),this.load.spritesheet("resourceTransfering",ae.a,{frameWidth:288,frameHeight:300}),this.load.spritesheet("warehouse",oe.a,{frameWidth:192,frameHeight:192}),this.load.spritesheet("warehouseing",ce.a,{frameWidth:192,frameHeight:192}),this.load.spritesheet("researchCenter",le.a,{frameWidth:384,frameHeight:384}),this.load.spritesheet("researchCentering",pe.a,{frameWidth:384,frameHeight:384}),this.load.spritesheet("houseA",he.a,{frameWidth:192,frameHeight:192}),this.load.image("houseAing",fe.a),this.load.spritesheet("houseB",ve.a,{frameWidth:192,frameHeight:192}),this.load.image("houseBing",_e.a),this.load.spritesheet("government",Oe.a,{frameWidth:288,frameHeight:240}),this.load.image("governmenting",Ce.a),this.load.image("hadesTempleing",Ie.a),this.load.image("babyloning",Se.a),this.load.image("churching",De.a),this.load.image("pastureing",je.a),this.load.image("foresting",Re.a),this.load.image("nckuing",Ne.a),this.load.image("stadiuming",Pe.a),this.load.spritesheet("MRTing",$e.a,{frameWidth:864,frameHeight:660}),this.load.image("MRTshadowing",Fe.a),this.load.spritesheet("MRT1ing",He.a,{frameWidth:864,frameHeight:660})}},{key:"create",value:function(){Ue=!0}}]),t}(c["Scene"])},6766:function(e,t,n){e.exports=n.p+"img/green-house-work.414783c3.png"},6836:function(e,t,n){e.exports=n.p+"img/planet-1-light.0f685b57.png"},"68cf":function(e,t,n){e.exports=n.p+"img/green-house-spawn.4943af6f.png"},"697a":function(e,t,n){e.exports=n.p+"img/planet-2.a4b0dbda.png"},"69e9":function(e,t,n){e.exports=n.p+"img/leave-cross.36dc453a.png"},"6a3f":function(e,t,n){},"6ad0":function(e,t,n){"use strict";var i=n("3d0d"),a=n.n(i);a.a},"6b79":function(e,t,n){},"6b92":function(e,t,n){"use strict";var i=n("1251"),a=n.n(i);a.a},"6c37":function(e,t,n){e.exports=n.p+"img/tile-1.855ebb9a.png"},"6e60":function(e,t,n){"use strict";var i=n("52fd"),a=n.n(i);a.a},7185:function(e,t,n){},"734c":function(e,t,n){"use strict";var i=n("bc3a"),a=n.n(i),r={baseURL:"https://test1234312.herokuapp.com/",headers:{"Content-Type":"text/plain"},withCredentials:!0},o=a.a.create(r);o.defaults.timeout=5e3,o.interceptors.request.use(function(e){return e}),o.interceptors.response.use(function(e){return e}),t["a"]=o},"73eb":function(e,t,n){e.exports=n.p+"img/diamond.87fab3b3.png"},7430:function(e,t,n){e.exports=n.p+"img/power-plant.545199bf.png"},"74cc":function(e,t,n){e.exports=n.p+"img/hades.1344fe0e.png"},"75f3":function(e,t,n){"use strict";var i=n("9c54"),a=n.n(i);a.a},"766e":function(e,t,n){"use strict";var i=n("fd61"),a=n.n(i);a.a},"786b":function(e,t,n){"use strict";var i=n("f449"),a=n.n(i);a.a},"79c7":function(e,t,n){},"79ef":function(e,t,n){e.exports=n.p+"img/windmill.b17e739a.png"},"7a29":function(e,t,n){"use strict";var i=n("0422"),a=n.n(i);a.a},"7b0d":function(e,t,n){e.exports=n.p+"img/level-up.e14eaba6.gif"},"7b76":function(e,t,n){},"7c8e":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-content"},[e._t("card"),n("div",{staticClass:"leave"},[n("button",{staticClass:"icon-button",on:{click:function(t){return e.$emit("close")}}}),n("label",[e._v("返回")])])],2)},a=[],r={},o=r,s=(n("75f3"),n("2877")),c=Object(s["a"])(o,i,a,!1,null,"1f30200c",null);t["a"]=c.exports},"7eb9":function(e,t,n){e.exports=n.p+"img/government-spawn.8906cdbb.png"},"808b":function(e,t,n){e.exports=n.p+"img/position-flag.b0f98649.png"},"80cd":function(e,t,n){"use strict";n.r(t);var i=n("d225"),a=n("b0b4"),r=n("308d"),o=n("6bb5"),s=n("4e2b"),c=n("64b8"),u=n.n(c),l=n("f0d4"),d=n.n(l),p=window.innerHeight,m=window.innerWidth,h=new u.a.Geom.Rectangle(-150,0,m,p/8),g=new u.a.Geom.Rectangle(0,p,m,p/9),f={x:0,y:-100,emitZone:{type:"random",source:h},radial:!1,angle:{min:0,max:360},scale:.1,blendMode:"ADD",lifespan:1500,speedX:{min:200,max:400},speedY:{min:500,max:800},maxVelocityX:200,maxVelocityY:600,frequency:1500,deathZone:{type:"onEnter",source:g}},b=function(){function e(t){Object(i["a"])(this,e),this.scene=t}return Object(a["a"])(e,[{key:"addRain",value:function(){var e=this.scene.add.particles("Star");e.createEmitter(f),this.scene.WeatherGroup.add(e)}}]),e}(),v=n("3fa0");n.d(t,"PlanetGameFunc",function(){return y}),n.d(t,"default",function(){return _}),n.d(t,"getPlanetType",function(){return x});var y={},_=function(e){function t(){return Object(i["a"])(this,t),Object(r["a"])(this,Object(o["a"])(t).call(this,"PlanetScene"))}return Object(s["a"])(t,e),Object(a["a"])(t,[{key:"init",value:function(){console.log(v["userData"]);var e=this;y.SwitchPlanet=function(t){console.log(e.PlanetLightTween),e.tweens.add({targets:[e.planet,e.planetLight],duration:500,alpha:0,ease:"Quad.easeOut"});var n=screen.height,i=screen.width;e.planet.destroy(),e.planetLight.destroy(),e.planet=e.add.sprite(i/2,n/2.35,"planet-2")},y.ChangeScene=function(){e.scene.transition({target:"PlayScene",duration:0,sleep:!0})},y.CameraFadeIn=function(){e.cameras.main.fadeIn(2e3)},this.weather=new b(this),this.backgroundGroup=new d.a(this.game,void 0,"Backgrond"),this.buildGroup=new d.a(this.game,void 0,"Building"),this.WeatherGroup=new d.a(this.game,void 0,"Weather"),this.star=[]}},{key:"create",value:function(){console.log("PlanetScene create");var e,t=screen.height,n=screen.width;switch(this.background=this.add.tileSprite(n/2,t/2,n,t,"bg"),this.weather.addRain(),v["userData"].type){case"赫克斯":e="planet-1";break;case"奎納爾":e="planet-2";break;default:e="planet-1";break}this.planetLight=this.add.sprite(n/2,t/2.35,"planet-1-light"),this.planet=this.add.sprite(n/2,t/2.35,e),this.planetLight.alpha=.6,this.PlanetLightTween=this.tweens.add({targets:[this.planetLight],duration:1700,alpha:1,ease:"Quad.easeOut",repeat:-1,yoyo:!0}),this.star[0]=this.add.sprite(.05*n,1/7*t,"Star"),this.star[1]=this.add.sprite(.125*n,2/7*t,"Star"),this.star[2]=this.add.sprite(.9*n,1.2/7*t,"Star"),this.star[3]=this.add.sprite(1.1/5*n,5.5/7*t,"Star"),this.star[4]=this.add.sprite(4.4/5*n,6.1/7*t,"Star");for(var i=0;i<5;i++)this.star[i].scaleX=.1+i/50,this.star[i].scaleY=.1+i/50,this.star[i].alpha=.3+i/10,this.tweens.add({targets:this.star[i],duration:2e3+200*i,alpha:1,ease:"Quad.easeOut",repeat:-1,yoyo:!0});this.cameras.main.fadeIn(2e3),console.log("PS");var a=this.sound.add("bgm");a.loop=1/0,a.play()}},{key:"update",value:function(){this.background.tilePositionX+=.1}},{key:"EnterPlanet",value:function(){console.log(t),this.cameras.main.fadeOut(2e3),this.cameras.main.zoomTo(2.5,3e3)}}]),t}(c["Scene"]);function x(e){v["userData"].type=e}},"80d3":function(e,t,n){e.exports=n.p+"img/house-a.ff40941b.png"},8185:function(e,t,n){},8277:function(e,t,n){},"839f":function(e,t,n){"use strict";var i=n("7185"),a=n.n(i);a.a},8410:function(e,t,n){"use strict";var i=n("23bf"),a=n.n(i);a.a},8589:function(e,t,n){},"85ab":function(e,t,n){e.exports=n.p+"img/power.3e9c87b5.png"},8654:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tab-root"},[n("div",{staticClass:"nav"},e._l(e.navList,function(t){return n("span",{style:t===e.currentMenu?"opacity: 1":"opacity: 0.4",on:{click:function(n){return e.switchMenu(t)}}},[e._v(e._s(t))])}),0),e._t("content")],2)},a=[],r={props:{navList:Array},data:function(){return{currentMenu:this.navList[0]}},methods:{switchMenu:function(e){this.currentMenu=e,this.$emit("switchMenu",e)}}},o=r,s=(n("adbf"),n("2877")),c=Object(s["a"])(o,i,a,!1,null,"19f82bf4",null);t["a"]=c.exports},"866b":function(e,t,n){e.exports=n.p+"img/book-active.d8da195f.png"},8696:function(e,t,n){e.exports=n.p+"img/windmill-locked.c8f0d34f.png"},"86e2":function(e,t,n){e.exports=n.p+"img/warehouse-work.ac212dcb.png"},"89ad":function(e,t,n){e.exports=n.p+"media/hades-entering.7c6c4352.mp4"},"8b4c":function(e,t,n){e.exports=n.p+"img/government-locked.4ad13413.png"},"8e2c":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"buildgin-feature-root"},["architectureTechnology"===e.building.feature.component?n("architecture-technology-center",{attrs:{planet:e.planet}}):e._e(),"stonePortal"===e.building.feature.component?n("stone-portal",{attrs:{user:e.user,planet:e.planet,building:e.building}}):e._e(),"hadesTemple"===e.building.feature.component?n("hades-temple",{attrs:{user:e.user}}):e._e(),"cityHall"===e.building.feature.component?n("city-hall",{attrs:{user:e.user,planet:e.planet}}):e._e(),"embassy"===e.building.feature.component?n("embassy",{attrs:{user:e.user}}):e._e()],1)},a=[],r=n("cebc"),o=(n("96cf"),n("3b8d")),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tab",{staticClass:"architecture-technology-center-root",class:e.isSelect?"row-gap-31":"row-gap-45",attrs:{navList:e.navList},on:{switchMenu:e.switchMenu}},[n("div",{attrs:{slot:"content"},slot:"content"},[e.isSelect?e._e():n("skills-tree",{attrs:{skillsInfo:e.buildings[e.currentMenu],planet:e.planet},on:{"click-node":e.clickNode}}),e.isSelect?n("architecture-technology-detail",{attrs:{archiTech:e.archiTech},on:{back:e.back,develop:e.develop,nextScenes:e.nextScenes}}):e._e(),n("span",{staticClass:"point"},[e._v("科研點數 : "+e._s(e.planet.architectureTechnologyPoint))]),e.haveDeveloped?n("custom-transition-group",{attrs:{transitionName:"fade-down-up",duration:2e3},on:{transitionEnd:e.transitionEnd}},[n("div",{attrs:{slot:"transitionContent"},slot:"transitionContent"},[n("div",[n("img",{attrs:{src:e.transformImage.building(e.archiTech.name)}})]),n("span",[e._v("已解鎖 "+e._s(e.archiTech.name))])])]):e._e()],1)])},c=[],u=(n("7f7f"),n("8654")),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"skills-tree-root"},[e.treeData.name?n("table",[n("tr",[n("td",{class:{extend:e.treeData.children&&e.treeData.extend},attrs:{colspan:e.treeData.children?2*e.treeData.children.length:1}},[n("div",{staticClass:"node"},[n("div",{staticClass:"skill",on:{click:function(t){return e.clickNode(e.treeData)}}},[n("div",{class:{unlocked:!e.treeData.isLocked}},[n("img",{attrs:{src:e.treeData.isLocked?e.transformImage.archiTechLocked(e.treeData.name):e.transformImage.archiTech(e.treeData.name)}}),e.treeData.isLocked?e._e():n("div",["none"===e.treeData.nextLevel?n("span",[e._v("M")]):n("span",[e._v(e._s(e.treeData.level))])])])])])])]),e.treeData.children&&e.treeData.extend?n("tr",e._l(e.treeData.children,function(t,i){return n("td",{key:i,staticClass:"childLevel",attrs:{colspan:"2"}},[n("skills-tree",{attrs:{skillsInfo:t,planet:e.planet},on:{"click-node":e.clickNode}})],1)}),0):e._e()]):e._e()])},d=[],p=(n("ac6a"),n("28a5"),n("8e58")),m={name:"SkillsTree",props:{planet:Object,skillsInfo:Object},data:function(){return{transformImage:p["a"],treeData:{}}},methods:{clickNode:function(e){e.canOpen&&this.$emit("click-node",e)},showIamge:function(e){return e.isLocked?n("198f"):n("866b")}},watch:{skillsInfo:{handler:function(e){var t=this,n=function e(n){var i=n.id.split("")[0];switch(i){case"c":i="commonBuilding";break;case"m":i="militaryBuilding";break;case"e":i="economicBuilding";break;case"s":i="specialBuilding";break;default:break}var a=t.planet.architectureTechnology;return a[i][n.id]?n.isLocked=!1:n.isLocked=!0,n.canOpen=!1,"root"===n.parent&&(n.canOpen=!0),a[i][n.parent]&&(n.canOpen=!0),n.extend=void 0===n.extend||!!n.extend,Array.isArray(n.children)&&n.children.forEach(function(t){e(t)}),n};e&&(this.treeData=n(e))},immediate:!0}}},h=m,g=(n("a7bc"),n("2877")),f=Object(g["a"])(h,l,d,!1,null,"1b95de52",null),b=f.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"architecture-technology-deatail-root"},[n("div",[n("div",{staticClass:"image-container"},[n("div",{class:{unlocked:!e.archiTech.isLocked}},[n("img",{attrs:{src:e.archiTech.isLocked?e.transformImage.archiTechLocked(e.archiTech.name):e.transformImage.archiTech(e.archiTech.name)}})])]),n("div",[n("h4",[e._v(e._s(e.archiTech.title))]),e.archiTech.isLocked?n("span",[e._v("研發所需點數 : "+e._s(e.archiTech.point))]):n("span",[e._v("研發所需點數 : "+e._s("none"===e.archiTech.nextLevel?"無":e.archiTech.point))]),e.archiTech.isLocked?n("span",[e._v("目前研發狀態：未解鎖")]):n("span",[e._v("目前研發狀態： Lv."+e._s("none"===e.archiTech.nextLevel?"MAX":e.archiTech.level))])])]),n("div",[e._m(0),n("div",{staticClass:"content"},[n("p",[e._v(e._s(e.archiTech.description))]),n("div",[n("img",{attrs:{src:e.transformImage.building(e.archiTech.name)}})])])]),n("div",[n("span",{on:{click:e.back}},[e._v("返回上頁")]),e.archiTech.isLocked?n("span",{on:{click:function(t){return e.devArchiTech(e.archiTech)}}},[e._v("進行研發")]):e._e()])])},y=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"heading-default"},[n("h4",[e._v("研發影響")])])}],_=n("2f62"),x={props:{archiTech:Object},data:function(){return{transformImage:p["a"]}},computed:Object(r["a"])({},Object(_["c"])("planet",{architectureTechnologyPoint:"getArchitectureTechnologyPoint"})),methods:Object(r["a"])({},Object(_["d"])("feature",["SHOW_NOTIFICATION"]),{showIamge:function(e){return n(e?"198f":"866b")},back:function(){this.$emit("back")},devArchiTech:function(e){e.point>this.architectureTechnologyPoint?this.SHOW_NOTIFICATION("技能點數不足！"):(this.$emit("nextScenes","進行研發"),this.$emit("develop"))}})},O=x,w=(n("cef3"),Object(g["a"])(O,v,y,!1,null,"05836488",null)),C=w.exports,k=n("c2c7"),I=n("0339"),T={components:{SkillsTree:b,Tab:u["a"],ArchitectureTechnologyDetail:C,CustomTransitionGroup:k["a"]},props:{planet:Object},data:function(){return{transformImage:p["a"],navList:["通用科研","軍事科研","經濟科研"],currentMenu:"通用科研",buildings:{"通用科研":I.commonBuilding,"軍事科研":I.militaryBuilding,"經濟科研":I.economicBuilding},isSelect:!1,archiTech:"",haveDeveloped:!1}},computed:Object(r["a"])({},Object(_["c"])("user",{isBeginner:"getIsBeginner",currentScene:"getCurrentBeginnerGuideScenes"})),methods:Object(r["a"])({},Object(_["b"])("planet",["devArchitectureTechnology","gainExperience"]),{switchMenu:function(e){this.isSelect=!1,this.currentMenu=e,this.nextScenes("切換"+e),this.$forceUpdate()},clickNode:function(e){if(this.isBeginner){if(3===this.currentScene)return;if(4===this.currentScene&&"倉庫"!==e.name)return;if(5===this.currentScene&&"倉庫"!==e.name)return;this.nextScenes("研發"+e.name)}this.isSelect=!0,this.archiTech=e},back:function(){this.isSelect=!1},develop:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.isSelect=!1,this.haveDeveloped=!0,e.next=4,this.devArchitectureTechnology(this.archiTech);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),nextScenes:function(e){this.$bus.$emit("nextScenes",e)},transitionEnd:function(){this.haveDeveloped=!1,this.gainExperience(this.archiTech.experience)}})},S=T,E=(n("2093"),Object(g["a"])(S,s,c,!1,null,"1b320496",null)),D=E.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"stone-portal-root"},[n("div",{staticClass:"heading-default"},[n("h3",[e._v(e._s(e.building.feature.title))])]),e._m(0),n("planet-list",{attrs:{planetList:e.user.planetList}})],1)},j=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v("具有遠古符文聯繫的星球，"),n("br"),e._v("才能利用巨石陣召喚出傳送門，"),n("br"),e._v("得以利用傳送門快速到達其他星球")])])}],M=n("d596"),R={components:{PlanetList:M["a"]},props:{user:Object,planet:Object,building:Object},data:function(){return{}},methods:{}},L=R,N=(n("c489"),Object(g["a"])(L,B,j,!1,null,"019e7921",null)),A=N.exports,P=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"root",staticClass:"hades-temple-root"},[i("video",{ref:"drawCardAnim",attrs:{width:"375",height:"667",playsinline:"",muted:"",id:"drawCardAnim"},domProps:{muted:!0},on:{ended:e.closeDrawAnim}},[i("source",{attrs:{src:n("eac4"),type:"video/mp4"}})]),i("video",{attrs:{width:"375",height:"667",playsinline:"",autoplay:"",muted:""},domProps:{muted:!0}},[i("source",{attrs:{src:n("89ad"),type:"video/mp4"}})]),i("div",{staticClass:"diamond-charge-wrapper"},[i("div",{staticClass:"charge-panel"},[i("i",{style:{"background-image":"url("+n("73eb")+")"}}),i("span",[e._v(e._s(e.user.diamond))]),i("i")])]),i("div",{staticClass:"leave"},[i("button",{staticClass:"icon-button",on:{click:e.close}}),i("span",[e._v("返回星球")])]),i("button",{staticClass:"show-info-btn",on:{click:function(t){return e.SHOW_NOTIFICATION(e.msg)}}}),e.isDrawCard?i("modal-card-diamond",{attrs:{msg:"請問是否奉獻 requiredDiamond克金石，<br/>進行靈魂審判？",errorMsg:"剩餘不足 requiredDiamond克金石，<br/>無法進行靈魂審判。",requiredDiamond:50},on:{cancel:function(t){e.isDrawCard=!1},confirm:e.drawCard}}):i("div",{staticClass:"draw-action",on:{click:e.decideToDrawCard}}),i("transition",{attrs:{name:"modal"}},[e.isCardGenerate?i("modal-card",{attrs:{haveLeaveButton:!1}},[i("buff-card",{attrs:{slot:"card",card:e.card},on:{close:e.closeCard},slot:"card"})],1):e._e()],1)],1)},z=[],$=n("fabc"),G=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"buff-card-root",on:{click:function(t){return e.$emit("close")}}},[i("div",{staticClass:"header"},[i("div",[i("h2",[e._v(e._s(e.card.title))]),i("button",{staticClass:"show-info-btn",on:{click:function(e){e.stopPropagation()}}})]),i("div",[i("div",e._l(e.card.rarity,function(e){return i("i",{style:{"background-image":"url("+n("ce2b")+")"}})}),0),i("span",[e._v("擁有數 :")])])]),i("div",{staticClass:"main"},[i("p",[e._v(e._s(e.card.description))]),i("div",[i("img",{attrs:{src:e.transformImage.things(e.card.title)}})])]),i("div",[e._m(0),i("div",{staticClass:"buff-group"},e._l(e.card.buffs,function(t,n){return i("div",[i("span",[e._v(e._s(n))]),i("span",[e._v(e._s(t))])])}),0)])])},F=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"heading-default"},[n("h4",[e._v("增減益效果")])])}],X={components:{},props:{card:Object},data:function(){return{transformImage:p["a"]}},methods:{}},H=X,Y=(n("b414"),Object(g["a"])(H,G,F,!1,null,"d5fbf1c6",null)),U=Y.exports,W=n("373a"),q={components:{ModalCard:$["a"],ModalCardDiamond:W["a"],BuffCard:U},props:{user:Object},data:function(){return{msg:"觸摸黑帝斯雕像下方的<strong>遠古銘文</strong><br/>並貢獻寶石即可進行靈魂審判",isDrawCard:!1,isCardGenerate:!1,card:{title:"審判冥王・黑帝斯",description:"冥界是所有死者唯一的去處，因此黑帝斯的神話形象雖冷酷，但並無大多宗教神話中的惡神色彩，而是典型的奧林帕斯英挺男子。由於冥府位於地底，黑帝斯也被視為地下礦產的支配者。",buffs:{"基礎採集能力":"+10%","星球能量數值":"+5%","星球娛樂數值":"-5%"},rarity:3}}},computed:Object(r["a"])({},Object(_["c"])("user",{isBeginner:"getIsBeginner",currentScene:"getCurrentBeginnerGuideScenes"})),methods:Object(r["a"])({},Object(_["d"])("feature",["SHOW_NOTIFICATION"]),Object(_["b"])("planet",["drawBuffCard","gainExperience"]),{decideToDrawCard:function(){if(this.isBeginner){if(51!==this.currentScene)return;this.$bus.$emit("nextScenes","抽卡")}this.isDrawCard=!0},drawCard:function(){this.isBeginner&&this.$bus.$emit("nextScenes","確認"),this.isDrawCard=!1,this.$refs.drawCardAnim.style.display="block",this.$refs.drawCardAnim.play(),this.drawBuffCard({buffCard:this.card})},close:function(){this.isBeginner||this.$bus.$emit("close")},closeDrawAnim:function(){this.$refs.drawCardAnim.style.display="none",this.isCardGenerate=!0,this.$bus.$emit("nextScenes","抽卡動畫")},closeCard:function(){this.isCardGenerate=!1,this.gainExperience(150)}})},J=q,Z=(n("e6cf"),Object(g["a"])(J,P,z,!1,null,"a8168654",null)),V=Z.exports,K=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"city-hall-root"},[e._m(0),i("div",{staticClass:"main"},[e._m(1),i("draggable",e._b({staticClass:"card-wrapper",class:{active:e.isDragging,"border-dash":0===e.planet.activeBuffCard.length},attrs:{tag:"div",move:function(){return!0}},on:{add:function(){return e.$bus.$emit("nextScenes","拖移")}},model:{value:e.planet.activeBuffCard,callback:function(t){e.$set(e.planet,"activeBuffCard",t)},expression:"planet.activeBuffCard"}},"draggable",e.dragOptions,!1),[e.planet.activeBuffCard.length>=1&&!e.isDragging?i("div",e._l(e.planet.activeBuffCard,function(t,n){return i("img",{key:t+"-"+n,attrs:{src:e.transformImage[t.title]}})}),0):e.isDragging?i("span",[e._v("請選擇執政人選")]):i("i",{style:{"background-image":"url("+n("e5bd")+")"}})]),i("span",[e._v("執政格數：1")])],1),i("div",[e._m(2),i("draggable",e._b({staticClass:"card-group",attrs:{tag:"div",move:e.onMove},on:{start:function(t){e.isDragging=!0},end:function(t){e.isDragging=!1}},model:{value:e.planet.buffCards,callback:function(t){e.$set(e.planet,"buffCards",t)},expression:"planet.buffCards"}},"draggable",e.dragOptions,!1),e._l(e.planet.buffCards,function(t,n){return i("div",{key:t+"-"+n+"-card-group",style:{"background-image":"url("+e.transformCardImage[t.title]+")"}})}),0)],1)])},Q=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"heading-default"},[n("h3",[e._v("市府安排")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("從黑帝斯聖殿召喚的角色，可安排至執政格中，"),n("br"),e._v("讓這些角色發揮所長，幫助星球成長。")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"heading-default"},[n("h4",[e._v("執政人選")])])}],ee=n("310e"),te=n.n(ee),ne={components:{draggable:te.a,ModalCard:$["a"],BuffCard:U},props:{user:Object,planet:Object},data:function(){return{transformCardImage:{"審判冥王・黑帝斯":n("04e4")},transformImage:{"審判冥王・黑帝斯":n("74cc")},isDragging:!1}},methods:Object(r["a"])({},Object(_["b"])("planet",["useBuffCard"]),{onMove:function(e){var t=e.relatedContext;e.draggedContext;if(this.isBeginner&&this.currentScene<61)return!1;var n=this;return t.component.$el.matches(".card-wrapper")&&(this.planet.activeBuffCard=this.planet.activeBuffCard.filter(function(e){n.planet.buffCards.push(e)})),!0}}),computed:Object(r["a"])({},Object(_["c"])("user",{isBeginner:"getIsBeginner",currentScene:"getCurrentBeginnerGuideScenes"}),{dragOptions:function(){return{animation:0,group:"description",ghostClass:"ghost"}}}),beforeDestroy:function(){this.useBuffCard({activeBuffCard:this.planet.activeBuffCard})}},ie=ne,ae=(n("d943"),Object(g["a"])(ie,K,Q,!1,null,"c7ea29f4",null)),re=ae.exports,oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"embassy-root"},[n("tab",{attrs:{navList:e.navList},on:{switchMenu:e.switchMenu}},[n("div",{attrs:{slot:"content"},slot:"content"},["隊伍"===e.currentMenu?n("embassy-detail",{attrs:{user:e.user,currentString:"隊友",embassyData:e.team}}):e._e(),"好友"===e.currentMenu?n("embassy-detail",{attrs:{user:e.user,currentString:"好友",embassyData:e.friend}}):e._e()],1)])],1)},se=[],ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"team-root"},[n("div",[0===e.state?n("div",{staticClass:"no-team-no-invitation"},[n("span",[e._v("快和"+e._s(e.currentString)+"們一起採集獲得更多建築資源吧！")])]):1===e.state?n("div",{staticClass:"no-team-have-invitation"},[n("div",{staticClass:"heading-default"},[n("h4",[e._v(e._s(e.currentString)+"邀請")])]),n("member-list",{staticClass:"member-list",attrs:{members:e.embassyData.invitation,buttonText:e.topButtonText}})],1):n("div",{staticClass:"have-team"},[e._m(0),n("member-list",{staticClass:"member-list",attrs:{members:e.embassyData.member,buttonText:e.topButtonText}}),e._m(1)],1)]),2!==e.state?n("div",{staticClass:"team-input",attrs:{type:0}},[n("input",{attrs:{type:"text",placeholder:"ID"}}),n("button",{staticClass:"button-default"},[e._v(e._s(e.InputButtonText))])]):e._e(),n("div",{staticClass:"team-list"},[n("div",{staticClass:"heading-default"},[n("h4",[e._v(e._s(e.currentString)+"建議")])]),n("member-list",{staticClass:"member-list",attrs:{members:e.embassyData.recommendMember,buttonText:e.bottomButtonText}})],1),e.haveFriend?n("div",{staticClass:"friend-list"},[e._m(2),n("member-list",{staticClass:"member-list",attrs:{members:e.embassyData.member,buttonText:"邀請組隊"}})],1):e._e()])},ue=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("img"),n("div",[n("h5",[e._v("組隊效果")]),n("h5",[e._v("- 採集能力提升10%")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"invitation-add-div"},[n("div",[n("h1",[e._v("+")])]),n("div",[n("h5",[e._v("新增隊員")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"heading-default"},[n("h4",[e._v("好友名單")])])}],le=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"list-root"},e._l(e.members,function(t,a){return i("div",["加入"===e.buttonText||"邀請"===e.buttonText?i("div",{staticClass:"invitation-div"},[i("img",{attrs:{src:n("3adb")}}),i("div",[i("h5",[e._v(e._s(t.name))]),i("h5",[e._v("距離3.0公里")])]),i("button",[e._v(e._s(e.buttonText))])]):i("div",{staticClass:"other-div"},[i("img",{attrs:{src:n("3adb")}}),i("div",[i("h5",[e._v(e._s(t.name))]),i("h5",[e._v("距離30公里")])]),i("button",[e._v(e._s(e.buttonText))]),0!=e.type?i("button",[e._v("more")]):e._e()])])}),0)},de=[],pe={props:{members:Array,buttonText:String},data:function(){return{distance:[],myPositionX:1e3,myPositionY:2200}},created:function(){var e=this;console.log(this.members),this.members.forEach(function(t){var n=t.positionX-e.myPositionX,i=t.positionY-e.myPositionY,a=Math.sqrt(Math.pow(n)+Math.pow(i));console.log(a)})}},me=pe,he=(n("4cba"),Object(g["a"])(me,le,de,!1,null,"69e44208",null)),ge=he.exports,fe={props:{currentString:String,user:Object,embassyData:Object},components:{MemberList:ge},data:function(){return{}},computed:{InputButtonText:function(){return"隊友"===this.currentString?"邀請組隊":"加入好友"},state:function(){return"隊友"===this.currentString?0===this.embassyData.length?1:2:0!==this.embassyData.invitation.length?1:0},bottomButtonText:function(){return"隊友"===this.currentString?"邀請":"加入"},topButtonText:function(){return"隊友"===this.currentString?1===this.state?"邀請":"位置":"加入"},haveFriend:function(){return"好友"===this.currentString&&0!==this.embassyData.member.length}}},be=fe,ve=(n("1890"),Object(g["a"])(be,ce,ue,!1,null,null,null)),ye=ve.exports,_e={components:{Tab:u["a"],EmbassyDetail:ye},props:{user:Object},data:function(){return{navList:["隊伍","好友"],currentMenu:"隊伍",uid:"",searchedUser:"",team:{inTeam:!0,leader:!0,memberNum:0,buff:10,member:[{name:"陳小名",title:"隊長",positionX:1234,positionY:2342},{name:"陳小名",title:"隊長",positionX:1234,positionY:2342},{name:"陳小名",title:"隊長",positionX:1234,positionY:2342},{name:"陳小名",title:"隊長",positionX:1234,positionY:2342}],invitation:[[{name:"王小名",title:"隊長",positionX:1234,positionY:2342},{name:"陳小名",title:"隊長",positionX:1234,positionY:2342},{name:"陳小名",title:"隊長",positionX:1234,positionY:2342},{name:"陳小名",title:"隊長",positionX:1234,positionY:2342}],[{name:"楊小名",title:"隊長",positionX:1234,positionY:2342},{name:"陳小名",title:"隊長",positionX:1234,positionY:2342},{name:"陳小名",title:"隊長",positionX:1234,positionY:2342},{name:"陳小名",title:"隊長",positionX:1234,positionY:2342}],[{name:"盧小名",title:"隊長",positionX:1234,positionY:2342},{name:"陳小名",title:"隊長",positionX:1234,positionY:2342},{name:"陳小名",title:"隊長",positionX:1234,positionY:2342},{name:"陳小名",title:"隊長",positionX:1234,positionY:2342}]],recommendMember:[{name:"陳小名",title:"隊長",positionX:1234,positionY:2342},{name:"陳小名",title:"隊長",positionX:1234,positionY:2342},{name:"陳小名",title:"隊長",positionX:1234,positionY:2342},{name:"陳小名",title:"隊長",positionX:1234,positionY:2342}]},friend:{member:[{name:"陳小名",title:"隊長",positionX:1234,positionY:2342},{name:"陳小名",title:"隊長",positionX:1234,positionY:2342},{name:"陳小名",title:"隊長",positionX:1234,positionY:2342},{name:"陳小名",title:"隊長",positionX:1234,positionY:2342}],invitation:[{name:"陳小名",title:"隊長",positionX:1234,positionY:2342},{name:"陳小名",title:"隊長",positionX:1234,positionY:2342},{name:"陳小名",title:"隊長",positionX:1234,positionY:2342},{name:"陳小名",title:"隊長",positionX:1234,positionY:2342}],recommendMember:[{name:"陳小名",title:"隊長",positionX:1234,positionY:2342},{name:"陳小名",title:"隊長",positionX:1234,positionY:2342},{name:"陳小名",title:"隊長",positionX:1234,positionY:2342},{name:"陳小名",title:"隊長",positionX:1234,positionY:2342}]}}},created:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getFriends();case 2:return e.next=4,this.getAllFriendInvitations();case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),sockets:{getAllFriendInvitations:function(e){this.getAllFriendInvitations()},getFriends:function(){this.getFriends()},serverError:function(e){console.log(e)}},methods:Object(r["a"])({},Object(_["d"])("feature",["SHOW_NOTIFICATION"]),Object(_["b"])("user",["searchUser","getFriends","acceptFriendInvitation","getAllFriendInvitations","addFriend"]),{search:function(){var e=this;this.searchUser({uid:this.uid}).then(function(t){e.searchedUser=t}).catch(function(t){404===t.response.status&&e.SHOW_NOTIFICATION("找不到此玩家"),405===t.response.status&&e.SHOW_NOTIFICATION("此玩家尚未擁有外交大使館")})},submitAddFriend:function(){this.$socket.emit("addFriend",{user:{uid:this.user.uid,username:this.user.username,nickname:this.user.username},friend:this.searchedUser})},ensureAcceptFriendInvitation:function(e){this.$socket.emit("acceptFriendInvitation",{user:{uid:this.user.uid,username:this.user.username,nickname:this.user.username},friend:e}),this.acceptFriendInvitation({user:e})},switchMenu:function(e){this.currentMenu=e}})},xe=_e,Oe=(n("9b38"),Object(g["a"])(xe,oe,se,!1,null,"6f979eaa",null)),we=Oe.exports,Ce={components:{ArchitectureTechnologyCenter:D,StonePortal:A,HadesTemple:V,CityHall:re,Embassy:we},props:{user:Object,planet:Object,building:Object},data:function(){return{}},created:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("stonePortal"!==this.building.feature.component){e.next=3;break}return e.next=3,this.getPlanetList();case 3:"warehouse"===this.building.feature.component&&this.$bus.$emit("openModal","資源頁面");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:Object(r["a"])({},Object(_["b"])("user",["getPlanetList"]))},ke=Ce,Ie=(n("e888"),Object(g["a"])(ke,i,a,!1,null,"ecb1357a",null));t["a"]=Ie.exports},"8e4c":function(e,t,n){e.exports=n.p+"img/coin.1475762a.png"},"8e58":function(e,t,n){"use strict";var i={planet:function(e){switch(e){case"赫克斯":return n("edcf");case"奎奈爾":return n("697a");case"蒂瑪修":return n("edcf");case"墨菲比斯":return n("697a");default:break}},building:function(e){switch(e){case"巨石陣傳送門":return n("c4ba");case"風車":return n("79ef");case"科研中心":return n("0ba5");case"太空溫室農場":return n("656a");case"發電廠":return n("7430");case"資源傳輸中心":return n("9b28");case"倉庫":return n("d3ef");case"住宅":return n("80d3");case"民宅":return n("f0cd");case"市政中心":return n("f08e");case"巴比倫空中花園":return n("656a");case"教堂":return n("7430");case"畜牧農場":return n("9b28");case"森林":return n("d3ef");case"成功大學牌坊":return n("80d3");case"棒球場":return n("f0cd");default:break}},buildingLocked:function(e){switch(e){case"科研中心":return n("97b6");case"巨石陣傳送門":return n("f234");case"倉庫":return n("1170");case"風車":return n("8696");case"太空溫室農場":return n("b939");case"發電廠":return n("5c09");case"資源傳輸中心":return n("e46e");case"住宅":return n("ecb9");case"民宅":return n("98a0");case"市政中心":return n("8b4c");default:break}},things:function(e){switch(e){case"金幣":return n("8e4c");case"克金石":return n("73eb");case"石頭":return n("f33f");case"木頭":return n("52c4");case"鋼鐵":return n("3896");case"銅礦":return n("f944");case"墨金屬":return n("a542");case"氦金屬":return n("f3f5");case"銝金屬":return n("b81d");case"鍨金屬":return n("ef73");case"薛丁格的貓一般":return n("5a80");case"薛丁格的貓稀有":return n("4561");case"薛丁格的貓史詩":return n("e2c8");case"紅藥水":return n("e2c8");case"超級魔藥":return n("e2c8");case"大成館設計圖":return n("e2c8");case"科研中心設計圖":return n("e2c8");case"審判冥王・黑帝斯":return n("74cc");default:break}},archiTech:function(e){switch(e){case"科研中心":return n("2356");case"太空溫室農場":return n("fcfb");case"發電廠":return n("00d3");case"資源傳輸中心":return n("0959");case"倉庫":return n("efe2");case"住宅":return n("00a3");case"市政中心":return n("e427");case"外交大使館":return n("2e32");case"觀測站":return n("a843");default:break}},archiTechLocked:function(e){switch(e){case"科研中心":return n("6752");case"太空溫室農場":return n("6664");case"發電廠":return n("3f5f");case"資源傳輸中心":return n("6505");case"倉庫":return n("0d7b");case"住宅":return n("aa2e");case"市政中心":return n("f60b");case"外交大使館":return n("5c6d");case"觀測站":return n("042d");default:return n("6752")}},planetInfoIcon:function(e){switch(e){case"星球等級":return n("db34");case"星球規模":return n("4989");case"人口數量":return n("4989");case"戰力指數":return n("5633");case"已解鎖建築":return n("db34");case"已召喚腳色":return n("db34")}}};t["a"]=i},"8eda":function(e,t,n){"use strict";var i=n("0aa7"),a=n.n(i);a.a},"8fce":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"collect-panel-root"},[e.robotIsOpen?i("modal-card",{staticClass:"modal",on:{close:e.robotopen}},[i("robot-info",{attrs:{slot:"card",user:e.user},slot:"card"})],1):e._e(),i("div",{staticClass:"user-resources-wrapper"},[i("div",{staticClass:"charge-panel"},[i("i",{style:{"background-image":"url("+n("a71d")+")"},on:{click:e.robotopen}}),i("span",[e._v("2")]),i("i")]),i("div",[i("h6",[e._v("玩家資源存量")]),i("div",e._l(e.user.resources.slice(0,4),function(t){return i("div",[i("i",{style:{"background-image":"url("+e.transformImage.things(t.type)+")"}}),i("span",[e._v(e._s(t.amount))])])}),0)])]),e._m(0),i("div",{staticClass:"leave"},[i("router-link",{staticClass:"icon-button",attrs:{tag:"button",to:"/game"}}),i("span",[e._v("返回星球")])],1),i("div",{staticClass:"collection-info"},[e.collectionInfo?i("div",[i("div",[i("div",[i("h5",[e._v("座標 ("+e._s(e.collectionInfo.maxLat)+", "+e._s(e.collectionInfo.maxLng)+")")]),e.remainingTime.coolDownTime?i("span",[e._v("冷卻中 : "+e._s(e.remainingTime.coolDownTime))]):e._e()]),e.remainingTime.respawnTime?i("div",{staticClass:"respawn-msg"},[i("span",[e._v("波波拉失控區域，等待資源重生中...")]),i("span",[e._v("重生剩餘時間: "+e._s(e.remainingTime.respawnTime))])]):i("div",{staticClass:"collection-resource"},e._l(e.collectionInfo.storages,function(t){return i("div",[i("i",{style:{"background-image":"url("+e.transformImage.things(t.type)+")"}}),i("span",[e._v(e._s(t.amount))])])}),0)]),!e.isCollectable||e.remainingTime.coolDownTime||e.remainingTime.respawnTime?i("button",{staticClass:"button-default",style:{opacity:"0.5"}},[e._v("進行採集")]):i("button",{staticClass:"button-default",on:{click:function(t){return e.$emit("collect")}}},[e._v("進行採集")])]):i("h4",[e._v("點擊地圖框格檢視地表資訊")])])],1)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"button-group"},[n("i"),n("i")])}],r=(n("7514"),n("f576"),n("96cf"),n("3b8d")),o=n("8e58"),s=n("fabc"),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"robot-root"},[i("div",{staticClass:"heading-default"},[i("h1",[e._v("Duino")]),i("span",[e._v("擁有數： "+e._s(e.user.collectorMax))])]),i("div",[i("p",[e._v(e._s(e.content))]),i("img",{attrs:{src:n("a71d")}})]),i("div",[e._m(0),i("div",[e._l(e.user.collectorMax,function(t,a){return[e.robotInfo[a].isOnCoolDown?i("div",{staticClass:"cool-down"},[i("div",{style:{"background-image":"url("+n("9a5f")+")"}}),i("span",[e._v("冷卻中 "+e._s(e.robotInfo[a].remainTime))])]):i("div",{staticClass:"waiting"},[i("div",{style:{"background-image":"url("+n("a71d")+")"}}),i("span",[e._v("待命中")])])]})],2)]),i("button",{staticClass:"button-default"},[e._v("直接結束冷卻")])])},u=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"heading-default"},[n("h4",[e._v("採集器狀態")])])}],l=(n("ac6a"),n("5df3"),n("1c4c"),{props:{user:Object},data:function(){return{robotTimer:0,robotInfo:[],content:"Duino是人類的好朋友，面對嚴峻的波波拉，Duino擁有很好的偵測能力，可以避開危險，找到充分的資源。但是使用Duino需要一定的精神力去控制，因此除非擁有很好的能力，不然要等待一下才能使用他呢。"}},created:function(){var e=this,t=this;this.robotInfo=Array.from({length:this.user.collectorMax}).map(function(e){return{isOnCoolDown:!1}}),this.user.coolDownGrid.forEach(function(n,i){t.$set(e.robotInfo,i,{isOnCoolDown:!0,remainTime:0,finishTime:n.finishTime}),t.countDown(i)}),this.timer()},beforeDestroy:function(){clearInterval(this.robotTimer)},methods:{timer:function(){var e=this;this.robotTimer=setInterval(function(){e.robotInfo.forEach(function(t,n){!0===e.robotInfo[n].isOnCoolDown&&e.countDown(n)})},1e3)},countDown:function(e){var t=Date.parse(new Date(this.robotInfo[e].finishTime)),n=Date.parse(new Date),i=t-n;if(i<0)return this.$set(this.robotInfo[e],"isOnCoolDown",!1),void(this.robotInfo[e].remainTime=0);var a=parseInt(i/1e3/60/60/24),r=String(parseInt(i/1e3/60/60%24)).padStart(2,"0"),o=String(parseInt(i/1e3/60%60)).padStart(2,"0"),s=String(parseInt(i/1e3%60)).padStart(2,"0");this.robotInfo[e].remainTime=a>0?"".concat(a,"天"):"","NaN:NaN:NaN"!==this.robotInfo[e].remainTime&&this.$set(this.robotInfo[e],"remainTime","".concat(r,":").concat(o,":").concat(s))}}}),d=l,p=(n("a2b0"),n("2877")),m=Object(p["a"])(d,c,u,!1,null,"4358833e",null),h=m.exports,g={props:{user:Object,collectionInfo:Object,isCollectable:Boolean,robotOpen:Boolean},components:{ModalCard:s["a"],RobotInfo:h},data:function(){return{transformImage:o["a"],remainingTime:{coolDownTime:null,respawnTime:null},coolDownTimer:null,respawnTimer:null,module:null,robotIsOpen:!1}},created:function(){var e=this;Promise.resolve().then(n.bind(null,"3fa0")).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.module=n;case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},beforeDestroy:function(){clearInterval(this.coolDownTimer),clearInterval(this.respawnTimer)},methods:{sleep:function(e){return new Promise(function(t){return setTimeout(t,e)})},countdown:function(e,t){var n=Date.parse(new Date(e)),i=Date.parse(new Date),a=n-i,r=parseInt(a/1e3/60/60/24),o=String(parseInt(a/1e3/60/60%24)).padStart(2,"0"),s=String(parseInt(a/1e3/60%60)).padStart(2,"0"),c=String(parseInt(a/1e3%60)).padStart(2,"0");this.remainingTime[t]=r>0?"".concat(r,"天"):"",this.remainingTime[t]+="".concat(o,":").concat(s,":").concat(c),a<=0&&(clearInterval(this.coolDownTimer),clearInterval(this.respawnTimer),this.remainingTime[t]=null)},phaserInputEnabled:function(){this.module.gameFunction.scene.input.manager.enabled=!0},robotopen:function(){this.robotIsOpen=!this.robotIsOpen}},watch:{collectionInfo:function(){var e=this;if(void 0!==this.collectionInfo){clearInterval(this.coolDownTimer),clearInterval(this.respawnTimer);var t=this.user.coolDownGrid.find(function(t){return t.maxLat===e.collectionInfo.maxLat&&t.maxLng===e.collectionInfo.maxLng});t?(this.countdown(t.finishTime,"coolDownTime"),this.coolDownTimer=setInterval(this.countdown,1e3,t.finishTime,"coolDownTime")):this.remainingTime.coolDownTime=null,this.collectionInfo.respawnTime?(this.countdown(this.collectionInfo.respawnTime,"respawnTime"),this.respawnTimer=setInterval(this.countdown,1e3,this.collectionInfo.respawnTime,"respawnTime")):this.remainingTime.respawnTime=null}}}},f=g,b=(n("6ad0"),Object(p["a"])(f,i,a,!1,null,"652d65fb",null));t["a"]=b.exports},"904e":function(e,t,n){"use strict";var i=n("d353"),a=n.n(i);a.a},9356:function(e,t,n){},9456:function(e,t,n){},"96a1":function(e,t,n){e.exports=n.p+"img/eye.622809e9.png"},"96b1":function(e,t,n){e.exports=n.p+"img/mission.aaddf59c.png"},"97b6":function(e,t,n){e.exports=n.p+"img/research-center-locked.94fe7054.png"},"98a0":function(e,t,n){e.exports=n.p+"img/house-b-locked.15e624c1.png"},"994a":function(e,t,n){},"99e4":function(e,t,n){"use strict";var i=n("79c7"),a=n.n(i);a.a},"9a5f":function(e,t,n){e.exports=n.p+"img/robot-cool-down.1686d9d7.png"},"9b28":function(e,t,n){e.exports=n.p+"img/resource-transfer.53add80c.png"},"9b38":function(e,t,n){"use strict";var i=n("4ce1"),a=n.n(i);a.a},"9b7f":function(e,t,n){e.exports=n.p+"img/bg.78b4de10.png"},"9c54":function(e,t,n){},"9edf":function(e,t,n){e.exports=n.p+"img/government-work.707877f4.png"},"9eef":function(e,t,n){e.exports=n.p+"img/research-center-work.96d4973e.png"},"9f25":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"warehouse-root"},[e._m(0),i("div",[i("div",{staticClass:"heading-default"},[i("h4",[e._v("寶石金幣")]),i("span",[e._v("金幣最大容量 "+e._s(e.user.coin.max))])]),i("div",[i("div",{on:{click:function(t){return e.showMoney("m0")}}},[i("i",{style:{"background-image":"url("+n("73eb")+")"}}),i("span",[e._v(e._s(e.user.diamond))])]),i("div",{on:{click:function(t){return e.showMoney("m1")}}},[i("i",{style:{"background-image":"url("+n("8e4c")+")"}}),i("span",[e._v(e._s(e.user.coin.amount))])])])]),i("div",[i("div",{staticClass:"heading-default"},[i("h4",[e._v("建築材料")]),i("span",[e._v("每一資源最大容量 "+e._s(e.user.resourceMax))])]),i("div",e._l(e.user.resources,function(t,n){return i("div",{on:{click:function(t){return e.showResource(n)}}},[i("i",{style:{"background-image":"url("+e.transformImage.things(t.type)+")"}}),i("span",[e._v(e._s(t.amount))])])}),0)]),i("div",[e._m(1),i("div",[i("div",{style:{"background-image":"url("+e.transformImage.things("薛丁格的貓一般")+")"},on:{click:function(t){return e.showBaggage("物品背包")}}}),i("div",{style:{"background-image":"url("+e.transformImage.things("薛丁格的貓一般")+")"},on:{click:function(t){return e.showBaggage("設計圖背包")}}}),i("div",{style:{"background-image":"url("+e.transformImage.things("薛丁格的貓一般")+")"},on:{click:function(t){return e.showBaggage("消耗品背包")}}})])]),e.isShowDetail?i("modal-card-content",{on:{close:function(t){return e.closeDetail()}}},[e.isShowBaggage?i("baggage-detail",{attrs:{slot:"card",baggageName:e.baggageName},slot:"card"}):i("stock-detail",{attrs:{slot:"card",stockId:e.stockId,showBottomInfo:e.showBottomInfo,showRarity:!1},slot:"card"})],1):e._e()],1)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"heading-default"},[n("h3",[e._v("資源庫存")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"heading-default"},[n("h4",[e._v("背包物品")]),n("span",[e._v("! 每個背包裝載不同的物件")])])}],r=n("8e58"),o=n("7c8e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"baggage-detail-root"},[n("div",[n("div",{staticClass:"heading-default"},[n("h3",[e._v(e._s(e.baggageName))])])]),e.noAnyOneStock?n("div",{staticClass:"no-stocks"},[n("h5",[e._v("目前背包中沒有任何物件")])]):n("div",{staticClass:"have-stocks"},e._l(e.baggage,function(t,i){return n("img",{attrs:{src:e.transformImage.things(t.name_zh)},on:{click:function(n){return e.showDetail(t)}}})}),0),e.isShowDetail?n("modal-card-content",{on:{close:function(t){e.isShowDetail=!e.isShowDetail}}},[n("stock-detail",{attrs:{slot:"card",stockId:e.stockId,showBottomInfo:!1,showRarity:!0},slot:"card"})],1):e._e()],1)},c=[],u=n("cebc"),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"stock-detail-root"},[i("div",{staticClass:"heading-default"},[i("h2",[e._v(e._s(e.stock.title))]),i("span",[e._v("擁有數："+e._s(e.amount))])]),i("div",[i("p",[e._v(e._s(e.stock.description))]),i("div",[i("img",{class:{biggerImg:!e.showBottomInfo},attrs:{src:e.transformImage.things(e.stock.name_zh)}}),e.showRarity?i("div",[i("span",[e._v("稀有度: ")]),e._l(e.stock.rarity,function(e){return i("i",{style:{"background-image":"url("+n("ce2b")+")"}})})],2):e._e()])]),i("div",[e._m(0),i("div",e._l(e.stock.acquisition,function(t,n){return i("p",[e._v(e._s(n+1)+"."+e._s(t))])}),0)]),e.showBottomInfo?i("div",{staticClass:"button-group"},[i("div",[i("button",{staticClass:"icon-button",style:{"background-image":"url("+n("5e73")+")"}}),i("span",[e._v("商城")])]),i("div",[i("button",{staticClass:"icon-button",style:{"background-image":"url("+n("5bbc")+")"}}),i("span",[e._v("交易")])]),i("div",[i("button",{staticClass:"icon-button",style:{"background-image":"url("+n("20ec")+")"}}),i("span",[e._v("採集")])])]):e._e()])},d=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"heading-default"},[n("h4",[e._v("取得路徑")])])}],p=(n("c5f6"),n("28a5"),n("f976")),m=n("2f62"),h={props:{stockId:String,showBottomInfo:Boolean,showRarity:Boolean},data:function(){return{transformImage:r["a"],stock:{},amount:0}},created:function(){var e=this.stockId.split("")[0],t=Number(this.stockId.split("")[1]);switch(e){case"m":this.stock=p.money[t],0===t&&(this.amount=this.user.diamond),1===t&&(this.amount=this.user.coin.amount);break;case"r":this.stock=p.resource[t],this.amount=this.user.resources[t].amount;break;case"e":this.stock=p.expendables[t],this.amount=this.countBaggageStockAmount(this.user.baggage.expendables);break;case"s":this.stock=p.sketch[t],this.amount=this.countBaggageStockAmount(this.user.baggage.sketch);break;case"g":this.stock=p.goods[t],this.amount=this.countBaggageStockAmount(this.user.baggage.goods);break}},computed:Object(u["a"])({},Object(m["e"])("user",{user:function(e){return e}})),methods:{countBaggageStockAmount:function(e){var t=this;return e.reduce(function(e,n){return n.id===t.stockId&&(e+=1),e},0)}}},g=h,f=(n("839f"),n("2877")),b=Object(f["a"])(g,l,d,!1,null,"15d35cce",null),v=b.exports,y={components:{StockDetail:v,ModalCardContent:o["a"]},props:{baggageName:String},data:function(){return{transformImage:r["a"],isShowDetail:!1,stockId:"",baggage:[]}},created:function(){"物品背包"===this.baggageName?this.baggage=this.userBaggage.goods:"設計圖背包"===this.baggageName?this.baggage=this.userBaggage.sketch:this.baggage=this.userBaggage.expendables},computed:Object(u["a"])({},Object(m["c"])("user",{userBaggage:"getBaggage"}),{noAnyOneStock:function(){return 0===this.baggage.length}}),methods:{showDetail:function(e){this.isShowDetail=!0,this.stockId=e.id}}},_=y,x=(n("3826"),Object(f["a"])(_,s,c,!1,null,"2eff616e",null)),O=x.exports,w={components:{ModalCardContent:o["a"],StockDetail:v,BaggageDetail:O},props:{user:Object},data:function(){return{transformImage:r["a"],isShowDetail:!1,baggageName:"",showBottomInfo:!0,isShowBaggage:!1,stockId:""}},methods:{showBaggage:function(e){this.baggageName=e,this.isShowBaggage=!0,this.isShowDetail=!0},showResource:function(e){this.isShowDetail=!0,this.stockId="r"+e,this.showBottomInfo=!0},showMoney:function(e){this.isShowDetail=!0,this.stockId=e,this.showBottomInfo=!1},closeDetail:function(){this.isShowDetail=!1,this.isShowBaggage=!1}}},C=w,k=(n("fce9"),Object(f["a"])(C,i,a,!1,null,"9f7b5df4",null));t["a"]=k.exports},"9f3b":function(e,t,n){"use strict";var i=n("994a"),a=n.n(i);a.a},a01c:function(e,t,n){},a0bf:function(e,t,n){e.exports=n.p+"img/kyronus-display-text.ecfebcf5.png"},a0ea:function(e,t,n){e.exports=n.p+"img/hades-temple-work.b976bfaf.png"},a2b0:function(e,t,n){"use strict";var i=n("1b0b"),a=n.n(i);a.a},a2e2:function(e,t,n){},a3eb:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tab",{staticClass:"mission-root",attrs:{navList:e.navList},on:{switchMenu:e.switchMenu}},[n("div",{attrs:{slot:"content"},slot:"content"},["劇情任務"===e.currentMenu?n("story-mission"):e._e(),"一般任務"===e.currentMenu?n("general-mission",{attrs:{user:e.user,planet:e.planet}}):e._e()],1)])},a=[],r=n("8654"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"storymission-root"},[n("div",{staticClass:"mission-wrapper"},[e._m(0),n("div",{staticClass:"content"},e._l(e.solvingMission,function(t,i){return n("div",[n("div",{staticClass:"drop-down-wrapper",class:{"gradient-primary-bgcolor":e.solvingMissionOpen[i]}},[n("div",[n("h4",[e._v(e._s(t.name_zh))]),n("h5",[e._v(e._s(t.brief))])]),n("i",{style:{"background-image":"url("+e.showIcon(t,i,e.solvingMissionOpen)+")"},on:{click:function(n){return e.changeWrapper(e.solvingMissionOpen,i,t)}}})]),e.solvingMissionOpen[i]?n("div",{staticClass:"drop-down-list"},[n("p",[e._v(e._s(t.description))]),n("div",{staticClass:"heading-default"},[n("h4",[e._v("完成獎賞")]),n("span",[e._v("+"+e._s(t.experience)+" exp")])]),n("div",{staticClass:"prize-content"},e._l(t.prize,function(t,i){return n("div",[n("img",{attrs:{src:e.transformImage.things(t.name_zh)}})])}),0)]):e._e()])}),0)]),n("div",{staticClass:"mission-wrapper"},[e._m(1),n("div",{staticClass:"content"},e._l(e.solvedMission,function(t,i){return n("div",[n("div",{staticClass:"drop-down-wrapper",class:{"gradient-primary-bgcolor":e.solvedMissionOpen[i]}},[n("div",[n("h4",[e._v(e._s(t.name_zh))]),n("h5",[e._v(e._s(t.brief))])]),n("i",{style:{"background-image":"url("+e.showIcon(t,i,e.solvedMissionOpen)+")"},on:{click:function(n){return e.changeWrapper(e.solvedMissionOpen,i,t)}}})]),e.solvedMissionOpen[i]?n("div",{staticClass:"drop-down-list"},[n("p",[e._v(e._s(t.description))]),n("div",{staticClass:"heading-default"},[n("h4",[e._v("完成獎賞")]),n("span",[e._v("+"+e._s(t.experience)+" exp")])]),n("div",{staticClass:"prize-content"},e._l(t.prize,function(t,i){return n("div",[n("img",{attrs:{src:e.transformImage.things(t.name_zh)}})])}),0)]):e._e()])}),0)])])},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title"},[n("div",{staticClass:"heading-default"},[n("h4",[e._v("正在進行")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title"},[n("div",{staticClass:"heading-default"},[n("h4",[e._v("已解決任務")])])])}],c=n("cebc"),u=(n("28a5"),n("ac6a"),n("ed1f")),l=n("2f62"),d=n("8e58"),p={name:"StoryMission",data:function(){return{transformImage:d["a"],solvingMissionOpen:[],solvedMissionOpen:[],solvingMission:[],solvedMission:[],firstRead:[]}},created:function(){this.checkInfo()},methods:{checkInfo:function(){var e=this;u.storyMissions.forEach(function(t,n){1===e.userMissionInfo[n].state?(e.solvingMission.push(t),e.solvingMissionOpen.push(!1)):2===e.userMissionInfo[n].state&&(e.solvedMission.push(t),e.solvedMissionOpen.push(!1)),!0===e.userMissionInfo[n].firstRead?e.firstRead.push(!0):e.firstRead.push(!1)})},showIcon:function(e,t,i){var a=e.id.split("")[1];return!0===i[t]?n("5e73"):!0===this.firstRead[a]?n("10f2"):n("48b0")},changeWrapper:function(e,t,n){this.$set(e,t,!e[t]);var i=n.id.split("")[1];!0===this.firstRead[i]&&(this.$store.commit("user/SET_FIRSTREAD",i),this.firstRead[i]=!1)}},computed:Object(c["a"])({},Object(l["e"])("user",{userMissionInfo:function(e){return e.storyMissions}}))},m=p,h=(n("7a29"),n("2877")),g=Object(h["a"])(m,o,s,!1,null,"1d7ac931",null),f=g.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"general-mission-root"},e._l(e.generalMissions,function(t){return n("div",{staticClass:"mission-container"},[n("div",[n("h3",[e._v(e._s(t.name))]),t.isCompleted?n("div",[n("span",[e._v("領取")])]):n("div",{staticClass:"undone"},[n("span",[e._v("未完成")])])]),n("div",[n("div",[n("span",[e._v(e._s(t.description))]),n("span",[e._v("( "+e._s(t.currentValue)+" / "+e._s(t.goal)+" )")])]),n("div",[n("div",{style:{width:e.progressBar(t.currentValue,t.goal)+"%"}})])]),e._m(0,!0),n("div",e._l(t.prize.resources,function(t){return n("div",[n("i",{style:{"background-image":"url("+e.transformImage.things(t.type)+")"}}),n("span",[e._v(e._s(t.amount))])])}),0)])}),0)},v=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("span",[e._v("完成獎勵")])])}],y={props:{user:Object,planet:Object},data:function(){return{transformImage:d["a"],generalMissions:u.generalMissions}},created:function(){var e=this;this.generalMissions.forEach(function(t){switch(t.isCompleted=!1,t.type){case"building":t.currentValue=e.planet.buildingMap.length;break;case"resource":t.currentValue=e.user.resources.map(function(e){return e.amount}).reduce(function(e,t){return e+t});break}e.progressBar(t.currentValue,100===t.goal)&&(t.isCompleted=!0)})},methods:{progressBar:function(e,t){return e/t*100>=100?100:e/t*100}}},_=y,x=(n("61d5"),Object(h["a"])(_,b,v,!1,null,"5cfe5b40",null)),O=x.exports,w={components:{Tab:r["a"],StoryMission:f,GeneralMission:O},props:{user:Object,planet:Object},data:function(){return{navList:["一般任務","劇情任務"],currentMenu:"一般任務"}},methods:{switchMenu:function(e){this.currentMenu=e}}},C=w,k=(n("d762"),Object(h["a"])(C,i,a,!1,null,"d9bc1c86",null));t["a"]=k.exports},a542:function(e,t,n){e.exports=n.p+"img/ore-1.408ab9c2.png"},a71d:function(e,t,n){e.exports=n.p+"img/robot-normal.43557703.png"},a7bc:function(e,t,n){"use strict";var i=n("2aad"),a=n.n(i);a.a},a7ca:function(e,t,n){"use strict";var i=n("a2e2"),a=n.n(i);a.a},a7d6:function(e,t,n){},a7fc:function(e,t,n){e.exports=n.p+"img/house-b-work.98a64d79.png"},a843:function(e,t,n){e.exports=n.p+"img/pledge-active.026401ac.png"},aa2e:function(e,t,n){e.exports=n.p+"img/home-bless-inactive.ff3a168b.png"},acdc:function(e,t,n){},adbf:function(e,t,n){"use strict";var i=n("bf8b"),a=n.n(i);a.a},ae41:function(e,t,n){e.exports=n.p+"img/power-plant-work.71795b25.png"},aeb3:function(e){e.exports={type:"FeatureCollection",features:[{id:0,type:"Feature",properties:{name:"科研中心",content:"This is dandan burger.",initSize:{width:72,height:55.64},radius:140},geometry:{type:"Point",coordinates:[120.21134,23.0395]},drop:{itemId:"b3",item_zh:"科研中心設計圖",rate:.9}},{id:1,type:"Feature",properties:{name:"成功大學牌坊",content:"原為日本步兵第二聯隊營舍，為南臺灣陸軍部隊指揮中心，現為成功大學大成館(工設系館)",initSize:{width:72,height:43.78},radius:120},geometry:{type:"Point",coordinates:[120.21575,22.99962]},drop:{itemId:"b4",item_zh:"大成館設計圖",rate:.2}},{id:2,type:"Feature",properties:{name:"太空溫室農場",content:"太空溫室農場",initSize:{width:72,height:43.78},radius:120},geometry:{type:"Point",coordinates:[120.211,23.0393]},drop:{itemId:"b1",item_zh:"薛丁格的貓稀有",rate:.8}}]}},b191:function(e,t,n){},b1c3:function(e,t,n){e.exports=n.p+"img/car40.fcd2ad38.png"},b222:function(e,t,n){e.exports=n.p+"img/ncku-work.a2f8272c.png"},b332:function(e,t,n){e.exports=n.p+"img/MRT-1-work.6fc82ba3.png"},b414:function(e,t,n){"use strict";var i=n("2e91"),a=n.n(i);a.a},b4336:function(e,t,n){"use strict";var i=n("df19"),a=n.n(i);a.a},b81d:function(e,t,n){e.exports=n.p+"img/ore-3.c73ddd2d.png"},b939:function(e,t,n){e.exports=n.p+"img/green-house-locked.6deb0ff0.png"},bb63:function(e,t,n){e.exports=n.p+"img/stadium-work.57ac3b83.png"},bc8d:function(e,t,n){e.exports=n.p+"img/warehouse.c6ec2d69.png"},bd82:function(e,t,n){"use strict";var i=n("a01c"),a=n.n(i);a.a},bda2:function(e,t,n){e.exports=n.p+"img/info-population.95fb43d0.png"},be98:function(e,t,n){},bf8b:function(e,t,n){},c138:function(e,t,n){"use strict";var i=n("b191"),a=n.n(i);a.a},c14c:function(e,t,n){e.exports=n.p+"img/tile-river.2a5b5094.png"},c2c7:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition-group",{staticClass:"custom-transition-root",attrs:{tag:"div",name:e.transitionName}},[e.displayTransition?n("div",{key:"div"},[e._t("transitionContent")],2):e._e()])},a=[],r=(n("96cf"),n("3b8d")),o=(n("c5f6"),{props:{transitionName:String,duration:Number},data:function(){return{displayTransition:!1}},methods:{sleep:function(e){return new Promise(function(t){return setTimeout(t,e)})}},mounted:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.displayTransition=!0,e.next=3,this.sleep(this.duration);case 3:this.$emit("transitionEnd");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}),s=o,c=(n("6b92"),n("2877")),u=Object(c["a"])(s,i,a,!1,null,"36398de8",null);t["a"]=u.exports},c2ee:function(e,t,n){"use strict";var i=n("6a3f"),a=n.n(i);a.a},c3bb:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tab",{staticClass:"building-root",attrs:{navList:e.navList},on:{switchMenu:e.switchMenu}},[e.haveDevelopedAnyOne&&"特色建築"!==e.currentOpen?n("div",{staticClass:"normal-mode",attrs:{slot:"content"},slot:"content"},[n("div",{staticClass:"selected-building"},[n("h3",[e._v(e._s(e.selectedBuilding.name_zh))]),n("p",[e._v(e._s(e.selectedBuilding.description))]),n("div",{staticClass:"building-detail"},[n("div",[n("img",{attrs:{src:e.transformImage.building(e.selectedBuilding.name_zh)}})]),n("div",[n("div",[n("span",[e._v("建造格數")]),n("span",[e._v(e._s(e.selectedBuilding.grid.row)+"X"+e._s(e.selectedBuilding.grid.column))])]),n("div",[n("span",[e._v("建造時間")]),n("span",[e._v(e._s(e.convertBuildTime(e.selectedBuilding.buildTime)))])]),n("div",{class:{coinNotEnough:e.checkCoinEnough(e.selectedBuilding.cost)}},[n("span",[e._v("花費金幣")]),n("span",[e._v(e._s(e.selectedBuilding.cost))])])])]),n("div",{staticClass:"resource-group"},e._l(e.selectedBuilding.resources,function(t){return n("div",{class:{resourceNotEnough:e.checkResourceEnough(t)}},[n("i",{style:{"background-image":"url("+e.transformImage.things(t.type)+")"}}),n("span",[e._v(e._s(t.amount))])])}),0),n("button",{staticClass:"button-default",style:e.isEnough?"opacity: 1":"opacity: 0.4",on:{click:function(t){return t.stopPropagation(),e.onBuildMode(e.selectedBuilding)}}},[e._v("建造該建築")])]),n("div",e._l(e.buildings[e.currentOpen],function(t){return n("div",[e.planet.architectureTechnology[e.currentOpen_Eg[e.currentOpen]][t.id]?n("img",{style:e.selectedBuilding.name_zh===t.name_zh?"opacity: 1":"opacity: 0.5",attrs:{src:e.transformImage.building(t.name_zh)},on:{click:function(n){return e.chooseBuilding(t)}}}):e._e()])}),0)]):"特色建築"!==e.currentOpen||e.isOpenSpecial||!e.haveCollectAnyOneSpecial&&!e.haveCollectAnyOneHistorical?n("div",{attrs:{slot:"content"},slot:"content"},[n("div",{staticClass:"unDevelop"},[n("p",[e._v("尚未研發任何"+e._s(e.currentOpen.slice(0,2))+"建築")])])]):n("div",{staticClass:"special-mode",attrs:{slot:"content"},slot:"content"},[e.haveCollectAnyOneSpecial?n("div",[n("div",{staticClass:"heading-default"},[n("h4",[e._v("特色建築")])]),n("div",{staticClass:"building-img-wrapper"},[e._l(e.buildings[e.currentOpen],function(t){return[e.planet.architectureTechnology[e.currentOpen_Eg[e.currentOpen]].special[t.id]?n("img",{attrs:{src:e.transformImage.building(t.name_zh)},on:{click:function(n){return e.chooseBuilding(t)}}}):e._e()]})],2)]):e._e(),e.haveCollectAnyOneHistorical?n("div",[n("div",{staticClass:"heading-default"},[n("h4",[e._v("名勝古蹟")])]),n("div",{staticClass:"building-img-wrapper"},[e._l(e.buildings[e.currentOpen],function(t){return[e.planet.architectureTechnology[e.currentOpen_Eg[e.currentOpen]].historical[t.id]?n("img",{attrs:{src:e.transformImage.building(t.name_zh)},on:{click:function(n){return e.chooseBuilding(t)}}}):e._e()]})],2)]):e._e()]),e.isOpenSpecial?n("div",{staticClass:"special-building",attrs:{slot:"content"},on:{close:function(t){e.isOpenSpecial=!e.isOpenSpecial}},slot:"content"},[n("h3",[e._v(e._s(e.selectedBuilding.name_zh))]),n("div",{staticClass:"building-detail"},[n("div",[n("img",{attrs:{src:e.transformImage.building(e.selectedBuilding.name_zh)}})]),n("div",[n("div",[n("span",[e._v("建造格數")]),n("span",[e._v(e._s(e.selectedBuilding.grid.row)+"X"+e._s(e.selectedBuilding.grid.column))])]),n("div",[n("span",[e._v("建造時間")]),n("span",[e._v(e._s(e.convertBuildTime(e.selectedBuilding.buildTime)))])]),n("div",{class:{coinNotEnough:e.checkCoinEnough(e.selectedBuilding.cost)}},[n("span",[e._v("花費金幣")]),n("span",[e._v(e._s(e.selectedBuilding.cost))])])])]),n("p",[e._v(e._s(e.selectedBuilding.description))]),n("div",{staticClass:"resource-group"},e._l(e.selectedBuilding.resources,function(t){return n("div",{class:{resourceNotEnough:e.checkResourceEnough(t)}},[n("i",{style:{"background-image":"url("+e.transformImage.things(t.type)+")"}}),n("span",[e._v(e._s(t.amount))])])}),0),n("button",{staticClass:"button-default",style:e.isEnough?"opacity: 1":"opacity: 0.4",on:{click:function(t){return t.stopPropagation(),e.onBuildMode(e.selectedBuilding)}}},[e._v("建造該建築")]),n("div",{staticClass:"leave"},[n("button",{staticClass:"icon-button",on:{click:e.backToSelecet}}),n("label",[e._v("返回")])])]):e._e()])},a=[],r=(n("f576"),n("7514"),n("ac6a"),n("456d"),n("cebc")),o=n("8654"),s=n("7c8e"),c=n("4a3a"),u=n("8e58"),l=n("2f62"),d={row:1,column:1},p={components:{Tab:o["a"],ModalCardContent:s["a"]},props:{user:Object,planet:Object},data:function(){return{transformImage:u["a"],navList:["通用建築","軍事建築","經濟建築","特色建築"],currentOpen:"通用建築",selectedBuilding:{},buildings:{"通用建築":c.commonBuilding,"軍事建築":c.militaryBuilding,"經濟建築":c.economicBuilding,"特色建築":c.specialBuilding},currentOpen_Eg:{"通用建築":"commonBuilding","軍事建築":"militaryBuilding","經濟建築":"economicBuilding","特色建築":"specialBuilding"},isEnough:!0,isOpenSpecial:!1}},created:function(){this.selectedBuilding=this.buildings["通用建築"][0],d.row=this.selectedBuilding.grid.row,d.column=this.selectedBuilding.grid.column},computed:Object(r["a"])({},Object(l["c"])("user",{isBeginner:"getIsBeginner",currentScene:"getCurrentBeginnerGuideScenes"}),{haveDevelopedAnyOne:function(){return Object.keys(this.planet.architectureTechnology[this.currentOpen_Eg[this.currentOpen]]).length>=1},haveCollectAnyOneSpecial:function(){return Object.keys(this.planet.architectureTechnology[this.currentOpen_Eg[this.currentOpen]].special).length>=1},haveCollectAnyOneHistorical:function(){return Object.keys(this.planet.architectureTechnology[this.currentOpen_Eg[this.currentOpen]].historical).length>=1}}),methods:Object(r["a"])({},Object(l["d"])("feature",["SHOW_NOTIFICATION"]),{onBuildMode:function(e){if(this.isBeginner){if(16===this.currentScene&&"倉庫"!==e.name_zh)return;if(37===this.currentScene&&"資源傳輸中心"!==e.name_zh)return;if(67===this.currentScene&&"住宅"!==e.name_zh)return;if(85===this.currentScene&&"市政中心"!==e.name_zh)return}if(this.isEnough){if(this.checkOnlyOne())return this.SHOW_NOTIFICATION("".concat(this.selectedBuilding.name_zh,"只能蓋一棟"));this.$emit("close"),this.$emit("onBuildMode",e)}},switchMenu:function(e){this.$bus.$emit("nextScenes","切換"+e),this.currentOpen=e,this.selectedBuilding=this.buildings[this.currentOpen][0],d.row=this.selectedBuilding.grid.row,d.column=this.selectedBuilding.grid.column,this.isOpenSpecial=!1},chooseBuilding:function(e){this.selectedBuilding=e,d.row=e.grid.row,d.column=e.grid.column,this.isEnough=!0,"特色建築"===this.currentOpen&&(this.isOpenSpecial=!0)},backToSelecet:function(){this.isOpenSpecial=!1},checkResourceEnough:function(e){var t=this.user.resources.find(function(t){return t.type===e.type});return t.amount<e.amount&&(this.isEnough=!1,!0)},checkCoinEnough:function(e){return this.user.coin.amount<e&&(this.isEnough=!1,!0)},convertBuildTime:function(e){e*=60;var t=parseInt(e/60/60/24),n=String(parseInt(e/60/60%24)).padStart(2,"0"),i=String(parseInt(e/60%60)).padStart(2,"0"),a=String(parseInt(e%60)).padStart(2,"0"),r=t>0?"".concat(t,"天"):"";return r+="".concat(n,":").concat(i,":").concat(a),r},checkOnlyOne:function(){var e=this;return!!this.selectedBuilding.isOnlyOne&&this.planet.buildingMap.find(function(t){return t.id===e.selectedBuilding.id})}})},m=p,h=(n("cdee"),n("2877"));n.d(t,"a",function(){return d});var g=Object(h["a"])(m,i,a,!1,null,"11e26086",null);t["b"]=g.exports},c489:function(e,t,n){"use strict";var i=n("0fdd"),a=n.n(i);a.a},c4ba:function(e,t,n){e.exports=n.p+"img/stone-portal.6dac6ac1.png"},c4e6:function(e,t,n){e.exports=n.p+"img/build-completed-1x1.ae05812c.png"},c8c8:function(e,t,n){e.exports=n.p+"img/building-confirm.ccb3a61e.png"},cd0a:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"building-info"},["done"===e.building.status?[n("div",[n("h4",[e._v(e._s(e.building.name_zh))]),e.building.isOnlyOne?e._e():n("button",{on:{click:e.removeBuilding}},[e._v("拆除")])]),n("div",[n("button",{staticClass:"icon-button"}),n("button",{staticClass:"icon-button",on:{click:function(t){return e.openModal("建築升級")}}}),n("button",{ref:"featureBtn",staticClass:"icon-button",on:{click:function(t){return e.openModal("建築功能")}}})])]:"ing"===e.building.status?[n("div",[n("h4",[e._v(e._s(e.building.name_zh))]),n("button",{on:{click:function(t){t.stopPropagation(),e.isbuildImmediately=!0}}},[e._v("立即完成")])]),n("div",[n("span",[e._v("剩餘建造時間 "+e._s(e.remainingTime))])])]:e._e(),e.isbuildImmediately?n("modal-card-diamond",{attrs:{msg:"請問是否花費 requiredDiamond克金石，<br/>立即完成建造?",errorMsg:"剩餘不足 requiredDiamond克金石，<br/>無法立即建造完成。",requiredDiamond:12},on:{cancel:function(t){e.isbuildImmediately=!1},confirm:e.buildImmediately}}):e._e()],2)},a=[],r=(n("f576"),n("cebc")),o=(n("96cf"),n("3b8d")),s=n("373a"),c=n("e264"),u=n("2f62"),l={components:{ModalCardDiamond:s["a"]},props:{building:Object},data:function(){return{module:null,remainingTime:"",isbuildImmediately:!1,timer:null,actions:c.actions}},beforeCreate:function(){var e=this;Promise.resolve().then(n.bind(null,"3fa0")).then(function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.module=n;case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},beforeMount:function(){clearInterval(this.timer),"ing"===this.building.status&&(this.countdown(),this.timer=setInterval(this.countdown,1e3))},mounted:function(){if(this.isBeginner&&(this.$refs.featureBtn.classList.remove("highlight"),"建築功能"===this.actions[this.currentScene])){if(2===this.currentScene&&"科研中心"!==this.building.name_zh)return;if(16===this.currentScene&&"倉庫"!==this.building.name_zh)return;if(46===this.currentScene&&"巨石傳送門"!==this.building.name_zh)return;if(49===this.currentScene&&"黑帝斯聖殿"!==this.building.name_zh)return;if(59===this.currentScene&&"市政中心"!==this.building.name_zh)return;this.$refs.featureBtn.classList.add("highlight")}},beforeDestroy:function(){clearInterval(this.timer)},computed:Object(r["a"])({},Object(u["c"])("user",{isBeginner:"getIsBeginner",currentScene:"getCurrentBeginnerGuideScenes"})),methods:{openModal:function(e){this.$emit("openModal",e)},close:function(){this.module.gameFunction.scene.input.manager.enabled=!0,this.$emit("close")},buildImmediately:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:try{this.isbuildImmediately=!1,this.module.gameFunction.directlyBuild(this.building),this.close()}catch(t){console.log(t)}case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),removeBuilding:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isBeginner){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.module.gameFunction.removeBuilding(this.building);case 4:return e.next=6,this.$store.dispatch("planet/removeBuilding",{building:this.building});case 6:this.close();case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),countdown:function(){if("ing"===this.building.status){var e=Date.parse(new Date(this.building.finishTime)),t=Date.parse(new Date),n=e-t,i=parseInt(n/1e3/60/60/24),a=String(parseInt(n/1e3/60/60%24)).padStart(2,"0"),r=String(parseInt(n/1e3/60%60)).padStart(2,"0"),o=String(parseInt(n/1e3%60)).padStart(2,"0");this.remainingTime=i>0?"".concat(i,"天"):"",this.remainingTime+="".concat(a,":").concat(r,":").concat(o),n<=0&&(clearInterval(this.timer),this.close())}}},watch:{isbuildImmediately:function(){this.module.gameFunction.scene.input.manager.enabled=!this.isModalOpen}}},d=l,p=(n("904e"),n("2877")),m=Object(p["a"])(d,i,a,!1,null,"22cf942c",null);t["a"]=m.exports},cd82:function(e,t,n){},cdee:function(e,t,n){"use strict";var i=n("3ed8"),a=n.n(i);a.a},ce2b:function(e,t,n){e.exports=n.p+"img/star-purple.afb674c2.png"},cef3:function(e,t,n){"use strict";var i=n("be98"),a=n.n(i);a.a},d353:function(e,t,n){},d3ef:function(e,t,n){e.exports=n.p+"img/warehouse.a60dc1c0.png"},d512:function(e,t,n){},d596:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"list-content"}},e._l(e.planetList,function(t){return n("div",[n("div",{style:{"background-image":"url("+e.transformImage.planet(t.type)+")"}}),n("div",[n("div",[n("h4",[e._v(e._s(t.name))])]),n("div",[n("i"),n("span",[e._v("("+e._s(t.positionX)+", "+e._s(t.positionY)+")")])]),n("div",[n("h6",[e._v("等級 Lv."+e._s(t.level))]),t.experience?n("h6",[e._v(e._s(t.experience)+" / "+e._s(e.planetLevelInfo[t.level].experience))]):e._e()]),t.experience?n("div",[n("div",{style:{width:e.level(t.experience,e.planetLevelInfo[t.level].experience)+"%"}})]):e._e()]),e.user.isOnMainPlanet?n("div",["HumanMainScene"===t.scene?n("div",{staticClass:"use"},[n("span",[e._v("目前")])]):n("div",{on:{click:function(n){return e.switchPlanet(t.scene)}}},[n("span",[e._v("前往")])])]):n("div",["PlayScene"===t.scene?n("div",{staticClass:"use"},[n("span",[e._v("目前")])]):n("div",{on:{click:function(n){return e.switchPlanet(t.scene)}}},[n("span",[e._v("前往")])])])])}),0)},a=[],r=n("cebc"),o=(n("96cf"),n("3b8d")),s=n("2f62"),c=n("8e58"),u=n("14b2"),l={props:{planetList:Array},data:function(){return{module:null,moduleMain:null,transformImage:c["a"],planetLevelInfo:u.result}},beforeCreate:function(){var e=this;Promise.resolve().then(n.bind(null,"3fa0")).then(function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.module=n;case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),n.e("chunk-2d0c20e8").then(n.bind(null,"494a")).then(function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.moduleMain=n;case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},methods:{level:function(e,t){return e/t*100},switchPlanet:function(e){this.user.isOnMainPlanet?this.moduleMain.gameFunction.changeScene(e):this.module.gameFunction.changeScene(e),this.$bus.$emit("close"),this.user.isOnMainPlanet=!this.user.isOnMainPlanet}},computed:Object(r["a"])({},Object(s["e"])("user",{user:function(e){return e}}))},d=l,p=(n("278c"),n("2877")),m=Object(p["a"])(d,i,a,!1,null,"30cc712e",null);t["a"]=m.exports},d762:function(e,t,n){"use strict";var i=n("2976"),a=n.n(i);a.a},d943:function(e,t,n){"use strict";var i=n("5464"),a=n.n(i);a.a},da3d:function(e,t,n){e.exports=n.p+"img/warehouse-spawn.e101b33a.png"},db34:function(e,t,n){e.exports=n.p+"img/level-sword.df4043e2.png"},df19:function(e,t,n){},e072:function(e,t,n){"use strict";var i=n("cd82"),a=n.n(i);a.a},e1f6:function(e,t,n){"use strict";var i=n("acdc"),a=n.n(i);a.a},e22e:function(e,t,n){"use strict";n.d(t,"a",function(){return p});n("28a5"),n("7514"),n("20d6"),n("7f7f"),n("96cf");var i=n("3b8d"),a=n("d225"),r=n("b0b4"),o=n("4a3a"),s=n("3fa0"),c=n("80cd"),u=(n("282c"),n("7ab5"),n("c3bb")),l=n("5a62"),d=!1,p=function(){function e(t){Object(a["a"])(this,e),this.scene=t}return Object(r["a"])(e,[{key:"createBuilding",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,i,a){var r,o,c,u,p,g,f,b,v,y,_,x,O,w;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("create"),r=this,o=i.coordinateX,c=i.coordinateY,e.next=6,h(t);case 6:u=e.sent,p=u.grid.row,g=u.grid.column,f=u.name,b=u.motion,v=m(o,c,p,g),y=this.scene.add.sprite(v.x,v.y,f+"ing").setOrigin(.5,1),y.setInteractive(this.scene.input.makePixelPerfect()),y.depth=2===g?y.y+54:y.y+108,y.name=f,y.coordinateX=o,y.coordinateY=c,y.row=p,y.column=g,2===p&&2===g&&(y.depth=y.y+54),a?(_={key:f+o+c,frames:f,frameRate:30,repeat:0},this.scene.anims.create(_),"dynamic"===b.type&&(x=y,y.on("animationcomplete",function(){r.scene.anims.create({key:f+"ing"+o+c,frames:f+"ing",frameRate:b.rate,repeat:-1,repeatDelay:b.repeatDelay}),console.log(y),x.play(f+"ing"+o+c)},this.scene)),y.play(f+o+c)):a||"dynamic"!==b.type||(O="b0"===t||"b1"===t,this.scene.anims.create({key:f+"ing"+o+c,frames:f+"ing",frameRate:b.rate,repeat:-1,yoyo:O,repeatDelay:b.repeatDelay}),y.play(f+"ing"+o+c)),"ing"===i.status&&(w=i.finishTime-Date.now(),y.timer=setTimeout(function(){console.log("要生成了"),console.log(s["userData"]),s["userData"].buildingMap.map(function(e,t){e.coordinateX===o&&e.coordinateY===c&&(r.scene.buildingGroup.getChildren().map(function(e){e.coordinateX===o&&e.coordinateY===c&&e.destroy(!0)}),s["userData"].buildingMap[t].status="completed",console.log(e),1===e.grid.row&&1===e.grid.column?r.createBuilding("b1",e):1===e.grid.row&&2===e.grid.column?r.createBuilding("b3",e):2===e.grid.row&&2===e.grid.column&&r.createBuilding("b5",e))})},w)),y.on("pointerdown",function(e,t,a,o){if(!d&&(e.position.y>140&&e.position.y<s["h"]-95||e.position.y<140&&e.position.x>195&&e.position.x<265||e.position.y>92&&e.position.y<140&&e.position.x>265)){if(this.isJump)return!1;this.isJump=!0,s["Obj"].lastTile&&(s["Obj"].lastTile.isJump=!1,s["Obj"].lastTile=null),s["Obj"].lastTile=this,this.scene.buildingGroup.getChildren().map(function(e){e.clearTint()}),this.setTint(15590327),"completed"===i.status?(i.status="done",this.scene.buildingGroup.remove(this,!0,!0),r.createBuilding(i.id,i,!0),Promise.resolve().then(n.bind(null,"5a62")).then(function(e){return e.default.actions.haveBuiltBuilding(e.default,{building:i}),e}).then(function(e){e.default.mutations.setBuildingElement(i,!1)})):(l["default"].mutations.setBuildingElement(null,!1),setTimeout(function(){l["default"].mutations.setBuildingElement(i,!0)},0)),o.stopPropagation()}}),this.scene.buildingGroup.add(y);case 25:case"end":return e.stop()}},e,this)}));function t(t,n,i){return e.apply(this,arguments)}return t}()},{key:"checkIfCanBuild",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n,i){var a,r,o,s,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h(i);case 2:if(a=e.sent,r=a.grid.row,o=a.grid.column,void 0===t||void 0===n){e.next=17;break}return s=[],e.next=9,this.scene.buildingGroup.getChildren().map(function(e){s.push({x:e.coordinateX,y:e.coordinateY}),2===e.row&&2===e.column?s.push({x:e.coordinateX-1,y:e.coordinateY},{x:e.coordinateX,y:e.coordinateY-1},{x:e.coordinateX-1,y:e.coordinateY-1}):1===e.row&&2===e.column&&s.push({x:e.coordinateX,y:e.coordinateY-1})});case 9:if(1===r&&1===o?c=s.filter(function(e){return e.x===t&&e.y===n}).length:2===r&&2===o?(c=s.filter(function(e){return e.x===t&&e.y===n||e.x===t-1&&e.y===n||e.x===t&&e.y===n-1||e.x===t-1&&e.y===n-1}).length,0!==t&&0!==n||c++):1===r&&2===o&&(c=s.filter(function(e){return e.x===t&&e.y===n||e.x===t&&e.y===n-1}).length,0===n&&c++),!c){e.next=15;break}throw console.log("不能蓋"),!1;case 15:return console.log("可以蓋"),e.abrupt("return",!0);case 17:case"end":return e.stop()}},e,this)}));function t(t,n,i){return e.apply(this,arguments)}return t}()},{key:"tileScaleUp",value:function(){this.scene.tileGroup.destroy(!0),s["userData"].scale++,this.buildMap("tiles",s["userData"].scale)}},{key:"buildMap",value:function(e,t){var n=192,i=96,a=n/2,r=i/2,o=t;t||(o=s["userData"].scale);var c=s["w"]/2,l=s["h"]/2;this.scene.tileGroup=this.scene.add.group();for(var p=0;p<o;p++)for(var m=0;m<o;m++){var h=(m-p)*a,g=(m+p)*r;if("HumanMainScene"===this.scene.scene.key&&3===m)var f=this.scene.add.image(c+h,l+g,"tilesRiver").setOrigin(.5,1);else f=this.scene.add.image(c+h,l+g,e).setOrigin(.5,1);f.depth=l+g,f.coordinateX=m,f.coordinateY=p,f.setInteractive(this.scene.input.makePixelPerfect()),f.on("pointerdown",function(e){var t=this;if(console.log("mode",d),(e.position.y>140&&e.position.y<s["h"]-95||e.position.y<140&&e.position.x>195&&e.position.x<265||e.position.y>92&&e.position.y<140&&e.position.x>265)&&(s["Obj"].lastCoordinateX=this.coordinateX,s["Obj"].lastCoordinateY=this.coordinateY,console.log(s["Obj"].lastCoordinateX,s["Obj"].lastCoordinateY),this.scene.tileGroup.getChildren().map(function(e){e.clearTint()}),this.scene.buildingGroup.getChildren().map(function(e){e.clearTint()}),d))if(console.log(u["a"]),1===u["a"].row&&1===u["a"].column)this.setTint(13688316);else if(1===u["a"].row&&2===u["a"].column){this.setTint(13688316);var n=this.scene.tileGroup.getChildren().findIndex(function(e){return e.coordinateX===t.coordinateX&&e.coordinateY===t.coordinateY-1});n>=0&&this.scene.tileGroup.getChildren()[n].setTint(13688316)}else 2===u["a"].row&&2===u["a"].column&&(this.setTint(13688316),this.scene.tileGroup.getChildren().map(function(e){(e.coordinateX===t.coordinateX&&e.coordinateY===t.coordinateY-1||e.coordinateX===t.coordinateX-1&&e.coordinateY===t.coordinateY||e.coordinateX===t.coordinateX-1&&e.coordinateY===t.coordinateY-1)&&e.setTint(13688316)}))}),this.scene.tileGroup.add(f)}}},{key:"removeBuilding",value:function(e){var t=this.scene.buildingGroup.getChildren().find(function(t){return t.coordinateX===e.coordinateX&&t.coordinateY===e.coordinateY});t.destroy(!0)}},{key:"moveBuilding",value:function(e,t,n){}},{key:"cancelJump",value:function(){this.scene.buildingGroup.getChildren().map(function(e){e.clearTint()}),s["Obj"].lastTile&&(s["Obj"].lastTile.isJump=!1,s["Obj"].lastTile=null)}},{key:"zoomInOut",value:function(e,t,n){this.scene.cameras.main.zoomTo(e,t,n)}},{key:"setIsOnBuildMode",value:function(e){return d=e,this.scene.tileGroup.getChildren().map(function(e){return e.clearTint()}),d}},{key:"backToOrig",value:function(){var e=s["userData"].scale;this.scene.cameras.main.pan(s["w"]/2,s["h"]/2+48*(e-3),1e3,"Quart.easeOut")}},{key:"changeScene",value:function(e){this.scene.scene.transition({target:e,duration:0,sleep:!0}),(e="PlanetScene")&&c["PlanetGameFunc"].CameraFadeIn()}},{key:"directlyBuild",value:function(e){var t=this;s["userData"].buildingMap.map(function(n,i){n.coordinateX===e.coordinateX&&n.coordinateY===e.coordinateY&&(t.scene.buildingGroup.getChildren().map(function(t){t.coordinateX===e.coordinateX&&t.coordinateY===e.coordinateY&&(clearTimeout(t.timer),t.destroy(!0))}),s["userData"].buildingMap[i].status="completed",t.createBuilding("b1",n))})}}]),e}();function m(e,t,n,i){var a,r,o=document.body.clientWidth/2,s=document.body.clientHeight/2,c=96,u=48;return 1===n&&1===i||2===n&&2===i?(a=o+e*c-t*c,r=s+e*u+t*u):1===n&&2===i?(console.log("adjust 1x2"),a=o+e*c-t*c+.5*c,r=s+e*u+t*u):2===n&&1===i?(console.log("adjust 2x1"),a=o+e*c-t*c,r=s+e*u+t*u):8===n&&1===i?(console.log("adjust 8x1"),a=o+e*c-t*c+3.5*c,r=s+e*u+t*u):1===n&&8===i&&(a=o+e*c-t*c-3.5*c,r=s+e*u+t*u),{x:a,y:r}}function h(e){var t,n=e.split("")[0],i=e.split("")[1];switch(console.log(e),3===e.split("").length&&(i=parseInt(e.split("")[1].concat(e.split("")[2]))),n){case"c":t=o.commonBuilding;break;case"m":t=o.militaryBuilding;break;case"e":t=o.economicBuilding;break;case"s":t=o.specialBuilding;break;case"k":t=o.kyronusBuilding;break;case"b":t=o.buildProcess;default:break}return t[i]}},e264:function(e){e.exports={actions:["dialog","點擊科研中心","建築功能","dialog","研發倉庫","進行研發","離開","儲存","建造頁面","建造倉庫","建造下去","儲存","dialog","dialog","done","點擊倉庫","建築功能","資源頁面","dialog","dialog","dialog","離開","dialog","dialog","故事","故事","故事","故事","採集頁面","dialog","dialog","gridData","採集","儲存","採集報告","gridData","dialog","dialog","dialog","儲存","dialog","dialog","dialog","dialog","dialog","點擊巨石陣傳送門","建築功能","離開","點擊黑帝斯聖殿","建築功能","dialog","抽卡","確認","儲存","抽卡動畫","返回星球","離開","儲存","點擊市政中心","建築功能","dialog","拖移","離開","儲存","dialog","完成"]}},e2c8:function(e,t,n){e.exports=n.p+"img/cat-epic.2ba017bc.png"},e427:function(e,t,n){e.exports=n.p+"img/zeus-rod-active.804c4d35.png"},e46e:function(e,t,n){e.exports=n.p+"img/resource-transfer-locked.571d6547.png"},e5bd:function(e,t,n){e.exports=n.p+"img/charge.3d646603.png"},e6cf:function(e,t,n){"use strict";var i=n("9456"),a=n.n(i);a.a},e888:function(e,t,n){"use strict";var i=n("8185"),a=n.n(i);a.a},ea8d:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"building-upgrade-root"},[n("div",[n("h3",[e._v(e._s(e.building.name_zh))]),n("p",[e._v(e._s(e.building.description))]),n("div",{staticClass:"buff-description"},[n("div",{staticClass:"building-image-container"},[n("img",{attrs:{src:e.transformImage.building(e.building.name_zh)}})]),n("div",{staticClass:"buff-container"},e._l(e.building.buff,function(t){return n("div",[n("span",[e._v(e._s(t.title))]),n("span",[e._v(e._s(t.value))])])}),0)])]),e.isArchitectureTechnology&&!e.isMaxLevel?n("div",{staticClass:"can-build"},[n("div",{staticClass:"heading-default"},[n("h4",[e._v("升級建築")]),n("span",[e._v(e._s(e.nextBuilding.name_zh))]),n("span",[e._v("建造時間 "+e._s(e.convertBuildTime(e.nextBuilding.buildTime)))])]),n("div",{staticClass:"buff-description"},[n("div",{staticClass:"building-image-container"},[n("img",{attrs:{src:e.transformImage.building(e.nextBuilding.name_zh)}})]),n("div",{staticClass:"buff-container"},e._l(e.nextBuilding.buff,function(t){return n("div",[n("span",[e._v(e._s(t.title))]),n("span",[e._v(e._s(t.value))])])}),0)]),n("div",{staticClass:"resource-group"},e._l(e.nextBuilding.resources,function(t){return n("div",[n("i",{style:{"background-image":"url("+e.transformImage.things(t.type)+")"}}),n("span",[e._v(e._s(t.amount))])])}),0),n("button",{staticClass:"button-default"},[e._v("升級該建築")])]):e.isArchitectureTechnology||e.isMaxLevel?n("div",{staticClass:"max-level"},[e._m(1),n("p",[e._v("恭喜您，該建築已達最高等級型態")])]):n("div",{staticClass:"not-build"},[e._m(0),n("img",{attrs:{src:e.transformImage.building(e.nextBuilding.name_zh)}}),n("p",[e._v("未持有建造技術，請先至研發中心研發")])])])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"heading-default"},[n("h4",[e._v("升級建築")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"heading-default"},[n("h4",[e._v("升級建築")])])}],r=(n("f576"),n("28a5"),n("8e58")),o=n("4a3a"),s={props:{building:Object},data:function(){return{transformImage:r["a"],nextBuilding:"",isArchitectureTechnology:"",isMaxLevel:!1}},created:function(){"none"===this.building.nextLevelId&&(this.isMaxLevel=!0);var e=this.building.nextLevelId.split("")[0],t=this.building.nextLevelId.split("")[1];switch(e){case"c":this.nextBuilding=o.commonBuilding[t],this.isArchitectureTechnology=this.$store.getters["planet/getArchitectureTechnology"].commonBuilding[this.nextBuilding.id];break;default:break}},methods:{convertBuildTime:function(e){e*=60;var t=parseInt(e/60/60/24),n=String(parseInt(e/60/60%24)).padStart(2,"0"),i=String(parseInt(e/60%60)).padStart(2,"0"),a=String(parseInt(e%60)).padStart(2,"0"),r=t>0?"".concat(t,"天"):"";return r+="".concat(n,":").concat(i,":").concat(a),r}}},c=s,u=(n("6e60"),n("2877")),l=Object(u["a"])(c,i,a,!1,null,"e3da91ca",null);t["a"]=l.exports},eac4:function(e,t,n){e.exports=n.p+"media/hades-draw-card.ea3d1a95.mp4"},ecb9:function(e,t,n){e.exports=n.p+"img/house-a-locked.8750f4f2.png"},ed1f:function(e){e.exports={storyMissions:[{id:"m0",name:"cat",name_zh:"薛丁格的貓",brief:"與薛丁格對話",description:"神秘科學家薛丁格，帶領人們找到屬於星球最微妙的秘密，小貓咪喵喵叫。",requirement:{coin:2920,diamond:120,resources:[{type:"木頭",amount:1e3},{type:"鋼鐵",amount:1e3}]},experience:1e3,prize:[{name_zh:"薛丁格的貓一般",name:"cat-silver"},{name_zh:"薛丁格的貓稀有",name:"cat-gold"},{name_zh:"薛丁格的貓史詩",name:"cat-purple"}]},{id:"m1",name:"stone",name_zh:"巨石陣之眼",brief:"發現巨石陣中的秘密",description:"巨石陣橫亙在大陸上，是一道未解之謎，無數的勇者前仆後繼，可以發現什麼？",requirement:{coin:2920,diamond:120,resources:[{type:"木頭",amount:1e3},{type:"鋼鐵",amount:1e3}]},experience:1e3,prize:[{name_zh:"薛丁格的貓一般",name:"cat-silver"},{name_zh:"薛丁格的貓稀有",name:"cat-gold"},{name_zh:"薛丁格的貓史詩",name:"cat-purple"}]},{id:"m2",name:"M3star",name_zh:"發現M3星雲",brief:"透過觀測找尋M3星雲座標",description:"阿拉赫爾在臨終前，給了最後的訊息，傳說中的巨人族所在的星球於M3星雲座標系中。",requirement:{coin:2920,diamond:120,resources:[{type:"木頭",amount:1e3},{type:"鋼鐵",amount:1e3}]},experience:1200,prize:[{name_zh:"薛丁格的貓一般",name:"cat-silver"},{name_zh:"薛丁格的貓稀有",name:"cat-gold"},{name_zh:"薛丁格的貓史詩",name:"cat-purple"}]},{id:"m3",name:"quantum",name_zh:"量子糾纏",brief:"找尋量子世界的規則",description:"科學家一直不懂量子，眼前所見與真實，到底什麼值得留下，什麼值得挖掘？",requirement:{coin:2920,diamond:120,resources:[{type:"木頭",amount:1e3},{type:"鋼鐵",amount:1e3}]},experience:4e3,prize:[{name_zh:"薛丁格的貓一般",name:"cat-silver"},{name_zh:"薛丁格的貓一般",name:"cat-gold"},{name_zh:"薛丁格的貓一般",name:"cat-purple"}]},{id:"m4",name:"quantum",name_zh:"愛因斯坦相對論",brief:"狹義相對論的真理",description:"聽說愛因斯坦不是人，他知道這宇宙的秘密，身為人類，是否可以跨越障礙，一窺世界的奧秘？",requirement:{coin:2920,diamond:120,resources:[{type:"木頭",amount:1e3},{type:"鋼鐵",amount:1e3}]},experience:9e3,prize:[{name_zh:"薛丁格的貓一般",name:"cat-silver"},{name_zh:"薛丁格的貓一般",name:"cat-gold"},{name_zh:"薛丁格的貓一般",name:"cat-purple"}]}],generalMissions:[{name:"建築大師",description:"蓋一棟建築",type:"building",goal:1,prize:{resources:[{type:"木頭",amount:250},{type:"石頭",amount:250},{type:"鋼鐵",amount:250},{type:"銅礦",amount:250}]}},{name:"採集狂魔",description:"蒐集一萬個資源",type:"resource",goal:3e3,prize:{resources:[{type:"木頭",amount:250},{type:"石頭",amount:250},{type:"鋼鐵",amount:250},{type:"銅礦",amount:250}]}}]}},edcf:function(e,t,n){e.exports=n.p+"img/planet-1.2dc0370b.png"},ef73:function(e,t,n){e.exports=n.p+"img/ore-4.625b081e.png"},efe2:function(e,t,n){e.exports=n.p+"img/box-active.23363356.png"},f08e:function(e,t,n){e.exports=n.p+"img/government.3a13d353.png"},f0cd:function(e,t,n){e.exports=n.p+"img/house-b.60475692.png"},f1a60:function(e,t,n){e.exports=n.p+"media/scanning.985e74bf.mp4"},f1e5:function(e,t,n){e.exports=n.p+"img/stone-portal-spawn.b1b62221.png"},f234:function(e,t,n){e.exports=n.p+"img/stone-portal-locked.9e9a396d.png"},f33f:function(e,t,n){e.exports=n.p+"img/stone.0498d1ec.png"},f3f5:function(e,t,n){e.exports=n.p+"img/ore-2.6428088d.png"},f449:function(e,t,n){},f4a5:function(e,t,n){"use strict";var i=n("2df3"),a=n.n(i);a.a},f60b:function(e,t,n){e.exports=n.p+"img/zeus-rod-inactive.a22d3a70.png"},f944:function(e,t,n){e.exports=n.p+"img/copper.f8484cc2.png"},f976:function(e){e.exports={money:[{id:"m0",name_zh:"克金石",title:"克金石",description:"宇宙中最偉大的資源，創造了世界的奇蹟。功能極其多，幾乎能完成任何事情。",acquisition:["完成主線任務","抽獎活動，低機率獲得","進行採集時，高機率獲得"]},{id:"m1",name_zh:"金幣",title:"金幣",description:"亮閃閃的金幣是蓋房子必須的，除了滿足人民的需求，也是促進經濟發展的重要資源。",acquisition:["完成主線任務","抽獎活動，低機率獲得","進行採集時，高機率獲得"]}],expendables:[{id:"e0",name_zh:"紅藥水",title:"紅藥水",description:"一隻貓被鎖在一個箱子中，箱中的貓同時既是活，當箱子打開時，此量子疊加狀態瓦解；在那瞬間這隻貓是被毒死，或得以保命。",rarity:1,acquisition:["完成主線任務4-3","抽獎活動，低機率獲得","進行採集時，低機率獲得"]},{id:"e1",name_zh:"超級魔藥",title:"超級魔藥",description:"一隻貓被鎖在一個箱子中，箱中的貓同時既是活，當箱子打開時，此量子疊加狀態瓦解；在那瞬間這隻貓是被毒死，或得以保命。",rarity:1,acquisition:["完成主線任務4-3","抽獎活動，低機率獲得","進行採集時，低機率獲得"]}],sketch:[{id:"s0",name_zh:"科研中心設計圖",title:"科研中心設計圖",description:"一隻貓被鎖在一個箱子中，箱中的貓同時既是活，當箱子打開時，此量子疊加狀態瓦解；在那瞬間這隻貓是被毒死，或得以保命。",rarity:1,acquisition:["完成主線任務4-3","抽獎活動，低機率獲得","進行採集時，低機率獲得"]},{id:"s1",name_zh:"大成館設計圖",title:"大成館設計圖",description:"一隻貓被鎖在一個箱子中，箱中的貓同時既是活，當箱子打開時，此量子疊加狀態瓦解；在那瞬間這隻貓是被毒死，或得以保命。",rarity:1,acquisition:["完成主線任務4-3","抽獎活動，低機率獲得","進行採集時，低機率獲得"]}],goods:[{id:"g0",name_zh:"薛丁格的貓一般",title:"薛丁格的貓",description:"一隻貓被鎖在一個箱子中，箱中的貓同時既是活，當箱子打開時，此量子疊加狀態瓦解；在那瞬間這隻貓是被毒死，或得以保命。",rarity:3,acquisition:["完成主線任務4-3","抽獎活動，低機率獲得","進行採集時，低機率獲得"]},{id:"g1",name_zh:"薛丁格的貓稀有",title:"薛丁格的貓",description:"一隻貓被鎖在一個箱子中，箱中的貓同時既是活，當箱子打開時，此量子疊加狀態瓦解；在那瞬間這隻貓是被毒死，或得以保命。",rarity:2,acquisition:["完成主線任務4-3","抽獎活動，低機率獲得","進行採集時，低機率獲得"]},{id:"g2",name_zh:"薛丁格的貓史詩",title:"薛丁格的貓",description:"一隻貓被鎖在一個箱子中，箱中的貓同時既是活，當箱子打開時，此量子疊加狀態瓦解；在那瞬間這隻貓是被毒死，或得以保命。",rarity:1,acquisition:["完成主線任務4-3","抽獎活動，低機率獲得","進行採集時，低機率獲得"]}],resource:[{id:"r0",name_zh:"木頭",title:"木頭",description:"千年神木製作成的木板，是地球殘存的有機物，美麗的木紋，散發著淡淡的木頭香。",acquisition:["完成主線任務4-3","抽獎活動，低機率獲得","進行採集時，低機率獲得"]},{id:"r1",name_zh:"石頭",title:"石頭",description:"好用的石頭可以蓋牆壁、蓋屋頂，在資源稀缺的現今非常好用，讓許多家庭主婦合不攏嘴。",acquisition:["完成主線任務4-3","抽獎活動，低機率獲得","進行採集時，低機率獲得"]},{id:"r2",name_zh:"鋼鐵",title:"鋼鐵",description:"鐵與碳合成的金屬，堅硬的材質，方便製作刀叉、武器，不管是民間物資或是武器都非常好用。",acquisition:["完成主線任務4-3","抽獎活動，低機率獲得","進行採集時，低機率獲得"]},{id:"r3",name_zh:"銅礦",title:"銅礦",description:"銅礦是用許多名人的雕像鎔掉而得的，因此數量有限，不知道現在這塊銅塊是哪個名人的遺跡呢？",acquisition:["完成主線任務4-3","抽獎活動，低機率獲得","進行採集時，低機率獲得"]},{id:"r4",name_zh:"墨金屬",title:"墨金屬",description:"世界上唯一可導電的非金屬，非常地不簡單，純黑的墨更是有價無市，更可用來過濾現今的廢水，非常必需呢。",acquisition:["完成主線任務4-3","抽獎活動，低機率獲得","進行採集時，低機率獲得"]},{id:"r5",name_zh:"鍨金屬",title:"鍨金屬",description:"澄黃的色澤，多切面的造型，讓這種金屬成為一種奢侈品，愛漂亮的小姐都會買這種金屬來製作項鍊或戒指，有些人也會拿來製作鐘錶。",acquisition:["完成主線任務4-3","抽獎活動，低機率獲得","進行採集時，低機率獲得"]},{id:"r6",name_zh:"氦金屬",title:"氦金屬",description:"紅色的固體，雖然聽起來是個氣體，但是在地球被侵蝕的今天，被發現也有金屬態呢！可以被應用在一些精密機械上，是能源局重點關注的金屬。",acquisition:["完成主線任務4-3","抽獎活動，低機率獲得","進行採集時，低機率獲得"]},{id:"r7",name_zh:"銝金屬",title:"銝金屬",description:"一種在地球未知的重金屬，在宇宙中被發現，被稱作超重金屬，可用來當作飛行器飛行的能源。",acquisition:["完成主線任務4-3","抽獎活動，低機率獲得","進行採集時，低機率獲得"]}]}},fabc:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal"},[n("div",{staticClass:"card"},[e._t("card")],2),e.haveLeaveButton?n("div",{staticClass:"leave",on:{click:e.cancelJump}},[n("button",{staticClass:"icon-button",on:{click:function(t){return e.$emit("close")}}}),n("label",[e._v("離開")])]):e._e()])},a=[],r=(n("96cf"),n("3b8d")),o={props:{haveLeaveButton:{type:Boolean,default:!0}},data:function(){return{module:null}},created:function(){var e=this;Promise.resolve().then(n.bind(null,"3fa0")).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.module=n;case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},methods:{cancelJump:function(){this.module.gameFunction.cancelJump()},close:function(){this.$emit("close")}}},s=o,c=(n("766e"),n("2877")),u=Object(c["a"])(s,i,a,!1,null,"7d05458d",null);t["a"]=u.exports},fb32:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"planet-info-root"},[e._m(0),n("div",{staticClass:"overflow-wrapper"},[n("div",{staticClass:"main"},[n("planet-info-level",{attrs:{user:e.user,planet:e.planet}}),n("planet-info-population",{attrs:{user:e.user,planet:e.planet}})],1)])])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"heading-default"},[n("h3",[e._v("星球資訊")])])}],r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"planet-info-level-root"},[i("h3",[e._v("星球等級")]),i("div",[i("div",[i("img",{attrs:{src:n("000d")}})]),i("span",[e._v("Level. "+e._s(e.planet.level))])]),i("div",[i("div",[i("span",[e._v("經驗值")]),i("span",[e._v(e._s(e.planet.experience)+" / "+e._s(e.planetLevelInfo[e.planet.level].experience))])]),i("div",[i("span",[e._v("星球規模")]),i("span",[e._v(e._s(e.planet.scale))])])])])},o=[],s=n("14b2"),c={props:{user:Object,planet:Object},data:function(){return{planetLevelInfo:s.result}}},u=c,l=(n("3b64"),n("2877")),d=Object(l["a"])(u,r,o,!1,null,"18eabfc6",null),p=d.exports,m=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"planet-info-population-root"},[i("h3",[e._v("人口資訊")]),i("div",[i("div",[i("img",{attrs:{src:n("bda2")}})]),i("span",[e._v(e._s(e.planet.population.amount)+" 位人口  +"+e._s(e.planet.population.growth)+"/hr")])]),i("div",[i("div",[i("span",[e._v("星球住宅容量 (人口上限)")]),i("span",[e._v(e._s(e.planet.population.max))])]),i("div",[i("span",[e._v("總金幣產值")]),i("span",[e._v("+"+e._s(Math.round(10*e.user.coin.production)/10)+"/hr")])]),i("div",{staticClass:"detailed-description"},[i("p",[e._v("人口基礎成長率為每小時增加10人，人口最大上限根 據房屋住宅而定。總產值則是根據能量、糧食、娛樂 數值、當前人口數以及人口上限影響。越高的能量、 糧食、娛樂數值、人口，會有越高的總產值。")]),i("div",[i("div",[i("i",{style:{"background-image":"url("+n("85ab")+")"}}),i("div",[i("span",[e._v("能量數值")]),i("span",[e._v(e._s(e.planet.value.power))])])]),i("div",[i("i",{style:{"background-image":"url("+n("43a8")+")"}}),i("div",[i("span",[e._v("糧食數值")]),i("span",[e._v(e._s(e.planet.value.food))])])]),i("div",[i("i",{style:{"background-image":"url("+n("43a8")+")"}}),i("div",[i("span",[e._v("娛樂數值")]),i("span",[e._v(e._s(e.planet.value.entertainment))])])])])])])])},h=[],g={props:{user:Object,planet:Object}},f=g,b=(n("e1f6"),Object(l["a"])(f,m,h,!1,null,"594457be",null)),v=b.exports,y={components:{PlanetInfoLevel:p,PlanetInfoPopulation:v},props:{user:Object,planet:Object}},_=y,x=(n("c138"),Object(l["a"])(_,i,a,!1,null,"3b090488",null));t["a"]=x.exports},fb8c:function(e,t,n){},fbe8:function(e,t,n){"use strict";var i=n("4aa1"),a=n.n(i);a.a},fce9:function(e,t,n){"use strict";var i=n("8277"),a=n.n(i);a.a},fcfb:function(e,t,n){e.exports=n.p+"img/sickle-active.476d8c4e.png"},fd61:function(e,t,n){},fde0:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user-profile-root"},[n("div",{attrs:{id:"head"}},[e._m(0),n("div",[n("h3",[e._v(e._s(e.user.username))]),n("h6",[e._v("稱號："+e._s(e.user.nickname))])])]),n("tab",{attrs:{navList:e.navList},on:{switchMenu:e.switchMenu}},[n("div",{attrs:{slot:"content"},slot:"content"},["星球列表"===e.currentMenu?n("planet-list",{attrs:{planetList:e.user.planetList.slice(1)}}):e._e(),"成就稱號"===e.currentMenu?n("achievement",{attrs:{achievements:e.user.achievements}}):e._e(),"建築圖鑑"===e.currentMenu?n("illustration"):e._e(),"遊戲設定"===e.currentMenu?n("setting"):e._e()],1)])],1)},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("img",{attrs:{src:n("3adb")}})])}],r=n("cebc"),o=(n("96cf"),n("3b8d")),s=n("8654"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"list-content"}},e._l(e.achievements,function(t){return n("div",[n("div",[n("h3",[e._v(e._s(t.title))]),n("span",[e._v(e._s(t.brief))])]),n("div",[t.state?n("div",{class:{use:t.state}},[n("span",[e._v("使用中")])]):n("div",{on:{click:function(n){return e.switchAchievement(t.title)}}},[n("span",[e._v("變更")])])])])}),0)},u=[],l=(n("ac6a"),{props:{achievements:Array},data:function(){return{}},methods:{switchAchievement:function(e){this.achievements.forEach(function(t){t.title===e?t.state=!0:t.state=!1})}}}),d=l,p=(n("182c"),n("2877")),m=Object(p["a"])(d,c,u,!1,null,"0cd8e2c9",null),h=m.exports,g=n("d596"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"list"},[e.buildingpage?n("modal-card-content",{on:{close:function(t){e.buildingpage=!e.buildingpage}}},[n("building-class",{attrs:{slot:"card",building:e.selectedBuilding,buildingInfo:e.buildings.building},slot:"card"})],1):e._e(),n("div",{staticClass:"illustration-content"},e._l(e.buildings.building,function(t,i){return n("div",[n("img",{attrs:{src:e.showImage(t)},on:{click:function(n){return e.chooseBuilding(t)}}})])}),0)],1)},b=[],v=(n("28a5"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"building-root"},[n("div",{staticClass:"title"},[n("h1",[e._v(e._s(e.building.name_zh))])]),n("div",{staticClass:"brief"},[n("div",{staticClass:"brief-building"},[n("p",{staticClass:"building-intro"},[e._v(e._s(e.building.description))])]),n("div",[n("img",{attrs:{src:e.transformImage.building(e.building.name_zh)}})]),n("span",[e._v("類別："+e._s(e.typeName))])]),e._m(0),n("div",{staticClass:"advance-brief"},e._l(e.buildingClass,function(t,i){return n("div",[n("img",{attrs:{src:e.transformImage.buildingLocked(t.name_zh)}})])}),0)])}),y=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"heading-default"},[n("h4",[e._v("建築升級")])])}],_=n("8e58"),x={name:"BuildingClass",props:{building:Object,buildingInfo:Array},data:function(){return{transformImage:_["a"],typeName:"",buildingClass:[]}},created:function(){this.checkNextBuilding(this.building),this.showType(this.building)},methods:{showType:function(e){var t=this.building.id.split("")[0];switch(t){case"c":this.typeName="基本建築";break;default:break}},checkNextBuilding:function(e){if("none"!==e.nextLevelId){var t=e.nextLevelId.split("")[1],n=this.buildingInfo[t];this.buildingClass.push(n),this.checkNextBuilding(n)}else this.buildingClass.push(e)}}},O=x,w=(n("414a"),Object(p["a"])(O,v,y,!1,null,"0ce3a90d",null)),C=w.exports,k=n("7c8e"),I=n("2f62"),T=n("4a3a"),S={name:"Illustration",components:{BuildingClass:C,ModalCardContent:k["a"]},data:function(){return{transformImage:_["a"],buildingpage:!1,selectedBuilding:{},buildings:{building:T.commonBuilding}}},computed:Object(r["a"])({},Object(I["e"])("planet",{architectureTechnology:function(e){return e.planet.architectureTechnology}})),methods:{showImage:function(e){var t=e.id.split("")[0];switch(t){case"c":return!0===this.architectureTechnology.commonBuilding[e.id]?this.transformImage.building(e.name_zh):this.transformImage.buildingLocked(e.name_zh);default:break}},chooseBuilding:function(e){var t=e.id.split("")[0];switch(t){case"c":!0===this.architectureTechnology.commonBuilding[e.id]&&(this.selectedBuilding=e,this.buildingpage=!0);break;default:break}}}},E=S,D=(n("b4336"),Object(p["a"])(E,f,b,!1,null,"56dabf5a",null)),B=D.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"list-content"},[e._m(0),n("div",{staticClass:"sound-content"},[n("div",{staticClass:"volume"},[n("img",{attrs:{src:e.volumeIcon}}),n("h1",[e._v("音樂")]),e._m(1)]),n("div",{staticClass:"sound-effect"},[n("img",{attrs:{src:e.soundIcon}}),n("h1",[e._v("音效")]),e._m(2)])]),e._m(3),n("div",{staticClass:"account-content"},[n("img",{attrs:{src:e.userIcon}}),n("h1",[e._v(e._s(e.username))]),n("h2",[e._v("登出")])])])},M=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sound-title"},[n("h1",[e._v("音樂音量")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"volume-circle"}),n("hr",{staticClass:"volume-line"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"sound-circle"}),n("hr",{staticClass:"sound-line"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"account-title"},[n("h1",[e._v("帳號設定")])])}],R={name:"Setting",data:function(){return{musicVolume:50,soundEffect:50,username:"TripleTien",volumeIcon:n("5bbc"),soundIcon:n("5bbc"),userIcon:n("5bbc")}}},L=R,N=(n("f4a5"),Object(p["a"])(L,j,M,!1,null,"233a3aa6",null)),A=N.exports,P={components:{Tab:s["a"],Achievement:h,PlanetList:g["a"],Illustration:B,Setting:A},name:"Profile",props:{user:Object},data:function(){return{navList:["星球列表","成就稱號","建築圖鑑","遊戲設定"],currentMenu:"星球列表"}},created:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getPlanetList();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:Object(r["a"])({},Object(I["b"])("user",["getPlanetList"]),{switchMenu:function(e){this.currentMenu=e}})},z=P,$=(n("fbe8"),Object(p["a"])(z,i,a,!1,null,"6b20b6d2",null));t["a"]=$.exports}});
//# sourceMappingURL=app.1d4bc464.js.map